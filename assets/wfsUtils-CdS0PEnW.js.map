{"version":3,"file":"wfsUtils-CdS0PEnW.js","sources":["../../node_modules/@arcgis/core/layers/ogc/wfsUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{find as r,cache as n}from\"../../core/iteratorUtils.js\";import{isHTTPSProtocol as a,hasSameOrigin as o,toHTTPS as s}from\"../../core/urlUtils.js\";import i from\"../../geometry/Extent.js\";import{initializeProjection as p,project as u}from\"../../geometry/projectionUtils.js\";import l from\"../../geometry/SpatialReference.js\";import{equals as c,wgs84 as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as f}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as y}from\"../graphics/sources/geojson/geojson.js\";import{visitXML as d,iterateXML as g}from\"./xmlUtils.js\";import{isArcGISUrl as w}from\"../support/arcgisLayerUrl.js\";import b from\"../support/Field.js\";import{getFieldDefaultLength as h}from\"../support/fieldUtils.js\";const T=\"xlink:href\",S=\"2.0.0\",F=\"__esri_wfs_id__\",x=\"wfs-layer:getWFSLayerTypeInfo-error\",C=\"wfs-layer:empty-service\",E=\"wfs-layer:feature-type-not-found\",R=\"wfs-layer:geojson-not-supported\",k=\"wfs-layer:kvp-encoding-not-supported\",P=\"wfs-layer:malformed-json\",j=\"wfs-layer:unknown-geometry-type\",A=\"wfs-layer:unknown-field-type\",N=\"wfs-layer:unsupported-spatial-reference\",G=\"wfs-layer:unsupported-wfs-version\";async function v(t,r){const n=U((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:S,...r?.customParameters},signal:r?.signal})).data);return D(t,n),n}function U(e){const t=te(e);ne(t),ae(t);const r=t.firstElementChild,a=n(O(r));return{operations:M(r),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const I=[\"json\",\"application/json; subtype=geojson; charset=utf-8\",\"application/json; subtype=geojson\",\"application/json\",\"geojson\",\"application/geo+json\"];function L(e){for(const t of I){const r=e.findIndex((e=>e.toLowerCase()===t));if(r>=0)return e[r]}return null}function M(e){let r=!0;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}},a=[],o=[];if(d(e,{OperationsMetadata:{Parameter:e=>{if(\"outputformat\"===e.getAttribute(\"name\")?.toLowerCase())return{AllowedValues:{Value:({textContent:e})=>{e&&a.push(e)}}}},Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(T)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(T)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(T)}}},Parameter:e=>{if(\"outputformat\"===e.getAttribute(\"name\")?.toLowerCase())return{AllowedValues:{Value:({textContent:e})=>{e&&o.push(e)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),n.GetFeature.outputFormat=L(o)??L(a),!r)throw new t(k,\"WFS service doesn't support key/value pair (KVP) encoding\");if(null==n.GetFeature.outputFormat)throw new t(R,\"WFS service doesn't support GeoJSON output format\");return n}function D(e,t){a(e)&&(o(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=s(t.operations.DescribeFeatureType.url)),o(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=s(t.operations.GetFeature.url)))}function V(e){const t=parseInt(e.textContent?.match(/(?<wkid>\\d+$)/i)?.groups?.wkid??\"\",10);if(!Number.isNaN(t))return t}function O(e){return g(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",defaultSpatialReference:4326,supportedSpatialReferences:[]},r=new Set;return d(e,{Name:e=>{const{name:r,prefix:n}=re(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=i.fromJSON($(e))},DefaultCRS:e=>{const n=V(e);n&&(t.defaultSpatialReference=n,r.add(n))},OtherCRS:e=>{const t=V(e);t&&r.add(t)}}),t.title||(t.title=t.name),r.add(4326),t.supportedSpatialReferences.push(...r),t}}})}function $(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:m}}function Y(e,t,n){return r(e,(e=>n?e.name===t&&e.namespaceUri===n:e.typeName===t||e.name===t))}async function W(e,t,r,n={}){const{featureType:a,extent:o}=await X(e,t,r,n),{spatialReference:s}=oe(e.operations.GetFeature.url,a,n.spatialReference),{fields:i,geometryType:p,swapXY:u,objectIdField:c,geometryField:m}=await q(e,a,s,n);return{url:e.operations.GetCapabilities.url,name:a.name,namespaceUri:a.namespaceUri,fields:i,geometryField:m,geometryType:p,objectIdField:c,spatialReference:n.spatialReference??new l({wkid:a.defaultSpatialReference}),extent:o,swapXY:u,wfsCapabilities:e,customParameters:n.customParameters}}async function X(e,r,n,a={}){const o=e.readFeatureTypes(),s=r?Y(o,r,n):o.next().value,{spatialReference:i=new l({wkid:s?.defaultSpatialReference})}=a;if(null==s)throw r?new t(E,`The type '${r}' could not be found in the service`):new t(C,\"The service is empty\");let m=s.extent;if(m&&!c(m.spatialReference,i))try{await p(m.spatialReference,i,void 0,a),m=u(m,i)}catch{throw new t(N,\"Projection not supported\")}return{extent:m,spatialReference:i,featureType:s}}async function q(e,r,n,a={}){const{typeName:o}=r,[s,i]=await Promise.allSettled([J(e.operations.DescribeFeatureType.url,o,a),_(e,o,n,a)]),p=e=>new t(x,`An error occurred while getting info about the feature type '${o}'`,{error:e});if(\"rejected\"===s.status)throw p(s.reason);if(\"rejected\"===i.status)throw p(i.reason);const{fields:u,errors:l}=s.value??{},c=s.value?.geometryType||i.value?.geometryType,m=i.value?.swapXY??!1;if(null==c)throw new t(j,`The geometry type could not be determined for type '${o}`,{typeName:o,geometryType:c,fields:u,errors:l});return{...z(u??[]),geometryType:c,swapXY:m}}function z(e){const t=e.find((e=>\"geometry\"===e.type));let r=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),r||(r=new b({name:F,type:\"oid\",alias:F}),e.unshift(r)),{geometryField:t?.name??null,objectIdField:r.name,fields:e}}async function _(t,r,n,a={}){let o,s=!1;const[i,p]=await Promise.all([K(t.operations.GetFeature.url,r,n,t.operations.GetFeature.outputFormat,{...a,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:Z(r,n,void 0,{...a,count:1}),signal:a?.signal})]),u=\"FeatureCollection\"===i.type&&i.features[0]?.geometry;if(u){let e;switch(o=f.fromJSON(y(u.type)),u.type){case\"Point\":e=u.coordinates;break;case\"LineString\":case\"MultiPoint\":e=u.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=u.coordinates[0][0];break;case\"MultiPolygon\":e=u.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(p.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(s=!0)}}return{geometryType:o,swapXY:s}}async function J(t,r,n){return Q(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:S,TYPENAME:r,TYPENAMES:r,...n?.customParameters},signal:n?.signal})).data)}function Q(e,n){const{name:a}=re(e),o=te(n);ae(o);const s=r(g(o.firstElementChild,{element:e=>e}),(e=>e.getAttribute(\"name\")===a));if(null!=s){const e=s.getAttribute(\"type\"),t=e?r(g(o.firstElementChild,{complexType:e=>e}),(t=>t.getAttribute(\"name\")===re(e).name)):r(g(s,{complexType:e=>e}),(()=>!0));if(t)return B(t)}throw new t(E,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(o)})}const H=new Set([\"objectid\",\"fid\"]);function B(e){const r=[],n=[];let a;const o=g(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const s of o){const o=s.getAttribute(\"name\");if(!o)continue;let i,p;if(s.hasAttribute(\"type\")?i=re(s.getAttribute(\"type\")).name:d(s,{simpleType:{restriction:e=>(i=re(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!i)continue;const u=\"true\"===s.getAttribute(\"nillable\");let l=!1;switch(i.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":n.push(new b({name:o,alias:o,type:\"integer\",nullable:u,length:h(\"integer\")}));break;case\"float\":case\"double\":case\"decimal\":n.push(new b({name:o,alias:o,type:\"double\",nullable:u,length:h(\"double\")}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":n.push(new b({name:o,alias:o,type:\"string\",nullable:u,length:p??h(\"string\")}));break;case\"datetime\":case\"date\":n.push(new b({name:o,alias:o,type:\"date\",nullable:u,length:p??h(\"date\")}));break;case\"pointpropertytype\":a=\"point\",l=!0;break;case\"multipointpropertytype\":a=\"multipoint\",l=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":a=\"polyline\",l=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":a=\"polygon\",l=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":l=!0,r.push(new t(j,`geometry type '${i}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new t(A,`Unknown field type '${i}'`,{type:(new XMLSerializer).serializeToString(e)}))}l&&n.push(new b({name:o,alias:o,type:\"geometry\",nullable:u}))}for(const t of n)if(\"integer\"===t.type&&!t.nullable&&H.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:a,fields:n,errors:r}}async function K(r,n,a,o,s){let{data:i}=await e(r,{responseType:\"text\",query:Z(n,a,o,s),signal:s?.signal});i=i.replaceAll(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{return JSON.parse(i)}catch(p){throw new t(P,\"Error while parsing theÂ response\",{response:i,error:p})}}function Z(e,t,r,n){const a=\"number\"==typeof t?t:t.wkid;return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:S,TYPENAMES:e,OUTPUTFORMAT:r,SRSNAME:\"EPSG:\"+a,STARTINDEX:n?.startIndex,COUNT:n?.count,...n?.customParameters}}async function ee(t,r,n){const a=await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:S,TYPENAMES:r,RESULTTYPE:\"hits\",...n?.customParameters},signal:n?.signal}),o=/numberMatched=[\"'](?<numberMatched>\\d+)[\"']/gi.exec(a.data);if(o?.groups)return+o.groups.numberMatched}function te(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function re(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:r??t}}function ne(e){const r=e.firstElementChild?.getAttribute(\"version\");if(r&&r!==S)throw new t(G,`Unsupported WFS version ${r}. Supported version: ${S}`)}function ae(e){let r=\"\",n=\"\";if(d(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}function oe(e,t,r){const n={wkid:t.defaultSpatialReference},a=null!=r?.wkid?{wkid:r.wkid}:n;return{spatialReference:a,getFeatureSpatialReference:w(e)||a.wkid&&t.supportedSpatialReferences.includes(a.wkid)?{wkid:a.wkid}:{wkid:t.defaultSpatialReference}}}export{J as describeFeatureType,Y as findFeatureType,v as getCapabilities,K as getFeature,ee as getFeatureCount,X as getFeatureTypeInfo,oe as getGetFeatureSpatialReference,W as getWFSLayerInfo,Q as parseDescribeFeatureTypeResponse,U as parseGetCapabilitiesResponse,z as prepareWFSLayerFields,F as wfsOidFieldName};\n"],"names":["T","S","F","x","C","E","R","k","P","j","A","N","G","v","t","r","n","U","e","D","te","ne","ae","O","M","I","L","o","d","_a","a","s","V","_c","_b","g","re","i","$","m","Y","W","X","oe","p","u","c","q","l","J","_","z","b","K","Z","f","y","Q","B","H","h","ee","w"],"mappings":"kQAI61B,MAACA,EAAE,aAAaC,EAAE,QAAQC,EAAE,kBAAkBC,EAAE,sCAAsCC,EAAE,0BAA0BC,EAAE,mCAAmCC,EAAE,kCAAkCC,EAAE,uCAAuCC,EAAE,2BAA2BC,EAAE,kCAAkCC,EAAE,+BAA+BC,EAAE,0CAA0CC,GAAE,oCAAoC,eAAeC,GAAEC,EAAEC,EAAE,CAAC,MAAMC,EAAEC,IAAG,MAAMC,EAAEJ,EAAE,CAAC,aAAa,OAAO,MAAM,CAAC,QAAQ,MAAM,QAAQ,kBAAkB,QAAQb,EAAE,GAAGc,GAAA,YAAAA,EAAG,gBAAgB,EAAE,OAAOA,GAAA,YAAAA,EAAG,MAAM,CAAC,GAAG,IAAI,EAAE,OAAOI,GAAEL,EAAEE,CAAC,EAAEA,CAAC,CAAC,SAASC,GAAEC,EAAE,CAAC,MAAM,EAAEE,EAAGF,CAAC,EAAEG,GAAG,CAAC,EAAEC,EAAG,CAAC,EAAE,MAAMP,EAAE,EAAE,kBAAkB,EAAEC,EAAEO,GAAER,CAAC,CAAC,EAAE,MAAM,CAAC,WAAWS,GAAET,CAAC,EAAE,IAAI,cAAc,CAAC,OAAO,MAAM,KAAK,EAAC,CAAE,CAAC,EAAE,iBAAiB,CAAC,CAAC,CAAC,MAAMU,GAAE,CAAC,OAAO,mDAAmD,oCAAoC,mBAAmB,UAAU,sBAAsB,EAAE,SAASC,EAAER,EAAE,CAAC,UAAU,KAAKO,GAAE,CAAC,MAAMV,EAAEG,EAAE,WAAWA,GAAGA,EAAE,YAAW,IAAK,EAAC,EAAG,GAAGH,GAAG,EAAE,OAAOG,EAAEH,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,SAASS,GAAEN,EAAE,CAAC,IAAIH,EAAE,GAAG,MAAMC,EAAE,CAAC,gBAAgB,CAAC,IAAI,EAAE,EAAE,oBAAoB,CAAC,IAAI,EAAE,EAAE,WAAW,CAAC,IAAI,GAAG,aAAa,KAAK,mBAAmB,EAAE,CAAC,EAAE,EAAE,GAAGW,EAAE,CAAA,EAAG,GAAGC,EAAEV,EAAE,CAAC,mBAAmB,CAAC,UAAUA,GAAG,OAAC,KAAoBW,EAAAX,EAAE,aAAa,MAAM,IAArB,YAAAW,EAAwB,iBAAzC,eAAuD,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,YAAYX,CAAC,IAAI,CAACA,GAAG,EAAE,KAAKA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,UAAUA,GAAG,CAAC,OAAOA,EAAE,aAAa,MAAM,EAAC,CAAE,IAAI,kBAAkB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAIA,GAAG,CAACF,EAAE,gBAAgB,IAAIE,EAAE,aAAalB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,sBAAsB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAIkB,GAAG,CAACF,EAAE,oBAAoB,IAAIE,EAAE,aAAalB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,aAAa,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAIkB,GAAG,CAACF,EAAE,WAAW,IAAIE,EAAE,aAAalB,CAAC,CAAC,CAAC,CAAC,EAAE,UAAUkB,GAAG,OAAC,KAAoBW,EAAAX,EAAE,aAAa,MAAM,IAArB,YAAAW,EAAwB,iBAAzC,eAAuD,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,YAAYX,CAAC,IAAI,CAACA,GAAGS,EAAE,KAAKT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,WAAWA,GAAG,CAAC,OAAOA,EAAE,aAAa,MAAM,EAAC,CAAE,IAAI,cAAc,MAAM,CAAC,aAAaA,GAAG,CAACH,EAAWG,EAAE,YAAY,YAAW,IAAlC,MAAoC,CAAC,EAAE,IAAI,yBAAyB,MAAM,CAAC,aAAaA,GAAG,CAACF,EAAE,WAAW,mBAA4BE,EAAE,YAAY,YAAW,IAAlC,MAAoC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEF,EAAE,WAAW,aAAaU,EAAEC,CAAC,GAAGD,EAAE,CAAC,EAAE,CAACX,EAAE,MAAM,IAAID,EAAEP,EAAE,2DAA2D,EAAE,GAASS,EAAE,WAAW,cAAnB,KAAgC,MAAM,IAAIF,EAAER,EAAE,mDAAmD,EAAE,OAAOU,CAAC,CAAC,SAASG,GAAED,EAAE,EAAE,CAACY,EAAEZ,CAAC,IAAIS,EAAET,EAAE,EAAE,WAAW,oBAAoB,IAAI,EAAE,IAAI,EAAE,WAAW,oBAAoB,IAAIa,EAAE,EAAE,WAAW,oBAAoB,GAAG,GAAGJ,EAAET,EAAE,EAAE,WAAW,WAAW,IAAI,EAAE,IAAI,EAAE,WAAW,WAAW,IAAIa,EAAE,EAAE,WAAW,WAAW,GAAG,GAAG,CAAC,SAASC,EAAEd,EAAE,WAAC,MAAM,EAAE,WAASe,GAAAC,GAAAL,EAAAX,EAAE,cAAF,YAAAW,EAAe,MAAM,oBAArB,YAAAK,EAAwC,SAAxC,YAAAD,EAAgD,OAAM,GAAG,EAAE,EAAE,GAAG,CAAC,OAAO,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC,SAASV,GAAEL,EAAE,CAAC,OAAOiB,EAAEjB,EAAE,CAAC,gBAAgB,CAAC,YAAYA,GAAG,CAAC,MAAMJ,EAAE,CAAC,SAAS,sBAAsB,KAAK,GAAG,MAAM,GAAG,YAAY,GAAG,OAAO,KAAK,gBAAgB,GAAG,aAAa,GAAG,wBAAwB,KAAK,2BAA2B,CAAA,CAAE,EAAEC,EAAE,IAAI,IAAI,OAAOa,EAAEV,EAAE,CAAC,KAAKA,GAAG,CAAC,KAAK,CAAC,KAAKH,EAAE,OAAOC,CAAC,EAAEoB,EAAGlB,EAAE,WAAW,EAAEJ,EAAE,SAAS,GAAGE,CAAC,IAAID,CAAC,GAAGD,EAAE,KAAKC,EAAED,EAAE,gBAAgBE,EAAEF,EAAE,aAAaI,EAAE,mBAAmBF,CAAC,CAAC,EAAE,SAASE,GAAG,CAACJ,EAAE,YAAYI,EAAE,WAAW,EAAE,MAAMA,GAAG,CAACJ,EAAE,MAAMI,EAAE,WAAW,EAAE,iBAAiBA,GAAG,CAACJ,EAAE,OAAOuB,EAAE,SAASC,GAAEpB,CAAC,CAAC,CAAC,EAAE,WAAWA,GAAG,CAAC,MAAMF,EAAEgB,EAAEd,CAAC,EAAEF,IAAIF,EAAE,wBAAwBE,EAAED,EAAE,IAAIC,CAAC,EAAE,EAAE,SAASE,GAAG,CAAC,MAAMJ,EAAEkB,EAAEd,CAAC,EAAEJ,GAAGC,EAAE,IAAID,CAAC,CAAC,CAAC,CAAC,EAAEA,EAAE,QAAQA,EAAE,MAAMA,EAAE,MAAMC,EAAE,IAAI,IAAI,EAAED,EAAE,2BAA2B,KAAK,GAAGC,CAAC,EAAED,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAASwB,GAAEpB,EAAE,CAAC,IAAI,EAAEH,EAAEC,EAAEc,EAAE,UAAU,KAAKZ,EAAE,SAAS,OAAO,EAAE,UAAS,CAAE,IAAI,cAAc,CAAC,EAAEH,CAAC,EAAE,EAAE,YAAY,MAAM,GAAG,EAAE,KAAKG,GAAG,OAAO,WAAWA,CAAC,EAAC,EAAG,MAAM,IAAI,cAAc,CAACF,EAAEc,CAAC,EAAE,EAAE,YAAY,MAAM,GAAG,EAAE,KAAKZ,GAAG,OAAO,WAAWA,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,KAAKH,EAAE,KAAKC,EAAE,KAAKc,EAAE,iBAAiBS,CAAC,CAAC,CAAC,SAASC,GAAEtB,EAAE,EAAEF,EAAE,CAAC,OAAOD,EAAEG,GAAGA,GAAGF,EAAEE,EAAE,OAAO,GAAGA,EAAE,eAAeF,EAAEE,EAAE,WAAW,GAAGA,EAAE,OAAO,EAAC,CAAE,CAAC,eAAeuB,GAAEvB,EAAE,EAAEH,EAAEC,EAAE,CAAA,EAAG,CAAC,KAAK,CAAC,YAAYc,EAAE,OAAO,CAAC,EAAE,MAAMY,GAAExB,EAAE,EAAEH,EAAEC,CAAC,EAAE,CAAC,iBAAiB,CAAC,EAAE2B,GAAGzB,EAAE,WAAW,WAAW,IAAIY,EAAEd,EAAE,gBAAgB,EAAE,CAAC,OAAO,EAAE,aAAa4B,EAAE,OAAOC,EAAE,cAAcC,EAAE,cAAcP,CAAC,EAAE,MAAMQ,GAAE7B,EAAEY,EAAE,EAAEd,CAAC,EAAE,MAAM,CAAC,IAAIE,EAAE,WAAW,gBAAgB,IAAI,KAAKY,EAAE,KAAK,aAAaA,EAAE,aAAa,OAAO,EAAE,cAAcS,EAAE,aAAaK,EAAE,cAAcE,EAAE,iBAAiB9B,EAAE,kBAAkB,IAAIgC,EAAE,CAAC,KAAKlB,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,OAAOe,EAAE,gBAAgB3B,EAAE,iBAAiBF,EAAE,gBAAgB,CAAC,CAAC,eAAe0B,GAAExB,EAAEH,EAAEC,EAAE,EAAE,GAAG,CAAC,MAAMW,EAAET,EAAE,iBAAgB,EAAGa,EAAEhB,EAAEyB,GAAEb,EAAEZ,EAAEC,CAAC,EAAEW,EAAE,KAAI,EAAG,MAAM,CAAC,iBAAiBU,EAAE,IAAIW,EAAE,CAAC,KAAKjB,GAAAA,YAAAA,EAAG,uBAAuB,CAAC,CAAC,EAAE,EAAE,GAASA,GAAN,KAAQ,MAAMhB,EAAE,IAAID,EAAET,EAAE,aAAaU,CAAC,qCAAqC,EAAE,IAAID,EAAEV,EAAE,sBAAsB,EAAE,IAAImC,EAAER,EAAE,OAAO,GAAGQ,GAAG,CAACO,EAAEP,EAAE,iBAAiBF,CAAC,EAAE,GAAG,CAAC,MAAMO,EAAEL,EAAE,iBAAiBF,EAAE,OAAO,CAAC,EAAEE,EAAEM,EAAEN,EAAEF,CAAC,CAAC,MAAM,CAAC,MAAM,IAAIvB,EAAEH,EAAE,0BAA0B,CAAC,CAAC,MAAM,CAAC,OAAO4B,EAAE,iBAAiBF,EAAE,YAAYN,CAAC,CAAC,CAAC,eAAegB,GAAE7B,EAAEH,EAAEC,EAAE,EAAE,CAAA,EAAG,WAAC,KAAK,CAAC,SAASW,CAAC,EAAEZ,EAAE,CAACgB,EAAEM,CAAC,EAAE,MAAM,QAAQ,WAAW,CAACY,GAAE/B,EAAE,WAAW,oBAAoB,IAAIS,EAAE,CAAC,EAAEuB,GAAEhC,EAAES,EAAEX,EAAE,CAAC,CAAC,CAAC,EAAE4B,EAAE1B,GAAG,IAAIJ,EAAEX,EAAE,gEAAgEwB,CAAC,IAAI,CAAC,MAAMT,CAAC,CAAC,EAAE,GAAgBa,EAAE,SAAf,WAAsB,MAAMa,EAAEb,EAAE,MAAM,EAAE,GAAgBM,EAAE,SAAf,WAAsB,MAAMO,EAAEP,EAAE,MAAM,EAAE,KAAK,CAAC,OAAO,EAAE,OAAOW,CAAC,EAAEjB,EAAE,OAAO,CAAA,EAAGe,IAAEjB,EAAAE,EAAE,QAAF,YAAAF,EAAS,iBAAcK,EAAAG,EAAE,QAAF,YAAAH,EAAS,cAAaK,IAAEN,EAAAI,EAAE,QAAF,YAAAJ,EAAS,SAAQ,GAAG,GAASa,GAAN,KAAQ,MAAM,IAAIhC,EAAEL,EAAE,uDAAuDkB,CAAC,GAAG,CAAC,SAASA,EAAE,aAAamB,EAAE,OAAO,EAAE,OAAOE,CAAC,CAAC,EAAE,MAAM,CAAC,GAAGG,GAAE,GAAG,CAAA,CAAE,EAAE,aAAaL,EAAE,OAAOP,CAAC,CAAC,CAAC,SAASY,GAAEjC,EAAE,CAAC,MAAM,EAAEA,EAAE,MAAMA,GAAgBA,EAAE,OAAf,WAAmB,EAAG,IAAIH,EAAEG,EAAE,MAAMA,GAAWA,EAAE,OAAV,MAAc,EAAG,OAAOA,EAAEA,EAAE,QAAQA,GAAgBA,EAAE,OAAf,aAAsBH,IAAIA,EAAE,IAAIqC,EAAE,CAAC,KAAKlD,EAAE,KAAK,MAAM,MAAMA,CAAC,CAAC,EAAEgB,EAAE,QAAQH,CAAC,GAAG,CAAC,eAAc,iBAAG,OAAM,KAAK,cAAcA,EAAE,KAAK,OAAOG,CAAC,CAAC,CAAC,eAAegC,GAAEpC,EAAEC,EAAEC,EAAE,EAAE,GAAG,OAAC,IAAIW,EAAEI,EAAE,GAAG,KAAK,CAACM,EAAEO,CAAC,EAAE,MAAM,QAAQ,IAAI,CAACS,GAAEvC,EAAE,WAAW,WAAW,IAAIC,EAAEC,EAAEF,EAAE,WAAW,WAAW,aAAa,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,EAAEI,EAAEJ,EAAE,WAAW,WAAW,IAAI,CAAC,aAAa,OAAO,MAAMwC,EAAEvC,EAAEC,EAAE,OAAO,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,EAAE,OAAO,iBAAG,MAAM,CAAC,CAAC,CAAC,EAAE6B,EAAwBR,EAAE,OAAxB,uBAA8BR,EAAAQ,EAAE,SAAS,CAAC,IAAZ,YAAAR,EAAe,UAAS,GAAGgB,EAAE,CAAC,IAAI3B,EAAE,OAAOS,EAAE4B,EAAE,SAASC,EAAEX,EAAE,IAAI,CAAC,EAAEA,EAAE,KAAI,CAAE,IAAI,QAAQ3B,EAAE2B,EAAE,YAAY,MAAM,IAAI,aAAa,IAAI,aAAa3B,EAAE2B,EAAE,YAAY,CAAC,EAAE,MAAM,IAAI,kBAAkB,IAAI,UAAU3B,EAAE2B,EAAE,YAAY,CAAC,EAAE,CAAC,EAAE,MAAM,IAAI,eAAe3B,EAAE2B,EAAE,YAAY,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM/B,EAAE,uDAAuD,KAAK8B,EAAE,IAAI,EAAE,GAAG9B,EAAE,CAAC,MAAMC,EAAEG,EAAE,CAAC,EAAE,QAAQ,CAAC,EAAEF,EAAEE,EAAE,CAAC,EAAE,QAAQ,CAAC,EAAEY,EAAE,WAAWhB,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAEC,IAAI,WAAWD,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,GAAGE,IAAIc,IAAIC,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,aAAaJ,EAAE,OAAOI,CAAC,CAAC,CAAC,eAAekB,GAAEnC,EAAEC,EAAEC,EAAE,CAAC,OAAOyC,GAAE1C,GAAG,MAAMG,EAAEJ,EAAE,CAAC,aAAa,OAAO,MAAM,CAAC,QAAQ,MAAM,QAAQ,sBAAsB,QAAQb,EAAE,SAASc,EAAE,UAAUA,EAAE,GAAGC,GAAA,YAAAA,EAAG,gBAAgB,EAAE,OAAOA,GAAA,YAAAA,EAAG,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,SAASyC,GAAEvC,EAAEF,EAAE,CAAC,KAAK,CAAC,KAAKc,CAAC,EAAEM,EAAGlB,CAAC,EAAES,EAAEP,EAAGJ,CAAC,EAAEM,EAAGK,CAAC,EAAE,MAAMI,EAAEhB,EAAEoB,EAAER,EAAE,kBAAkB,CAAC,QAAQT,GAAGA,CAAC,CAAC,GAAGA,GAAGA,EAAE,aAAa,MAAM,IAAIY,EAAC,EAAG,GAASC,GAAN,KAAQ,CAAC,MAAMb,EAAEa,EAAE,aAAa,MAAM,EAAEjB,EAAEI,EAAEH,EAAEoB,EAAER,EAAE,kBAAkB,CAAC,YAAYT,GAAGA,CAAC,CAAC,GAAGJ,GAAGA,EAAE,aAAa,MAAM,IAAIsB,EAAGlB,CAAC,EAAE,KAAI,EAAGH,EAAEoB,EAAEJ,EAAE,CAAC,YAAYb,GAAGA,CAAC,CAAC,GAAG,IAAI,GAAE,EAAG,GAAGJ,EAAE,OAAO4C,GAAE5C,CAAC,CAAC,CAAC,MAAM,IAAIA,EAAET,EAAE,SAASa,CAAC,0BAA0B,CAAC,SAAU,IAAI,gBAAe,kBAAkBS,CAAC,CAAC,CAAC,CAAC,CAAC,MAAMgC,GAAE,IAAI,IAAI,CAAC,WAAW,KAAK,CAAC,EAAE,SAASD,GAAExC,EAAE,CAAC,MAAMH,EAAE,CAAA,EAAGC,EAAE,CAAA,EAAG,IAAI,EAAE,MAAMW,EAAEQ,EAAEjB,EAAE,CAAC,eAAe,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQA,GAAGA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,UAAUa,KAAKJ,EAAE,CAAC,MAAMA,EAAEI,EAAE,aAAa,MAAM,EAAE,GAAG,CAACJ,EAAE,SAAS,IAAI,EAAEiB,EAAE,GAAGb,EAAE,aAAa,MAAM,EAAE,EAAEK,EAAGL,EAAE,aAAa,MAAM,CAAC,EAAE,KAAKH,EAAEG,EAAE,CAAC,WAAW,CAAC,YAAYb,IAAI,EAAEkB,EAAGlB,EAAE,aAAa,MAAM,CAAC,EAAE,KAAK,CAAC,UAAUA,GAAG,CAAC0B,EAAE,CAAC1B,EAAE,aAAa,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,SAAS,MAAM2B,EAAWd,EAAE,aAAa,UAAU,IAAlC,OAAoC,IAAIiB,EAAE,GAAG,OAAO,EAAE,cAAa,CAAE,IAAI,UAAU,IAAI,qBAAqB,IAAI,kBAAkB,IAAI,OAAO,IAAI,MAAM,IAAI,QAAQ,IAAI,OAAO,IAAI,qBAAqB,IAAI,eAAe,IAAI,cAAc,IAAI,gBAAgB,IAAI,eAAe,IAAI,kBAAkBhC,EAAE,KAAK,IAAIoC,EAAE,CAAC,KAAKzB,EAAE,MAAMA,EAAE,KAAK,UAAU,SAASkB,EAAE,OAAOe,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,MAAM,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU5C,EAAE,KAAK,IAAIoC,EAAE,CAAC,KAAKzB,EAAE,MAAMA,EAAE,KAAK,SAAS,SAASkB,EAAE,OAAOe,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,IAAI,UAAU,IAAI,SAAS,IAAI,aAAa,IAAI,QAAQ,IAAI,YAAY,IAAI,OAAO,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,mBAAmB,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,SAAS,IAAI,KAAK,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,OAAO5C,EAAE,KAAK,IAAIoC,EAAE,CAAC,KAAKzB,EAAE,MAAMA,EAAE,KAAK,SAAS,SAASkB,EAAE,OAAOD,GAAGgB,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,IAAI,WAAW,IAAI,OAAO5C,EAAE,KAAK,IAAIoC,EAAE,CAAC,KAAKzB,EAAE,MAAMA,EAAE,KAAK,OAAO,SAASkB,EAAE,OAAOD,GAAGgB,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,IAAI,oBAAoB,EAAE,QAAQZ,EAAE,GAAG,MAAM,IAAI,yBAAyB,EAAE,aAAaA,EAAE,GAAG,MAAM,IAAI,oBAAoB,IAAI,yBAAyB,IAAI,8BAA8B,EAAE,WAAWA,EAAE,GAAG,MAAM,IAAI,sBAAsB,IAAI,2BAA2B,IAAI,2BAA2B,EAAE,UAAUA,EAAE,GAAG,MAAM,IAAI,uBAAuB,IAAI,4BAA4BA,EAAE,GAAGjC,EAAE,KAAK,IAAID,EAAEL,EAAE,kBAAkB,CAAC,qBAAqB,CAAC,KAAM,IAAI,gBAAe,kBAAkBS,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,QAAQH,EAAE,KAAK,IAAID,EAAEJ,EAAE,uBAAuB,CAAC,IAAI,CAAC,KAAM,IAAI,gBAAe,kBAAkBQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC8B,GAAGhC,EAAE,KAAK,IAAIoC,EAAE,CAAC,KAAKzB,EAAE,MAAMA,EAAE,KAAK,WAAW,SAASkB,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU/B,KAAKE,EAAE,GAAeF,EAAE,OAAd,WAAoB,CAACA,EAAE,UAAU6C,GAAE,IAAI7C,EAAE,KAAK,YAAW,CAAE,EAAE,CAACA,EAAE,KAAK,MAAM,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,OAAOE,EAAE,OAAOD,CAAC,CAAC,CAAC,eAAesC,GAAE,EAAErC,EAAEc,EAAEH,EAAEI,EAAE,CAAC,GAAG,CAAC,KAAKM,CAAC,EAAE,MAAMnB,EAAE,EAAE,CAAC,aAAa,OAAO,MAAMoC,EAAEtC,EAAEc,EAAEH,EAAEI,CAAC,EAAE,OAAOA,GAAA,YAAAA,EAAG,MAAM,CAAC,EAAEM,EAAEA,EAAE,WAAW,yBAAyB,YAAY,EAAE,GAAG,CAAC,OAAO,KAAK,MAAMA,CAAC,CAAC,OAAOO,EAAE,CAAC,MAAM,IAAI9B,EAAEN,EAAE,mCAAmC,CAAC,SAAS6B,EAAE,MAAMO,CAAC,CAAC,CAAC,CAAC,CAAC,SAASU,EAAEpC,EAAE,EAAEH,EAAEC,EAAE,CAAC,MAAMc,EAAY,OAAO,GAAjB,SAAmB,EAAE,EAAE,KAAK,MAAM,CAAC,QAAQ,MAAM,QAAQ,aAAa,QAAQ7B,EAAE,UAAUiB,EAAE,aAAaH,EAAE,QAAQ,QAAQe,EAAE,WAAWd,GAAA,YAAAA,EAAG,WAAW,MAAMA,GAAA,YAAAA,EAAG,MAAM,GAAGA,GAAA,YAAAA,EAAG,gBAAgB,CAAC,CAAC,eAAe6C,GAAG/C,EAAEC,EAAEC,EAAE,CAAC,MAAM,EAAE,MAAME,EAAEJ,EAAE,CAAC,aAAa,OAAO,MAAM,CAAC,QAAQ,MAAM,QAAQ,aAAa,QAAQb,EAAE,UAAUc,EAAE,WAAW,OAAO,GAAGC,GAAA,YAAAA,EAAG,gBAAgB,EAAE,OAAOA,GAAA,YAAAA,EAAG,MAAM,CAAC,EAAEW,EAAE,gDAAgD,KAAK,EAAE,IAAI,EAAE,GAAGA,GAAA,MAAAA,EAAG,OAAO,MAAM,CAACA,EAAE,OAAO,aAAa,CAAC,SAASP,EAAGF,EAAE,CAAC,OAAO,IAAI,YAAW,gBAAgBA,EAAE,OAAO,UAAU,CAAC,CAAC,SAASkB,EAAGlB,EAAE,CAAC,KAAK,CAAC,EAAEH,CAAC,EAAEG,EAAE,MAAM,GAAG,EAAE,MAAM,CAAC,OAAOH,EAAE,EAAE,GAAG,KAAKA,GAAG,CAAC,CAAC,CAAC,SAASM,GAAGH,EAAE,OAAC,MAAMH,GAAEc,EAAAX,EAAE,oBAAF,YAAAW,EAAqB,aAAa,WAAW,GAAGd,GAAGA,IAAId,EAAE,MAAM,IAAIa,EAAEF,GAAE,2BAA2BG,CAAC,wBAAwBd,CAAC,EAAE,CAAC,CAAC,SAASqB,EAAGJ,EAAE,CAAC,IAAIH,EAAE,GAAGC,EAAE,GAAG,GAAGY,EAAEV,EAAE,kBAAkB,CAAC,UAAUA,IAAIH,EAAEG,EAAE,aAAa,eAAe,EAAE,CAAC,cAAcA,GAAG,CAACF,EAAEE,EAAE,WAAW,CAAC,EAAE,CAAC,EAAEH,EAAE,MAAM,IAAID,EAAE,aAAaC,CAAC,GAAGC,CAAC,CAAC,CAAC,SAAS2B,GAAGzB,EAAE,EAAEH,EAAE,CAAC,MAAMC,EAAE,CAAC,KAAK,EAAE,uBAAuB,EAAEc,GAAQf,GAAA,YAAAA,EAAG,OAAT,KAAc,CAAC,KAAKA,EAAE,IAAI,EAAEC,EAAE,MAAM,CAAC,iBAAiBc,EAAE,2BAA2BgC,EAAE5C,CAAC,GAAGY,EAAE,MAAM,EAAE,2BAA2B,SAASA,EAAE,IAAI,EAAE,CAAC,KAAKA,EAAE,IAAI,EAAE,CAAC,KAAK,EAAE,uBAAuB,CAAC,CAAC","x_google_ignoreList":[0]}