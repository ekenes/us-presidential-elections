{"version":3,"file":"RadialLabel-Dly-Dgkk.js","sources":["../../node_modules/@amcharts/amcharts5/.internal/core/render/RadialText.js","../../node_modules/@amcharts/amcharts5/.internal/core/render/RadialLabel.js"],"sourcesContent":["import { Text } from \"./Text\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * @ignore\r\n */\r\nexport class RadialText extends Text {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this._root._renderer.makeRadialText(\"\", this.textStyle)\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        this._display.clear();\r\n        if (this.isDirty(\"textType\")) {\r\n            this._display.textType = this.get(\"textType\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"radius\")) {\r\n            this._display.radius = this.get(\"radius\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"startAngle\")) {\r\n            this._display.startAngle = (this.get(\"startAngle\", 0) + 90) * $math.RADIANS;\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"inside\")) {\r\n            this._display.inside = this.get(\"inside\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"orientation\")) {\r\n            this._display.orientation = this.get(\"orientation\");\r\n            this.markDirtyBounds();\r\n        }\r\n        if (this.isDirty(\"kerning\")) {\r\n            this._display.kerning = this.get(\"kerning\");\r\n            this.markDirtyBounds();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(RadialText, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"RadialText\"\r\n});\r\nObject.defineProperty(RadialText, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Text.classNames.concat([RadialText.className])\r\n});\r\n//# sourceMappingURL=RadialText.js.map","// import * as $object from \"../util/Object\";\r\nimport { p50, Percent } from \"../util/Percent\";\r\nimport { Label } from \"./Label\";\r\nimport { RadialText } from \"./RadialText\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $utils from \"../util/Utils\";\r\nexport class RadialLabel extends Label {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_flipped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._textKeys.push(\"textType\", \"kerning\");\r\n        super._afterNew();\r\n    }\r\n    _makeText() {\r\n        this._text = this.children.push(RadialText.new(this._root, {}));\r\n    }\r\n    /**\r\n     * Returns base radius in pixels.\r\n     *\r\n     * @return Base radius\r\n     */\r\n    baseRadius() {\r\n        const radiusPrivate = this.getPrivate(\"radius\", 0);\r\n        const innerRadiusPrivate = this.getPrivate(\"innerRadius\", 0);\r\n        const baseRadius = this.get(\"baseRadius\", 0);\r\n        return innerRadiusPrivate + $utils.relativeToValue(baseRadius, radiusPrivate - innerRadiusPrivate);\r\n    }\r\n    /**\r\n     * Returns radius adjustment in pixels.\r\n     *\r\n     * @return Radius\r\n     */\r\n    radius() {\r\n        const inside = this.get(\"inside\", false);\r\n        return this.baseRadius() + this.get(\"radius\", 0) * (inside ? -1 : 1);\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        if (this.isDirty(\"baseRadius\") || this.isPrivateDirty(\"radius\") || this.isPrivateDirty(\"innerRadius\") || this.isDirty(\"labelAngle\") || this.isDirty(\"radius\") || this.isDirty(\"inside\") || this.isDirty(\"orientation\") || this.isDirty(\"textType\")) {\r\n            const textType = this.get(\"textType\", \"adjusted\");\r\n            const inside = this.get(\"inside\", false);\r\n            const orientation = this.get(\"orientation\");\r\n            let labelAngle = $math.normalizeAngle(this.get(\"labelAngle\", 0));\r\n            this._text.set(\"startAngle\", this.get(\"labelAngle\", 0));\r\n            this._text.set(\"inside\", inside);\r\n            const sin = $math.sin(labelAngle);\r\n            const cos = $math.cos(labelAngle);\r\n            let baseRadius = this.baseRadius();\r\n            let radius = this.radius();\r\n            this._display.angle = 0;\r\n            if (textType == \"circular\") {\r\n                this.setAll({\r\n                    paddingTop: 0,\r\n                    paddingBottom: 0,\r\n                    paddingLeft: 0,\r\n                    paddingRight: 0\r\n                });\r\n                this.setRaw(\"x\", undefined);\r\n                this.setRaw(\"y\", undefined);\r\n                // Circular labels are handled and positioned differently\r\n                this._text.set(\"orientation\", orientation);\r\n                this._text.set(\"radius\", radius);\r\n            }\r\n            else {\r\n                if (baseRadius == 0) {\r\n                    labelAngle = 0;\r\n                    radius = 0;\r\n                }\r\n                // Positioning of radial/regular labels are teh same\r\n                let x = radius * cos;\r\n                let y = radius * sin;\r\n                if (textType == \"radial\") {\r\n                    this.setRaw(\"x\", x);\r\n                    this.setRaw(\"y\", y);\r\n                    if ((labelAngle < 90) || (labelAngle > 270) || orientation != \"auto\") {\r\n                        this._display.angle = labelAngle; // + 90;\r\n                        this._flipped = false;\r\n                    }\r\n                    else {\r\n                        this._display.angle = labelAngle + 180;\r\n                        this._flipped = true;\r\n                    }\r\n                    this._dirty.rotation = false;\r\n                }\r\n                else if (textType == \"adjusted\") {\r\n                    this.setRaw(\"centerX\", p50);\r\n                    this.setRaw(\"centerY\", p50);\r\n                    this.setRaw(\"x\", x);\r\n                    this.setRaw(\"y\", y);\r\n                }\r\n                else if (textType == \"regular\") {\r\n                    this.setRaw(\"x\", x);\r\n                    this.setRaw(\"y\", y);\r\n                }\r\n            }\r\n            this.markDirtyPosition();\r\n            this.markDirtyBounds();\r\n        }\r\n    }\r\n    _updatePosition() {\r\n        const textType = this.get(\"textType\", \"regular\");\r\n        const inside = this.get(\"inside\", false);\r\n        let dx = 0;\r\n        let dy = 0;\r\n        let labelAngle = this.get(\"labelAngle\", 0);\r\n        let bounds = this.localBounds();\r\n        let w = bounds.right - bounds.left;\r\n        let h = bounds.bottom - bounds.top;\r\n        if (textType == \"radial\") {\r\n            if (this._flipped) {\r\n                let centerX = this.get(\"centerX\");\r\n                if (centerX instanceof Percent) {\r\n                    w = w * (1 - centerX.value * 2);\r\n                }\r\n                dx = w * $math.cos(labelAngle);\r\n                dy = w * $math.sin(labelAngle);\r\n            }\r\n        }\r\n        else if (!inside && textType == \"adjusted\") {\r\n            dx = w / 2 * $math.cos(labelAngle);\r\n            dy = h / 2 * $math.sin(labelAngle);\r\n        }\r\n        this.setRaw(\"dx\", dx);\r\n        this.setRaw(\"dy\", dy);\r\n        super._updatePosition();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\nObject.defineProperty(RadialLabel, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"RadialLabel\"\r\n});\r\nObject.defineProperty(RadialLabel, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Label.classNames.concat([RadialLabel.className])\r\n});\r\n//# sourceMappingURL=RadialLabel.js.map"],"names":["RadialText","Text","$math.RADIANS","RadialLabel","Label","radiusPrivate","innerRadiusPrivate","baseRadius","$utils.relativeToValue","inside","textType","orientation","labelAngle","$math.normalizeAngle","sin","$math.sin","cos","$math.cos","radius","x","y","p50","dx","dy","bounds","w","h","centerX","Percent"],"mappings":"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","x_google_ignoreList":[0,1]}