{"version":3,"file":"sdfPrimitives-Csf0UFjm.js","sources":["../../node_modules/@arcgis/core/views/3d/support/engineContent/sdfPrimitives.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{freeze as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Texture as r}from\"../../webgl-engine/lib/Texture.js\";import{SizedPixelFormat as n,PixelType as e}from\"../../../webgl/enums.js\";const a=128,o=.5,u=t(o/2,o/2,1-o/2,1-o/2);function s(t){return\"cross\"===t||\"x\"===t}function c(t,n=a,e=n*o,u=0){const{data:s,parameters:c}=i(t,n,e,u);return new r(s,c)}function i(t,r=a,u=r*o,s=0){return{data:f(t,r,u,s),parameters:{mipmap:!1,wrap:{s:33071,t:33071},width:r,height:r,noUnpackFlip:!0,dataType:e.FLOAT,pixelFormat:6403,internalFormat:n.R16F,reloadable:!0}}}function f(t,r=a,n=r*o,e=0){switch(t){case\"circle\":default:return h(r,n);case\"square\":return M(r,n);case\"cross\":return m(r,n,e);case\"x\":return p(r,n,e);case\"kite\":return l(r,n);case\"triangle\":return b(r,n);case\"arrow\":return x(r,n)}}function h(t,r){const n=t/2-.5;return g(t,R(n,n,r/2))}function M(t,r){return T(t,r,!1)}function l(t,r){return T(t,r,!0)}function m(t,r,n=0){return w(t,r,!1,n)}function p(t,r,n=0){return w(t,r,!0,n)}function b(t,r){return g(t,d(t/2,r,r/2))}function x(t,r){const n=r,e=r/2,a=t/2,o=.8*n,u=R(a,(t-r)/2-o,Math.sqrt(o*o+e*e)),s=d(a,n,e);return g(t,(t,r)=>Math.max(s(t,r),-u(t,r)))}function T(t,r,n){return n&&(r/=Math.SQRT2),g(t,(e,a)=>{let o=e-.5*t+.25,u=.5*t-a-.75;if(n){const t=(o+u)/Math.SQRT2;u=(u-o)/Math.SQRT2,o=t}return Math.max(Math.abs(o),Math.abs(u))-.5*r})}function w(t,r,n,e=0){r-=e,n&&(r*=Math.SQRT2);const a=.5*r;return g(t,(r,o)=>{let u,s=r-.5*t,c=.5*t-o-1;if(n){const t=(s+c)/Math.SQRT2;c=(c-s)/Math.SQRT2,s=t}return s=Math.abs(s),c=Math.abs(c),u=s>c?s>a?Math.sqrt((s-a)*(s-a)+c*c):c:c>a?Math.sqrt(s*s+(c-a)*(c-a)):s,u-=e/2,u})}function R(t,r,n){return(e,a)=>{const o=e-t,u=a-r;return Math.sqrt(o*o+u*u)-n}}function d(t,r,n){const e=Math.sqrt(r*r+n*n);return(a,o)=>{const u=Math.abs(a-t)-n,s=o-t+r/2+.75,c=(r*u+n*s)/e,i=-s;return Math.max(c,i)}}function g(t,r){const n=new Float32Array(t*t);for(let e=0;e<t;e++)for(let a=0;a<t;a++){n[a+t*e]=r(a,e)/t}return n}export{x as createArrow,h as createCircle,m as createCross,l as createKite,f as createPrimitive,M as createSquare,c as createTexture,i as createTextureInfo,b as createTriangle,p as createX,u as defaultBoundingBox,o as defaultSymbolSizeRatio,a as defaultTexSize,s as requiresHalfTexelOffset};\n"],"names":["a","o","u","t","s","c","n","e","i","r","f","h","M","m","p","l","b","x","g","R","T","w"],"mappings":"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","x_google_ignoreList":[0]}