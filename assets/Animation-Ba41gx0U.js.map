{"version":3,"file":"Animation-Ba41gx0U.js","sources":["../../node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js","../../node_modules/@amcharts/amcharts5/.internal/core/util/Color.js","../../node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js"],"sourcesContent":["import * as $type from \"./Type\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nimport { Disposer, DisposerClass } from \"./Disposer\";\r\n/**\r\n * ============================================================================\r\n * DOM FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Execute a function when DOM is ready.\r\n *\r\n * @since 5.0.2\r\n * @param  f  Callback\r\n */\r\nexport function ready(f) {\r\n    if (document.readyState !== \"loading\") {\r\n        f();\r\n    }\r\n    else {\r\n        const listener = () => {\r\n            if (document.readyState !== \"loading\") {\r\n                document.removeEventListener(\"readystatechange\", listener);\r\n                f();\r\n            }\r\n        };\r\n        document.addEventListener(\"readystatechange\", listener);\r\n    }\r\n}\r\n/**\r\n * Removes a DOM element.\r\n * @param  el  Target element\r\n */\r\nexport function removeElement(el) {\r\n    if (el.parentNode) {\r\n        el.parentNode.removeChild(el);\r\n    }\r\n}\r\n/**\r\n * Function that adds a disposable event listener directly to a DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param dom       A DOM element to add event to\r\n * @param type      Event type\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function addEventListener(dom, type, listener, options) {\r\n    //@todo proper type check for options: EventListenerOptions | boolean (TS for some reason gives error on passive parameter)\r\n    dom.addEventListener(type, listener, options || false);\r\n    return new Disposer(() => {\r\n        dom.removeEventListener(type, listener, options || false);\r\n    });\r\n}\r\n/**\r\n * Function that adds an event listener which is triggered when the browser's zoom changes.\r\n *\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function onZoom(listener) {\r\n    // TODO use matchMedia instead ?\r\n    return addEventListener(window, \"resize\", (_ev) => {\r\n        listener();\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function supports(cap) {\r\n    switch (cap) {\r\n        case \"touchevents\":\r\n            //return \"ontouchstart\" in document.documentElement;\r\n            return window.hasOwnProperty(\"TouchEvent\");\r\n        case \"pointerevents\":\r\n            return window.hasOwnProperty(\"PointerEvent\");\r\n        case \"mouseevents\":\r\n            return window.hasOwnProperty(\"MouseEvent\");\r\n        case \"wheelevents\":\r\n            return window.hasOwnProperty(\"WheelEvent\");\r\n        case \"keyboardevents\":\r\n            return window.hasOwnProperty(\"KeyboardEvent\");\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getPointerId(event) {\r\n    let id = event.pointerId || 0;\r\n    return id;\r\n}\r\n/**\r\n * Removes focus from any element by shifting focus to body.\r\n *\r\n * @ignore\r\n */\r\nexport function blur() {\r\n    if (document.activeElement && document.activeElement != document.body) {\r\n        if (document.activeElement.blur) {\r\n            document.activeElement.blur();\r\n        }\r\n        else {\r\n            let input = document.createElement(\"button\");\r\n            input.style.position = \"fixed\";\r\n            input.style.top = \"0px\";\r\n            input.style.left = \"-10000px\";\r\n            document.body.appendChild(input);\r\n            input.focus();\r\n            input.blur();\r\n            document.body.removeChild(input);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Focuses element.\r\n *\r\n * @ignore\r\n */\r\nexport function focus(el) {\r\n    if (el) {\r\n        el.focus();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getRendererEvent(key) {\r\n    if (supports(\"pointerevents\")) {\r\n        return key;\r\n    }\r\n    else if (supports(\"touchevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"touchstart\";\r\n            case \"pointerout\": return \"touchend\";\r\n            case \"pointerleave\": return \"touchend\";\r\n            case \"pointerdown\": return \"touchstart\";\r\n            case \"pointermove\": return \"touchmove\";\r\n            case \"pointerup\": return \"touchend\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    else if (supports(\"mouseevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"mouseover\";\r\n            case \"pointerout\": return \"mouseout\";\r\n            case \"pointerleave\": return \"mouseleave\";\r\n            case \"pointerdown\": return \"mousedown\";\r\n            case \"pointermove\": return \"mousemove\";\r\n            case \"pointerup\": return \"mouseup\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    return key;\r\n}\r\n/**\r\n * Determines if pointer event originated from a touch pointer or mouse.\r\n *\r\n * @param ev  Original event\r\n * @return Touch pointer?\r\n */\r\nexport function isTouchEvent(ev) {\r\n    if (typeof Touch !== \"undefined\" && ev instanceof Touch) {\r\n        return true;\r\n    }\r\n    else if (typeof PointerEvent !== \"undefined\" && ev instanceof PointerEvent && ev.pointerType != null) {\r\n        switch (ev.pointerType) {\r\n            case \"touch\":\r\n            case \"pen\":\r\n            case 2:\r\n                return true;\r\n            case \"mouse\":\r\n            case 4:\r\n                return false;\r\n            default:\r\n                return !(ev instanceof MouseEvent);\r\n        }\r\n    }\r\n    else if (ev.type != null) {\r\n        if (ev.type.match(/^mouse/)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Sets style property on DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport function setStyle(dom, property, value) {\r\n    dom.style[property] = value;\r\n}\r\nexport function getStyle(dom, property) {\r\n    return dom.style[property];\r\n}\r\n/**\r\n * Gets the target of the event, works for shadow DOM too.\r\n */\r\nexport function getEventTarget(event) {\r\n    if (event.composedPath) {\r\n        const path = event.composedPath();\r\n        if (path.length === 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return path[0];\r\n        }\r\n    }\r\n    else {\r\n        return event.target;\r\n    }\r\n}\r\n/**\r\n * Checks of element `a` contains element `b`.\r\n *\r\n * @param a  Aleged ascendant\r\n * @param b  Aleged descendant\r\n * @return Contains?\r\n */\r\nexport function contains(a, b) {\r\n    let cursor = b;\r\n    while (true) {\r\n        if (a === cursor) {\r\n            return true;\r\n        }\r\n        else if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host == null) {\r\n                return false;\r\n            }\r\n            else {\r\n                cursor = cursor.host;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns `true` if pointer event originated on an element within Root.\r\n *\r\n * @since 5.2.8\r\n * @param  event   Event\r\n * @param  target  Target element\r\n */\r\nexport function isLocalEvent(event, target) {\r\n    return event.target && contains(target.root.dom, event.target);\r\n}\r\n/**\r\n * Disables or enables interactivity of a DOM element.\r\n *\r\n * @param  target       Target element\r\n * @param  interactive  Interactive?\r\n */\r\nexport function setInteractive(target, interactive) {\r\n    if (interactive) {\r\n        target.style.pointerEvents = \"auto\";\r\n    }\r\n    else {\r\n        target.style.pointerEvents = \"none\";\r\n    }\r\n}\r\nexport function getEventKey(event) {\r\n    if (event.key !== undefined) {\r\n        return event.key;\r\n    }\r\n    switch (event.keyCode) {\r\n        case 9: return \"Tab\";\r\n        case 13: return \"Enter\";\r\n        case 16: return \"Shift\";\r\n        case 17: return \"Control\";\r\n        case 27: return \"Escape\";\r\n        case 32: return \" \";\r\n        case 37: return \"ArrowLeft\";\r\n        case 38: return \"ArrowUp\";\r\n        case 39: return \"ArrowRight\";\r\n        case 40: return \"ArrowDown\";\r\n        case 46: return \"Delete\";\r\n    }\r\n    return \"\" + event.keyCode;\r\n}\r\n/**\r\n * Returns the shadow root of the element or null\r\n *\r\n * @param a  Node\r\n * @return Root\r\n */\r\nexport function getShadowRoot(a) {\r\n    let cursor = a;\r\n    while (true) {\r\n        if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host != null) {\r\n                return cursor;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * [rootStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nlet rootStylesheet;\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nfunction createStylesheet(element, text, nonce = \"\") {\r\n    // TODO use createElementNS ?\r\n    const e = document.createElement(\"style\");\r\n    e.type = \"text/css\";\r\n    if (nonce != \"\") {\r\n        e.setAttribute(\"nonce\", nonce);\r\n    }\r\n    e.textContent = text;\r\n    if (element === null) {\r\n        document.head.appendChild(e);\r\n    }\r\n    else {\r\n        element.appendChild(e);\r\n    }\r\n    return e;\r\n}\r\n/**\r\n * [getStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @return [description]\r\n */\r\nfunction getStylesheet(element, nonce = \"\") {\r\n    if (element === null) {\r\n        if (rootStylesheet == null) {\r\n            // TODO use createElementNS ?\r\n            const e = document.createElement(\"style\");\r\n            e.type = \"text/css\";\r\n            if (nonce != \"\") {\r\n                e.setAttribute(\"nonce\", nonce);\r\n            }\r\n            document.head.appendChild(e);\r\n            rootStylesheet = e.sheet;\r\n        }\r\n        return rootStylesheet;\r\n    }\r\n    else {\r\n        // TODO use createElementNS ?\r\n        const e = document.createElement(\"style\");\r\n        e.type = \"text/css\";\r\n        if (nonce != \"\") {\r\n            e.setAttribute(\"nonce\", nonce);\r\n        }\r\n        element.appendChild(e);\r\n        return e.sheet;\r\n    }\r\n}\r\n/**\r\n * [makeStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param selector  [description]\r\n * @return [description]\r\n */\r\nfunction appendStylesheet(root, selector) {\r\n    const index = root.cssRules.length;\r\n    root.insertRule(selector + \"{}\", index);\r\n    return root.cssRules[index];\r\n}\r\n/**\r\n * Defines a class for a CSS rule.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nexport class StyleRule extends DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param selector  CSS selector\r\n     * @param styles    An object of style attribute - value pairs\r\n     */\r\n    constructor(element, selector, styles, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * CSS rule.\r\n         */\r\n        Object.defineProperty(this, \"_rule\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._root = getStylesheet(element, nonce);\r\n        try {\r\n            this._rule = appendStylesheet(this._root, selector);\r\n        }\r\n        catch (err) {\r\n            // Create an empty rule on failed selectors\r\n            this._rule = appendStylesheet(this._root, \":not(*)\");\r\n        }\r\n        $object.each(styles, (key, value) => {\r\n            this.setStyle(key, value);\r\n        });\r\n    }\r\n    /**\r\n     * A CSS selector text.\r\n     *\r\n     * E.g.: `.myClass p`\r\n     *\r\n     * @param selector  CSS selector\r\n     */\r\n    set selector(selector) {\r\n        this._rule.selectorText = selector;\r\n    }\r\n    /**\r\n     * @return CSS selector\r\n     */\r\n    get selector() {\r\n        return this._rule.selectorText;\r\n    }\r\n    // TODO test this\r\n    _dispose() {\r\n        // TODO a bit hacky\r\n        const index = $array.indexOf(this._root.cssRules, this._rule);\r\n        if (index === -1) {\r\n            throw new Error(\"Could not dispose StyleRule\");\r\n        }\r\n        else {\r\n            // TODO if it's empty remove it from the DOM ?\r\n            this._root.deleteRule(index);\r\n        }\r\n    }\r\n    /**\r\n     * Sets the same style properties with browser-specific prefixes.\r\n     *\r\n     * @param name   Attribute name\r\n     * @param value  Attribute value\r\n     */\r\n    _setVendorPrefixName(name, value) {\r\n        const style = this._rule.style;\r\n        style.setProperty(\"-webkit-\" + name, value, \"\");\r\n        style.setProperty(\"-moz-\" + name, value, \"\");\r\n        style.setProperty(\"-ms-\" + name, value, \"\");\r\n        style.setProperty(\"-o-\" + name, value, \"\");\r\n        style.setProperty(name, value, \"\");\r\n    }\r\n    /**\r\n     * Sets a value for specific style attribute.\r\n     *\r\n     * @param name   Attribute\r\n     * @param value  Value\r\n     */\r\n    setStyle(name, value) {\r\n        if (name === \"transition\") {\r\n            this._setVendorPrefixName(name, value);\r\n        }\r\n        else {\r\n            this._rule.style.setProperty(name, value, \"\");\r\n        }\r\n    }\r\n}\r\n/**\r\n * Defines a class for an entire CSS style sheet.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nexport class StyleSheet extends DisposerClass {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param text  CSS stylesheet\r\n     */\r\n    constructor(element, text, nonce = \"\") {\r\n        super();\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._element = createStylesheet(element, text, nonce);\r\n    }\r\n    _dispose() {\r\n        if (this._element.parentNode) {\r\n            this._element.parentNode.removeChild(this._element);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Adds a class name to an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function addClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        const classes = className.split(\" \");\r\n        $array.each(classes, (name) => {\r\n            element.classList.add(name);\r\n        });\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \") + \" \" + className);\r\n        }\r\n        else {\r\n            element.setAttribute(\"class\", className);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Removes a class name from an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function removeClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        element.classList.remove(className);\r\n    }\r\n    else {\r\n        let currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter((item) => {\r\n                return item !== className;\r\n            }).join(\" \"));\r\n        }\r\n    }\r\n}\r\n// /**\r\n//  * Applies a set of styles to an element. Stores the original styles so they\r\n//  * can be restored later.\r\n//  *\r\n//  * @ignore\r\n//  * @param io      Element\r\n//   */\r\n// export function prepElementForDrag(dom: HTMLElement): void {\r\n// \t// @todo: save current values\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"none\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"rgba(0, 0, 0, 0)\");\r\n// }\r\n// /**\r\n//  * Restores replaced styles\r\n//  *\r\n//  * @ignore\r\n//  * @param  io  Element\r\n//  */\r\n// export function unprepElementForDrag(dom: HTMLElement): void {\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"\");\r\n// }\r\nexport function iOS() {\r\n    return /apple/i.test(navigator.vendor) && \"ontouchend\" in document;\r\n}\r\nexport function getSafeResolution() {\r\n    return iOS() ? 1 : undefined;\r\n}\r\nexport function relativeToValue(percent, full) {\r\n    if ($type.isNumber(percent)) {\r\n        return percent;\r\n    }\r\n    else if (percent != null && $type.isNumber(percent.value) && $type.isNumber(full)) {\r\n        return full * percent.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * Returns number of decimals\r\n *\r\n * @ignore Exclude from docs\r\n * @param number  Input number\r\n * @return Number of decimals\r\n */\r\nexport function decimalPlaces(number) {\r\n    let match = ('' + number).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\r\n    if (!match) {\r\n        return 0;\r\n    }\r\n    return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));\r\n}\r\n/**\r\n * ============================================================================\r\n * STRING FORMATTING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Pads a string with additional characters to certain length.\r\n *\r\n * @param value  A numeric value\r\n * @param len    Result string length in characters\r\n * @param char   A character to use for padding\r\n * @return Padded value as string\r\n */\r\nexport function padString(value, len = 0, char = \"0\") {\r\n    if (typeof value !== \"string\") {\r\n        value = value.toString();\r\n    }\r\n    return len > value.length ? Array(len - value.length + 1).join(char) + value : value;\r\n}\r\nexport function trimLeft(text) {\r\n    return text.replace(/^[\\s]*/, \"\");\r\n}\r\nexport function trimRight(text) {\r\n    return text.replace(/[\\s]*$/, \"\");\r\n}\r\nexport function trim(text) {\r\n    return trimLeft(trimRight(text));\r\n}\r\nexport function truncateTextWithEllipsis(text, maxLength, breakWords = false, ellipsis = \"...\") {\r\n    if (text.length > maxLength) {\r\n        // Find the last non-alphanumeric character before maxLength\r\n        let lastNonAlphanumericIndex = maxLength - 1;\r\n        while (lastNonAlphanumericIndex >= 0 && text.charAt(lastNonAlphanumericIndex).match(/\\w/)) {\r\n            lastNonAlphanumericIndex--;\r\n        }\r\n        if (lastNonAlphanumericIndex >= 0 && breakWords == false) {\r\n            return text.substring(0, lastNonAlphanumericIndex + 1) + '...';\r\n        }\r\n        else {\r\n            // If no non-alphanumeric character found, truncate without breaking words\r\n            return text.substring(0, maxLength) + ellipsis;\r\n        }\r\n    }\r\n    else {\r\n        return text;\r\n    }\r\n}\r\n/**\r\n * Tries to determine format type.\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format string\r\n * @return Format type (\"string\" | \"number\" | \"date\" | \"duration\")\r\n */\r\nexport function getFormat(format) {\r\n    // Undefined?\r\n    if (typeof format === \"undefined\") {\r\n        return \"string\";\r\n    }\r\n    // Cleanup and lowercase format\r\n    format = format.toLowerCase().replace(/^\\[[^\\]]*\\]/, \"\");\r\n    // Remove style tags\r\n    format = format.replace(/\\[[^\\]]+\\]/, \"\");\r\n    // Trim\r\n    format = format.trim();\r\n    // Check for any explicit format hints (i.e. /Date)\r\n    let hints = format.match(/\\/(date|number|duration)$/);\r\n    if (hints) {\r\n        return hints[1];\r\n    }\r\n    // Check for explicit hints\r\n    if (format === \"number\") {\r\n        return \"number\";\r\n    }\r\n    if (format === \"date\") {\r\n        return \"date\";\r\n    }\r\n    if (format === \"duration\") {\r\n        return \"duration\";\r\n    }\r\n    // Detect number formatting symbols\r\n    if (format.match(/[#0]/)) {\r\n        return \"number\";\r\n    }\r\n    // Detect date formatting symbols\r\n    if (format.match(/[ymwdhnsqaxkzgtei]/)) {\r\n        return \"date\";\r\n    }\r\n    // Nothing? Let's display as string\r\n    return \"string\";\r\n}\r\n/**\r\n * Cleans up format:\r\n * * Strips out formatter hints\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format\r\n * @return Cleaned format\r\n */\r\nexport function cleanFormat(format) {\r\n    return format.replace(/\\/(date|number|duration)$/i, \"\");\r\n}\r\n/**\r\n * Strips all tags from the string.\r\n *\r\n * @param text  Source string\r\n * @return String without tags\r\n */\r\nexport function stripTags(text) {\r\n    return text ? text.replace(/<[^>]*>/g, \"\") : text;\r\n}\r\n/**\r\n * Removes new lines and tags from a string.\r\n *\r\n * @param text  String to conver\r\n * @return Converted string\r\n */\r\nexport function plainText(text) {\r\n    return text ? stripTags((\"\" + text).replace(/[\\n\\r]+/g, \". \")) : text;\r\n}\r\n/**\r\n * Escapes string so it can safely be used in a Regex.\r\n *\r\n * @param value  Unsescaped string\r\n * @return Escaped string\r\n */\r\nexport function escapeForRgex(value) {\r\n    return value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n}\r\n/**\r\n * Adds space before each uppercase letter.\r\n *\r\n * @param   str Input string\r\n * @return      Output string\r\n */\r\nexport function addSpacing(str) {\r\n    let result = \"\";\r\n    for (let i = 0; i < str.length; i++) {\r\n        const char = str.charAt(i);\r\n        if (char.toUpperCase() == char && i != 0) {\r\n            result += \" \";\r\n        }\r\n        result += char;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Splits the string into separate characters. Keeps RTL words non-split.\r\n *\r\n * @param   source  Input\r\n * @return          Split text\r\n */\r\nexport function splitString(source) {\r\n    // Regular expression to identify RTL characters\r\n    const rtlChar = /[\\u0590-\\u05FF\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFF]/;\r\n    // Regular expression to capture segments ending with specific Arabic characters\r\n    const splitPattern = /([^اأدذرزو]*[اأدذرزو])/gi;\r\n    // Split input string into array of words or characters, including whitespace\r\n    let segments = source.split(/(\\s+)/); // Split by whitespace, capturing it\r\n    let result = [];\r\n    segments.forEach(segment => {\r\n        if (segment.match(/^\\s+$/)) {\r\n            // If the segment is purely whitespace\r\n            if (segment = \" \") {\r\n                segment = \"  \";\r\n            }\r\n            result.push(segment);\r\n        }\r\n        else if (rtlChar.test(segment)) {\r\n            // If the segment contains RTL characters, handle special splits\r\n            let parts = segment.split(splitPattern).filter(part => part !== '');\r\n            // Concatenate parts processed by the split pattern directly to result\r\n            result = result.concat(parts);\r\n        }\r\n        else {\r\n            // Treat this segment as LTR: split into characters\r\n            result = result.concat([...segment]);\r\n        }\r\n    });\r\n    return result;\r\n}\r\n/**\r\n * ============================================================================\r\n * DATE-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns a year day.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year day\r\n * @todo Account for UTC\r\n */\r\nexport function getYearDay(date, utc = false) {\r\n    // TODO: utc needed?\r\n    utc;\r\n    const start = new Date(date.getFullYear(), 0, 0);\r\n    const diff = (date.getTime() - start.getTime()) + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);\r\n    const oneDay = 1000 * 60 * 60 * 24;\r\n    return Math.floor(diff / oneDay);\r\n}\r\n/**\r\n * Returns week number for a given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number\r\n * @todo Account for UTC\r\n */\r\nexport function getWeek(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return Math.ceil((((d.getTime() - firstDay.getTime()) / 86400000) + 1) / 7);\r\n}\r\n/**\r\n * Returns a \"week year\" of the given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year of week\r\n * @since 5.3.0\r\n * @todo Account for UTC\r\n */\r\nexport function getWeekYear(date, _utc = false) {\r\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    const day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    const firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return firstDay.getFullYear();\r\n}\r\n/**\r\n * Returns a week number in the month.\r\n *\r\n * @param date  Source Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number in month\r\n */\r\nexport function getMonthWeek(date, utc = false) {\r\n    const firstWeek = getWeek(new Date(date.getFullYear(), date.getMonth(), 1), utc);\r\n    let currentWeek = getWeek(date, utc);\r\n    if (currentWeek == 1) {\r\n        currentWeek = 53;\r\n    }\r\n    return currentWeek - firstWeek + 1;\r\n}\r\n/**\r\n * Returns a year day out of the given week number.\r\n *\r\n * @param week     Week\r\n * @param year     Year\r\n * @param weekday  Weekday\r\n * @param utc      Assume UTC dates\r\n * @return Day in a year\r\n */\r\nexport function getDayFromWeek(week, year, weekday = 1, utc = false) {\r\n    let date = new Date(year, 0, 4, 0, 0, 0, 0);\r\n    if (utc) {\r\n        date.setUTCFullYear(year);\r\n    }\r\n    let day = week * 7 + weekday - ((date.getDay() || 7) + 3);\r\n    return day;\r\n}\r\n/**\r\n * Returns 12-hour representation out of the 24-hour hours.\r\n *\r\n * @param hours  24-hour number\r\n * @return 12-hour number\r\n */\r\nexport function get12Hours(hours, base) {\r\n    if (hours > 12) {\r\n        hours -= 12;\r\n    }\r\n    else if (hours === 0) {\r\n        hours = 12;\r\n    }\r\n    return base != null ? hours + (base - 1) : hours;\r\n}\r\n/**\r\n * Returns a string name of the time zone.\r\n *\r\n * @param date     Date object\r\n * @param long     Should return long (\"Pacific Standard Time\") or short abbreviation (\"PST\")\r\n * @param savings  Include information if it's in daylight savings mode\r\n * @param utc      Assume UTC dates\r\n * @return Time zone name\r\n */\r\nexport function getTimeZone(date, long = false, savings = false, utc = false, timezone) {\r\n    if (utc) {\r\n        return long ? \"Coordinated Universal Time\" : \"UTC\";\r\n    }\r\n    else if (timezone) {\r\n        const d1 = date.toLocaleString(\"en-US\", { timeZone: timezone });\r\n        const d2 = date.toLocaleString(\"en-US\", { timeZone: timezone, timeZoneName: long ? \"long\" : \"short\" });\r\n        return trim(d2.substr(d1.length));\r\n    }\r\n    let wotz = date.toLocaleString(\"UTC\");\r\n    let wtz = date.toLocaleString(\"UTC\", { timeZoneName: long ? \"long\" : \"short\" }).substr(wotz.length);\r\n    //wtz = wtz.replace(/[+-]+[0-9]+$/, \"\");\r\n    if (savings === false) {\r\n        wtz = wtz.replace(/ (standard|daylight|summer|winter) /i, \" \");\r\n    }\r\n    return trim(wtz);\r\n}\r\nexport function getTimezoneOffset(timezone, targetDate) {\r\n    const date = targetDate || new Date(Date.UTC(2012, 0, 1, 0, 0, 0, 0));\r\n    const utcDate = new Date(date.toLocaleString(\"en-US\", { timeZone: \"UTC\" }));\r\n    const tzDate = new Date(date.toLocaleString(\"en-US\", { timeZone: timezone }));\r\n    return (tzDate.getTime() - utcDate.getTime()) / 6e4 * -1;\r\n}\r\nexport function capitalizeFirst(text) {\r\n    return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n/**\r\n * The functions below are taken and adapted from Garry Tan's blog post:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * The further attributions go mjijackson.com, which now seems to be defunct.\r\n */\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @param h       The hue\r\n * @param s       The saturation\r\n * @param l       The lightness\r\n * @return The RGB representation\r\n */\r\nexport function hslToRgb(color) {\r\n    let r, g, b;\r\n    let h = color.h;\r\n    let s = color.s;\r\n    let l = color.l;\r\n    if (s == 0) {\r\n        r = g = b = l; // achromatic\r\n    }\r\n    else {\r\n        let hue2rgb = function hue2rgb(p, q, t) {\r\n            if (t < 0) {\r\n                t += 1;\r\n            }\r\n            if (t > 1) {\r\n                t -= 1;\r\n            }\r\n            if (t < 1 / 6) {\r\n                return p + (q - p) * 6 * t;\r\n            }\r\n            if (t < 1 / 2) {\r\n                return q;\r\n            }\r\n            if (t < 2 / 3) {\r\n                return p + (q - p) * (2 / 3 - t) * 6;\r\n            }\r\n            return p;\r\n        };\r\n        let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        let p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n}\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @param r       The red color value\r\n * @param g       The green color value\r\n * @param b       The blue color value\r\n * @return The HSL representation\r\n */\r\nexport function rgbToHsl(color) {\r\n    let r = color.r / 255;\r\n    let g = color.g / 255;\r\n    let b = color.b / 255;\r\n    let max = Math.max(r, g, b);\r\n    let min = Math.min(r, g, b);\r\n    let h = 0;\r\n    let s = 0;\r\n    let l = (max + min) / 2;\r\n    if (max === min) {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else {\r\n        let d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return {\r\n        h: h,\r\n        s: s,\r\n        l: l,\r\n    };\r\n}\r\n/**\r\n * Converts HSV to HSL.\r\n *\r\n * https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_HSL\r\n */\r\nexport function hsvToHsl(hsv) {\r\n    const l = hsv.v * (1 - (hsv.s / 2));\r\n    const s = (l === 0 || l === 1\r\n        ? 0\r\n        : (hsv.v - l) / Math.min(l, 1 - l));\r\n    return {\r\n        h: hsv.h,\r\n        s,\r\n        l,\r\n        a: hsv.a,\r\n    };\r\n}\r\n/**\r\n * Converts HSL to HSV.\r\n *\r\n * https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_HSV\r\n */\r\nexport function hslToHsv(hsl) {\r\n    const v = hsl.l + (hsl.s * Math.min(hsl.l, 1 - hsl.l));\r\n    const s = (v === 0\r\n        ? 0\r\n        : 2 * (1 - (hsl.l / v)));\r\n    return {\r\n        h: hsl.h,\r\n        s,\r\n        v,\r\n        a: hsl.a,\r\n    };\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the reference color.\r\n *\r\n * @param color    Reference color\r\n * @param percent  Brightness percent\r\n * @return Hex code of the new color\r\n */\r\nexport function lighten(rgb, percent) {\r\n    if (rgb) {\r\n        return {\r\n            r: Math.max(0, Math.min(255, rgb.r + getLightnessStep(rgb.r, percent))),\r\n            g: Math.max(0, Math.min(255, rgb.g + getLightnessStep(rgb.g, percent))),\r\n            b: Math.max(0, Math.min(255, rgb.b + getLightnessStep(rgb.b, percent))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Gets lightness step.\r\n *\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getLightnessStep(value, percent) {\r\n    let base = percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the source `color`.\r\n *\r\n * @param color    Source color\r\n * @param percent  Brightness percent\r\n * @return New color\r\n */\r\nexport function brighten(rgb, percent) {\r\n    if (rgb) {\r\n        let base = Math.min(Math.max(rgb.r, rgb.g, rgb.b), 230);\r\n        //let base = Math.max(rgb.r, rgb.g, rgb.b);\r\n        let step = getLightnessStep(base, percent);\r\n        return {\r\n            r: Math.max(0, Math.min(255, Math.round(rgb.r + step))),\r\n            g: Math.max(0, Math.min(255, Math.round(rgb.g + step))),\r\n            b: Math.max(0, Math.min(255, Math.round(rgb.b + step))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Returns brightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getBrightnessStep(_value, percent) {\r\n    let base = 255; //percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns `true` if color is \"light\". Useful indetermining which contrasting\r\n * color to use for elements over this color. E.g.: you would want to use\r\n * black text over light background, and vice versa.\r\n *\r\n * @param color  Source color\r\n * @return Light?\r\n */\r\nexport function isLight(color) {\r\n    return ((color.r * 299) + (color.g * 587) + (color.b * 114)) / 1000 >= 128;\r\n}\r\n/**\r\n * Returns a new [[iRGB]] object based on `rgb` parameter with specific\r\n * saturation applied.\r\n *\r\n * `saturation` can be in the range of 0 (fully desaturated) to 1 (fully\r\n * saturated).\r\n *\r\n * @param color       Base color\r\n * @param saturation  Saturation (0-1)\r\n * @return New color\r\n */\r\nexport function saturate(rgb, saturation) {\r\n    if (rgb === undefined || saturation == 1) {\r\n        return rgb;\r\n    }\r\n    let hsl = rgbToHsl(rgb);\r\n    hsl.s = saturation;\r\n    return hslToRgb(hsl);\r\n}\r\n/**\r\n * Returns a color which contrasts more with the source `color`.\r\n *\r\n * @param  color             Base color\r\n * @param  lightAlternative  Light option\r\n * @param  darkAlternative   Dark option\r\n * @return New color\r\n */\r\nexport function alternativeColor(color, lightAlternative = { r: 255, g: 255, b: 255 }, darkAlternative = { r: 255, g: 255, b: 255 }) {\r\n    let light = lightAlternative;\r\n    let dark = darkAlternative;\r\n    if (isLight(darkAlternative)) {\r\n        light = darkAlternative;\r\n        dark = lightAlternative;\r\n    }\r\n    return isLight(color) ? dark : light;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function mergeTags(tags1, tags2) {\r\n    if (!tags1) {\r\n        tags1 = [];\r\n    }\r\n    return [...tags1, ...tags2].filter((value, index, self) => {\r\n        return self.indexOf(value) === index;\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function sameBounds(a, b) {\r\n    if (!b) {\r\n        return false;\r\n    }\r\n    if (a.left != b.left) {\r\n        return false;\r\n    }\r\n    if (a.right != b.right) {\r\n        return false;\r\n    }\r\n    if (a.top != b.top) {\r\n        return false;\r\n    }\r\n    if (a.bottom != b.bottom) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n//# sourceMappingURL=Utils.js.map","import { range } from \"./Animation\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * @ignore\r\n */\r\nfunction string2hex(string) {\r\n    //string = cssColorNames[string.toLowerCase()] || string;\r\n    if (string[0] === \"#\") {\r\n        string = string.substr(1);\r\n    }\r\n    if (string.length == 3) {\r\n        string = string[0].repeat(2) + string[1].repeat(2) + string[2].repeat(2);\r\n    }\r\n    return parseInt(string, 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function rgba2hex(color) {\r\n    color = color.replace(/[ ]/g, \"\");\r\n    // Init\r\n    let matches = color.match(/^rgb\\(([0-9]*),([0-9]*),([0-9]*)\\)/i);\r\n    // Try rgb() format\r\n    if (matches) {\r\n        matches.push(\"1\");\r\n    }\r\n    else {\r\n        matches = color.match(/^rgba\\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\\)/i);\r\n        if (!matches) {\r\n            return 0x000000;\r\n        }\r\n    }\r\n    let hex = \"\";\r\n    for (let i = 1; i <= 3; i++) {\r\n        let val = parseInt(matches[i]).toString(16);\r\n        if (val.length == 1) {\r\n            val = \"0\" + val;\r\n        }\r\n        hex += val;\r\n    }\r\n    return string2hex(hex);\r\n}\r\n/**\r\n * Returns a new [[Color]] object base on input.\r\n *\r\n * Accepts parameters in CSS hex or rgb/rtba strings, or hex numbers.\r\n *\r\n * * `\"#f00\"`\r\n * * `\"#ff0000\"`\r\n * * `\"rgb(255, 0, 0)\"`\r\n * * `\"rgba(255, 0, 0, 1)\"`\r\n * * `0xff0000`\r\n *\r\n * @param   input  Input color\r\n * @return         Color\r\n */\r\nexport function color(input) {\r\n    return Color.fromAny(input);\r\n}\r\n/**\r\n * Wherever color needs to be specified in amCharts 5, `Color` object needs to\r\n * be used.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/} for more info\r\n * @important\r\n */\r\nexport class Color {\r\n    constructor(hex) {\r\n        Object.defineProperty(this, \"_hex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._hex = hex | 0;\r\n    }\r\n    /**\r\n     * Color numeric value.\r\n     */\r\n    get hex() {\r\n        return this._hex;\r\n    }\r\n    /**\r\n     * Value of color's R channel.\r\n     * @return R value\r\n     */\r\n    get r() {\r\n        return this._hex >>> 16;\r\n    }\r\n    /**\r\n     * Value of color's G channel.\r\n     * @return G value\r\n     */\r\n    get g() {\r\n        return (this._hex >> 8) & 0xFF;\r\n    }\r\n    /**\r\n     * Value of color's B channel.\r\n     * @return B value\r\n     */\r\n    get b() {\r\n        return this._hex & 0xFF;\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `rgba(r, g, b, a)` string.\r\n     *\r\n     * @param   alpha  Opacity\r\n     * @return         CSS string\r\n     */\r\n    toCSS(alpha = 1) {\r\n        return \"rgba(\" + this.r + \", \" + this.g + \", \" + this.b + \", \" + alpha + \")\";\r\n    }\r\n    /**\r\n     * Returns color CSS representation in form of `#rgb` string.\r\n     *\r\n     * @return         CSS string\r\n     */\r\n    toCSSHex() {\r\n        return \"#\" + $utils.padString(this.r.toString(16), 2) + $utils.padString(this.g.toString(16), 2) + $utils.padString(this.b.toString(16), 2);\r\n    }\r\n    /**\r\n     * Returns color's HSL info.\r\n     * @param   alpha Opacity\r\n     * @return        HSL info\r\n     */\r\n    toHSL(alpha = 1) {\r\n        return $utils.rgbToHsl({\r\n            r: this.r,\r\n            g: this.g,\r\n            b: this.b,\r\n            a: alpha\r\n        });\r\n    }\r\n    /**\r\n     * Converts HSL values into a new [[Color]] object.\r\n     *\r\n     * @param   h H value\r\n     * @param   s S value\r\n     * @param   l L value\r\n     * @return    Color object\r\n     */\r\n    static fromHSL(h, s, l) {\r\n        const rgb = $utils.hslToRgb({\r\n            h: h,\r\n            s: s,\r\n            l: l\r\n        });\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    toString() {\r\n        return this.toCSSHex();\r\n    }\r\n    /**\r\n     * Converts hex number into a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     *\r\n     * @param   hex  Hex color\r\n     * @return       Color\r\n     */\r\n    static fromHex(hex) {\r\n        return new Color(hex);\r\n    }\r\n    /**\r\n     * Converts RGB values to a new [[Color]] object.\r\n     *\r\n     * @param   r  R value\r\n     * @param   g  G value\r\n     * @param   b  B value\r\n     * @return     Color\r\n     */\r\n    static fromRGB(r, g, b) {\r\n        return new Color((b | 0) + (g << 8) + (r << 16));\r\n    }\r\n    /**\r\n     * Converts RGB string to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     *\r\n     * @param   s  RGB string\r\n     * @return     Color\r\n     */\r\n    static fromString(s) {\r\n        return new Color(string2hex(s));\r\n    }\r\n    /**\r\n     * Converts CSS rgba() syntax to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     *\r\n     * @param  {string} s [description]\r\n     * @return {Color}    [description]\r\n     */\r\n    static fromCSS(s) {\r\n        return new Color(rgba2hex(s));\r\n    }\r\n    /**\r\n     * Convert to color from virtually anything.\r\n     *\r\n     * Will throw an exception if unable to resolve the color.\r\n     *\r\n     * @param   s  Source\r\n     * @return     Color\r\n     */\r\n    static fromAny(s) {\r\n        if ($type.isString(s)) {\r\n            if (s[0] == \"#\") {\r\n                return Color.fromString(s);\r\n            }\r\n            else if (s.substr(0, 3) == \"rgb\") {\r\n                return Color.fromCSS(s);\r\n            }\r\n        }\r\n        else if ($type.isNumber(s)) {\r\n            return Color.fromHex(s);\r\n        }\r\n        else if (s instanceof Color) {\r\n            return Color.fromHex(s.hex);\r\n        }\r\n        throw new Error(\"Unknown color syntax: \" + s);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] object based on either `lightAlternative` or\r\n     * `darkAlternative` depending on which one is more contrasting with\r\n     * the `color`.\r\n     *\r\n     * @param   color             Reference color\r\n     * @param   lightAlternative  Light color\r\n     * @param   darkAlternative   Dark color\r\n     * @return                    Alternative color\r\n     */\r\n    static alternative(color, lightAlternative, darkAlternative) {\r\n        const rgb = $utils.alternativeColor({ r: color.r, g: color.g, b: color.b }, lightAlternative ? { r: lightAlternative.r, g: lightAlternative.g, b: lightAlternative.b } : undefined, darkAlternative ? { r: darkAlternative.r, g: darkAlternative.g, b: darkAlternative.b } : undefined);\r\n        return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns an intermediate Color between two reference colors depending on\r\n     * the progress (`diff`) between the two.\r\n     *\r\n     * @param   diff  Progress\r\n     * @param   from  Source color\r\n     * @param   to    Target color\r\n     * @param   mode  Interpolation mode\r\n     * @return        Color\r\n     */\r\n    static interpolate(diff, from, to, mode = \"rgb\") {\r\n        if (mode == \"hsl\") {\r\n            const fromHSL = from.toHSL();\r\n            const toHSL = to.toHSL();\r\n            return Color.fromHSL(range(diff, fromHSL.h, toHSL.h), range(diff, fromHSL.s, toHSL.s), range(diff, fromHSL.l, toHSL.l));\r\n        }\r\n        else {\r\n            return Color.fromRGB(range(diff, from.r, to.r), range(diff, from.g, to.g), range(diff, from.b, to.b));\r\n        }\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] lightened by `percent` value.\r\n     *\r\n     * Use negative value to darken the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static lighten(color, percent) {\r\n        const rgb = $utils.lighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] brightened by `percent` value.\r\n     *\r\n     * Use negative value to dim the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static brighten(color, percent) {\r\n        const rgb = $utils.brighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n    /**\r\n     * Returns a new [[Color]] saturated by `percent` value.\r\n     *\r\n     * Value range is between `0` (fully desaturated), to `1` (full color).\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    static saturate(color, percent) {\r\n        const rgb = $utils.saturate({ r: color.r, g: color.g, b: color.b }, percent);\r\n        return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n    }\r\n}\r\n//# sourceMappingURL=Color.js.map","import { __awaiter } from \"tslib\";\r\nimport { Percent } from \"./Percent\";\r\nimport { Color } from \"./Color\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $object from \"./Object\";\r\n/**\r\n * @ignore\r\n */\r\nexport function waitForAnimations(animations) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (animations !== undefined) {\r\n            const promises = [];\r\n            $object.each(animations, (_, animation) => {\r\n                promises.push(animation.waitForStop());\r\n            });\r\n            yield Promise.all(promises);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function normalize(value, min, max) {\r\n    if (min === max) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return Math.min(Math.max((value - min) * (1 / (max - min)), 0), 1);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function range(diff, from, to) {\r\n    return from + (diff * (to - from));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function defaultInterpolate(diff, from, to) {\r\n    if (diff >= 1) {\r\n        return to;\r\n    }\r\n    else {\r\n        return from;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function percentInterpolate(diff, from, to) {\r\n    return new Percent(range(diff, from.percent, to.percent));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function colorInterpolate(diff, from, to) {\r\n    return Color.interpolate(diff, from, to);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getInterpolate(from, to) {\r\n    if (typeof from === \"number\" && typeof to === \"number\") {\r\n        return range;\r\n    }\r\n    if (from instanceof Percent && to instanceof Percent) {\r\n        return percentInterpolate;\r\n    }\r\n    if (from instanceof Color && to instanceof Color) {\r\n        return colorInterpolate;\r\n    }\r\n    return defaultInterpolate;\r\n}\r\nexport var AnimationState;\r\n(function (AnimationState) {\r\n    AnimationState[AnimationState[\"Stopped\"] = 0] = \"Stopped\";\r\n    AnimationState[AnimationState[\"Playing\"] = 1] = \"Playing\";\r\n    AnimationState[AnimationState[\"Paused\"] = 2] = \"Paused\";\r\n})(AnimationState || (AnimationState = {}));\r\n/**\r\n * @ignore\r\n */\r\nexport class AnimationTime {\r\n    constructor(entity, duration) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_playingDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_startingTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_current\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n        this._duration = duration;\r\n    }\r\n    _stopEvent() {\r\n        const type = \"stopped\";\r\n        if (this.events.isEnabled(type)) {\r\n            this.events.dispatch(type, { type: type, target: this });\r\n        }\r\n    }\r\n    _runAnimation(currentTime) {\r\n        if (this._playingDuration !== null) {\r\n            if (this._startingTime === null) {\r\n                this._startingTime = currentTime;\r\n                return AnimationState.Playing;\r\n            }\r\n            else {\r\n                const diff = (currentTime - this._startingTime) / this._playingDuration;\r\n                if (diff >= 1) {\r\n                    this._playingDuration = null;\r\n                    this._startingTime = null;\r\n                    this._from = this._to;\r\n                    this._current = this._to;\r\n                    this._entity.markDirty();\r\n                    this._stopEvent();\r\n                    const type = \"ended\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                    return AnimationState.Stopped;\r\n                }\r\n                else {\r\n                    this._current = range(diff, this._from, this._to);\r\n                    this._entity.markDirty();\r\n                    const type = \"progress\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this, progress: diff });\r\n                    }\r\n                    return AnimationState.Playing;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return AnimationState.Stopped;\r\n        }\r\n    }\r\n    _play() {\r\n        this._from = this._current;\r\n        if (this._playingDuration === null) {\r\n            this._entity._root._addAnimation(this);\r\n            const type = \"started\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n        }\r\n        else {\r\n            this._startingTime = null;\r\n        }\r\n        this._playingDuration = Math.abs(this._to - this._from) * this._duration;\r\n    }\r\n    get duration() {\r\n        return this._duration;\r\n    }\r\n    set duration(value) {\r\n        if (this._duration !== value) {\r\n            this._duration = value;\r\n            if (value === 0) {\r\n                this.jumpTo(this._to);\r\n            }\r\n            else if (this._current !== this._to) {\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n    get current() {\r\n        if (this.easing) {\r\n            return this.easing(this._current);\r\n        }\r\n        else {\r\n            return this._current;\r\n        }\r\n    }\r\n    stop() {\r\n        this.jumpTo(this._current);\r\n    }\r\n    jumpTo(value) {\r\n        if (this._current !== value) {\r\n            this._entity.markDirty();\r\n        }\r\n        if (this._playingDuration !== null) {\r\n            this._stopEvent();\r\n        }\r\n        this._playingDuration = null;\r\n        this._startingTime = null;\r\n        this._current = value;\r\n        this._from = value;\r\n        this._to = value;\r\n    }\r\n    tweenTo(value) {\r\n        if (this._current === value || this._duration === 0) {\r\n            this.jumpTo(value);\r\n        }\r\n        else {\r\n            if (this._to !== value) {\r\n                this._to = value;\r\n                this._play();\r\n            }\r\n        }\r\n    }\r\n}\r\n/*export class AnimationValue extends AnimationTime {\r\n    public _min: number;\r\n    public _max: number;\r\n\r\n    constructor(entity: Entity, duration: number, min: number, max: number) {\r\n        super(entity, duration);\r\n        this._min = min;\r\n        this._max = max;\r\n    }\r\n\r\n    public get min(): number {\r\n        return this._min;\r\n    }\r\n\r\n    public set min(value: number) {\r\n        if (this._min !== value) {\r\n            this._min = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public get max(): number {\r\n        return this._max;\r\n    }\r\n\r\n    public set max(value: number) {\r\n        if (this._max !== value) {\r\n            this._max = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public currentValue(): number {\r\n        return range(super.currentTime(), this._min, this._max);\r\n    }\r\n\r\n    public jumpToValue(value: number) {\r\n        super.jumpToTime(normalize(value, this._min, this._max));\r\n    }\r\n\r\n    public tweenToValue(value: number) {\r\n        super.tweenToTime(normalize(value, this._min, this._max));\r\n    }\r\n}\r\n*/\r\n//# sourceMappingURL=Animation.js.map"],"names":["ready","f","listener","removeElement","el","addEventListener","dom","type","options","Disposer","onZoom","_ev","supports","cap","getPointerId","event","blur","input","focus","getRendererEvent","key","isTouchEvent","ev","setStyle","property","value","getStyle","getEventTarget","path","contains","a","b","cursor","isLocalEvent","target","setInteractive","interactive","getEventKey","getShadowRoot","rootStylesheet","createStylesheet","element","text","nonce","e","getStylesheet","appendStylesheet","root","selector","index","StyleRule","DisposerClass","styles","$object.each","$array.indexOf","name","style","StyleSheet","addClass","className","classes","$array.each","currentClassName","item","removeClass","iOS","getSafeResolution","relativeToValue","percent","full","$type.isNumber","decimalPlaces","number","match","padString","len","char","trimLeft","trimRight","trim","truncateTextWithEllipsis","maxLength","breakWords","ellipsis","lastNonAlphanumericIndex","getFormat","format","hints","cleanFormat","stripTags","plainText","escapeForRgex","addSpacing","str","result","i","splitString","source","rtlChar","splitPattern","segments","segment","parts","part","getYearDay","date","utc","start","diff","oneDay","getWeek","_utc","d","day","firstDay","getWeekYear","getMonthWeek","firstWeek","currentWeek","getDayFromWeek","week","year","weekday","get12Hours","hours","base","getTimeZone","long","savings","timezone","d1","d2","wotz","wtz","getTimezoneOffset","targetDate","utcDate","capitalizeFirst","hslToRgb","color","r","g","h","s","l","hue2rgb","p","q","t","rgbToHsl","max","min","hsvToHsl","hsv","hslToHsv","hsl","v","lighten","rgb","getLightnessStep","brighten","step","getBrightnessStep","_value","isLight","saturate","saturation","alternativeColor","lightAlternative","darkAlternative","light","dark","mergeTags","tags1","tags2","self","sameBounds","string2hex","string","rgba2hex","matches","hex","val","Color","alpha","$utils.padString","$utils.rgbToHsl","$utils.hslToRgb","$type.isString","$utils.alternativeColor","from","to","mode","fromHSL","toHSL","range","$utils.lighten","$utils.brighten","$utils.saturate","waitForAnimations","animations","__awaiter","promises","_","animation","defaultInterpolate","percentInterpolate","Percent","colorInterpolate","getInterpolate","AnimationState"],"mappings":"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","x_google_ignoreList":[0,1,2]}