import{f as v,D as E,dl as $,cP as c,ex as ee,eF as m,fw as G,dk as Q,eC as N,eJ as C,g9 as Y,ga as Z,V as R,gb as l,gc as w}from"./index-CKfPgHC1.js";function k(n,f){if(!Array.isArray(n)||n.length<f)return!1;for(const h of n)if(typeof h!="number")return!1;return!0}const W=7645211,te={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new w({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"}),new w({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"}),new w({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"}),new w({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"}),new w({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"}),new w({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "});function re(n){var f,h,r,S,g,_,b,p,M,y,A,V,U,I;return!(!((h=(f=n.extensions)==null?void 0:f.ESRI_crs)!=null&&h.wkid||(S=(r=n.extensions)==null?void 0:r.ESRI_crs)!=null&&S.latestWkid||(_=(g=n.extensions)==null?void 0:g.ESRI_crs)!=null&&_.wkt)||!((y=(M=(p=(b=n.root)==null?void 0:b.extensions)==null?void 0:p.ESRI_crs)==null?void 0:M.boundingVolume)!=null&&y.box)&&!((I=(U=(V=(A=n.root)==null?void 0:A.extensions)==null?void 0:V.ESRI_crs)==null?void 0:U.boundingVolume)!=null&&I.sphere))}function se(n,f=!1){var b,p,M,y,A,V,U,I,L,X,D,H,q,F,J,P,T,j,B,K,O;let h=new v({wkid:4326,vcsWkid:115700}),r=(b=n.root)==null?void 0:b.boundingVolume,S=!1,g=(p=n==null?void 0:n.root)==null?void 0:p.transform;if(f&&((y=(M=n.extensions)==null?void 0:M.ESRI_crs)!=null&&y.wkid||(V=(A=n.extensions)==null?void 0:A.ESRI_crs)!=null&&V.latestWkid||(I=(U=n.extensions)==null?void 0:U.ESRI_crs)!=null&&I.wkt)&&((H=(D=(X=(L=n.root)==null?void 0:L.extensions)==null?void 0:X.ESRI_crs)==null?void 0:D.boundingVolume)!=null&&H.box||(P=(J=(F=(q=n.root)==null?void 0:q.extensions)==null?void 0:F.ESRI_crs)==null?void 0:J.boundingVolume)!=null&&P.sphere))h=new v((T=n.extensions)==null?void 0:T.ESRI_crs),r=(K=(B=(j=n.root)==null?void 0:j.extensions)==null?void 0:B.ESRI_crs)==null?void 0:K.boundingVolume,g=(O=n.root)==null?void 0:O.transform,S=!0;else if(!r)return new E(-180,-90,180,90,h);if(r.box){const t=r==null?void 0:r.box;if(t[3]>W&&t[7]>W&&t[11]>W)return new E({...te,spatialReference:h})}const _=R();if(!S&&r.region&&k(r.region,6)){const t=r.region,a=$(t[0]),o=$(t[1]),s=t[4],i=$(t[2]),e=$(t[3]),x=t[5];return new E({xmin:a,ymin:o,zmin:s,xmax:i,ymax:e,zmax:x,spatialReference:h})}if(r.sphere&&k(r.sphere,4)){const t=r.sphere,a=c(t[0],t[1],t[2]),o=t[3]/Math.sqrt(3),s=R();ee(s,a,c(o,o,o));const i=R();if(m(i,a,c(o,o,o)),g&&k(g,16)){const d=g;G(_,s,d),Q(s,_),G(_,i,d),Q(i,_)}S||(N(s,C,0,s,v.WGS84,0),N(i,C,0,i,v.WGS84,0));const e=R(),x=R();return Y(e,s,i),Z(x,s,i),new E({xmin:e[0],ymin:e[1],zmin:e[2],xmax:x[0],ymax:x[1],zmax:x[2],spatialReference:h})}if(r.box&&k(r.box,12)){const t=r.box,a=c(t[0],t[1],t[2]),o=c(t[3],t[4],t[5]),s=c(t[6],t[7],t[8]),i=c(t[9],t[10],t[11]),e=[];for(let u=0;u<8;++u)e.push(R());if(m(e[0],a,o),m(e[0],e[0],s),m(e[0],e[0],i),l(e[1],a,o),m(e[1],e[1],s),m(e[1],e[1],i),m(e[2],a,o),l(e[2],e[2],s),m(e[2],e[2],i),l(e[3],a,o),l(e[3],e[3],s),m(e[3],e[3],i),m(e[4],a,o),m(e[4],e[4],s),l(e[4],e[4],i),l(e[5],a,o),m(e[5],e[5],s),l(e[5],e[5],i),m(e[6],a,o),l(e[6],e[6],s),l(e[6],e[6],i),l(e[7],a,o),l(e[7],e[7],s),l(e[7],e[7],i),g&&k(g,16)){const u=g;for(let z=0;z<8;++z)G(e[z],e[z],u)}const x=c(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),d=c(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let u=0;u<8;++u)S||N(e[u],C,0,e[u],v.WGS84,0),Y(d,d,e[u]),Z(x,x,e[u]);return new E({xmin:d[0],ymin:d[1],zmin:d[2],xmax:x[0],ymax:x[1],zmax:x[2],spatialReference:h})}return new E(-180,-90,180,90,h)}export{se as E,re as R};
//# sourceMappingURL=tiles3DUtils-BBO1kS2U.js.map
