{"version":3,"file":"rasterUtils-DMnYSBgr.js","sources":["../../node_modules/@arcgis/core/views/webgl/rasterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ZEROS as t}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{SizedPixelFormat as e,PixelType as n,TextureSamplingMode as a,TextureWrapMode as i,PixelFormat as r}from\"./enums.js\";import{Texture as u}from\"./Texture.js\";import{TextureDescriptor as o}from\"./TextureDescriptor.js\";function s(t,s,m=\"nearest\",l=!1){const c=!(l&&\"u8\"===s.pixelType),f=c?n.FLOAT:n.UNSIGNED_BYTE,p=null==s.pixels||0===s.pixels.length?null:c?s.getAsRGBAFloat():s.getAsRGBA(),_=t.capabilities.textureFloatLinear,g=new o;return g.width=s.width,g.height=s.height,g.internalFormat=c?e.RGBA32F:r.RGBA,g.samplingMode=!_||\"bilinear\"!==m&&\"cubic\"!==m?a.NEAREST:a.LINEAR,g.dataType=f,g.wrapMode=i.CLAMP_TO_EDGE,new u(t,g,p)}function m(t,r){const{spacing:s,offsets:m,coefficients:l,size:[c,f]}=r,p=s[0]>1,_=new o;_.width=p?4*c:c,_.height=f,_.internalFormat=e.RGBA32F,_.dataType=n.FLOAT,_.samplingMode=a.NEAREST,_.wrapMode=i.CLAMP_TO_EDGE;const g=new Float32Array(p?c*f*16:2*m.length);if(p&&null!=l)for(let e=0,n=0;e<l.length;e++)g[n++]=l[e],e%3==2&&(g[n++]=1);else for(let e=0;e<f;e++)for(let t=0;t<c;t++){const n=4*(e*c+t),a=2*(t*f+e);g[n]=m[a],g[n+1]=m[a+1],g[n+3]=-1===m[a]?0:1}return new u(t,_,g)}function l(t,e){const n=new o;return n.internalFormat=r.RGBA,n.width=e.length/4,n.height=1,n.samplingMode=a.NEAREST,n.wrapMode=i.CLAMP_TO_EDGE,new u(t,n,e)}function c(t,e,s){const m=new o;return m.internalFormat=r.ALPHA,m.pixelFormat=r.ALPHA,m.dataType=n.UNSIGNED_BYTE,m.width=s[0],m.height=s[1],m.samplingMode=a.NEAREST,m.wrapMode=i.CLAMP_TO_EDGE,new u(t,m,e)}function f(e,n,a,i=1,r=!0){return{u_flipY:r,u_applyTransform:!!e,u_opacity:i,u_transformSpacing:e?e.spacing:t,u_transformGridSize:e?e.size:t,u_targetImageSize:n,u_srcImageSize:a}}function p(t,e){return{u_colormapOffset:e||0,u_colormapMaxIndex:t?t.length/4-1:0}}function _(t){return{u_bandCount:t.bandCount,u_minOutput:t.minOutput,u_maxOutput:t.maxOutput,u_minCutOff:t.minCutOff,u_maxCutOff:t.maxCutOff,u_factor:t.factor,u_useGamma:t.useGamma,u_gamma:t.gamma,u_gammaCorrection:t.gammaCorrection}}function g(t){return{u_hillshadeType:t.hillshadeType,u_sinZcosAs:t.sinZcosAs,u_sinZsinAs:t.sinZsinAs,u_cosZs:t.cosZs,u_weights:t.weights,u_factor:t.factor,u_minValue:t.minValue,u_maxValue:t.maxValue}}export{l as createColormapTexture,c as createPixelMaskTexture,s as createRasterTexture,m as createTransformTexture,p as getColormapUniforms,f as getCommonUniforms,g as getShadedReliefUniforms,_ as getStretchUniforms};\n"],"names":["s","t","m","l","c","f","n","p","_","g","o","e","r","a","i","u"],"mappings":"yFAIuS,SAASA,EAAEC,EAAED,EAAEE,EAAE,UAAUC,EAAE,GAAG,CAAC,MAAMC,EAAE,EAAED,GAAUH,EAAE,YAAT,MAAoBK,EAAED,EAAEE,EAAE,MAAMA,EAAE,cAAcC,EAAQP,EAAE,QAAR,MAAoBA,EAAE,OAAO,SAAb,EAAoB,KAAKI,EAAEJ,EAAE,iBAAiBA,EAAE,YAAYQ,EAAEP,EAAE,aAAa,mBAAmBQ,EAAE,IAAIC,EAAE,OAAOD,EAAE,MAAMT,EAAE,MAAMS,EAAE,OAAOT,EAAE,OAAOS,EAAE,eAAeL,EAAEO,EAAE,QAAQC,EAAE,KAAKH,EAAE,aAAa,CAACD,GAAgBN,IAAb,YAA0BA,IAAV,QAAYW,EAAE,QAAQA,EAAE,OAAOJ,EAAE,SAASJ,EAAEI,EAAE,SAASK,EAAE,cAAc,IAAIC,EAAEd,EAAEQ,EAAEF,CAAC,CAAC,CAAC,SAASL,EAAED,EAAEW,EAAE,CAAC,KAAK,CAAC,QAAQZ,EAAE,QAAQE,EAAE,aAAaC,EAAE,KAAK,CAACC,EAAEC,CAAC,CAAC,EAAEO,EAAE,EAAEZ,EAAE,CAAC,EAAE,EAAEQ,EAAE,IAAIE,EAAEF,EAAE,MAAM,EAAE,EAAEJ,EAAEA,EAAEI,EAAE,OAAOH,EAAEG,EAAE,eAAeG,EAAE,QAAQH,EAAE,SAASF,EAAE,MAAME,EAAE,aAAaK,EAAE,QAAQL,EAAE,SAASM,EAAE,cAAc,MAAML,EAAE,IAAI,aAAa,EAAEL,EAAEC,EAAE,GAAG,EAAEH,EAAE,MAAM,EAAE,GAAG,GAASC,GAAN,KAAQ,QAAQQ,EAAE,EAAEL,EAAE,EAAEK,EAAER,EAAE,OAAOQ,IAAIF,EAAEH,GAAG,EAAEH,EAAEQ,CAAC,EAAEA,EAAE,GAAG,IAAIF,EAAEH,GAAG,EAAE,OAAQ,SAAQK,EAAE,EAAEA,EAAEN,EAAEM,IAAI,QAAQV,EAAE,EAAEA,EAAEG,EAAEH,IAAI,CAAC,MAAMK,EAAE,GAAGK,EAAEP,EAAEH,GAAGY,EAAE,GAAGZ,EAAEI,EAAEM,GAAGF,EAAEH,CAAC,EAAEJ,EAAEW,CAAC,EAAEJ,EAAEH,EAAE,CAAC,EAAEJ,EAAEW,EAAE,CAAC,EAAEJ,EAAEH,EAAE,CAAC,EAAOJ,EAAEW,CAAC,IAAR,GAAU,EAAE,CAAC,CAAC,OAAO,IAAIE,EAAEd,EAAEO,EAAEC,CAAC,CAAC,CAAC,SAASN,EAAEF,EAAEU,EAAE,CAAC,MAAML,EAAE,IAAII,EAAE,OAAOJ,EAAE,eAAeM,EAAE,KAAKN,EAAE,MAAMK,EAAE,OAAO,EAAEL,EAAE,OAAO,EAAEA,EAAE,aAAaO,EAAE,QAAQP,EAAE,SAASQ,EAAE,cAAc,IAAIC,EAAEd,EAAEK,EAAEK,CAAC,CAAC,CAAC,SAASP,EAAEH,EAAEU,EAAEX,EAAE,CAAC,MAAME,EAAE,IAAIQ,EAAE,OAAOR,EAAE,eAAeU,EAAE,MAAMV,EAAE,YAAYU,EAAE,MAAMV,EAAE,SAASI,EAAE,cAAcJ,EAAE,MAAMF,EAAE,CAAC,EAAEE,EAAE,OAAOF,EAAE,CAAC,EAAEE,EAAE,aAAaW,EAAE,QAAQX,EAAE,SAASY,EAAE,cAAc,IAAIC,EAAEd,EAAEC,EAAES,CAAC,CAAC","x_google_ignoreList":[0]}