{"version":3,"file":"GaussianSplatSortWorker-QQPlimXW.js","sources":["../../node_modules/@arcgis/core/views/3d/support/GaussianSplatSortWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,n,r=!1){this.distances=t,this.sortOrderIndices=s,this.numGaussians=n,this.preciseSort=r}}class s{constructor(t,s){this.distances=t,this.sortedOrderIndices=s}}let n=null,r=null;const e=10,o=20,i=.25;function l(t,s){n?.length!==t&&(n=new Uint32Array(t)),r&&r.length===1+(1<<s)?r.fill(0):r=new Uint32Array(1+(1<<s))}function a(t,s){const a=t.length,c=Math.max(e,Math.min(o,Math.round(Math.log2(a/i)))),u=1+(1<<c);l(a,c);let f=t[0],h=t[0];for(let n=0;n<t.length;n++)f=Math.min(f,t[n]),h=Math.max(h,t[n]);const d=h-f;if(d<1e-6)for(let e=0;e<a;++e)n[e]=0,r[0]++;else{const s=(1<<c)/d;for(let e=0;e<a;e++){const o=(t[e]-f)*s>>>0;n[e]=o,r[o]++}}for(let n=1;n<u;n++)r[n]+=r[n-1];for(let e=0;e<a;e++){const t=n[e];s[--r[t]]=e}}async function c(t){const{distances:n,sortOrderIndices:r,preciseSort:e,numGaussians:o}=t,i=n.subarray(0,o),l=r.subarray(0,o);if(0===i.length||0===l.length)return{result:new s(n,r),transferList:[n.buffer,r.buffer]};if(e){const t=Array.from(l.keys());t.sort((t,s)=>i[t]-i[s]||t-s);const s=t.map(t=>l[t]);l.set(s)}else a(i,l);return{result:new s(n,r),transferList:[n.buffer,r.buffer]}}function u(){n=null,r=null}export{t as SplatSortWorkerInput,s as SplatSortWorkerOutput,u as destroy,c as sort};\n"],"names":["t","n","r","s","e","o","i","l","a","f","h","d","c","u"],"mappings":"AAIA,MAAMA,CAAC,CAAC,YAAYA,EAAE,EAAEC,EAAEC,EAAE,GAAG,CAAC,KAAK,UAAUF,EAAE,KAAK,iBAAiB,EAAE,KAAK,aAAaC,EAAE,KAAK,YAAYC,CAAC,CAAC,CAAC,MAAMC,CAAC,CAAC,YAAYH,EAAE,EAAE,CAAC,KAAK,UAAUA,EAAE,KAAK,mBAAmB,CAAC,CAAC,CAAC,IAAIC,EAAE,KAAKC,EAAE,KAAK,MAAME,EAAE,GAAGC,EAAE,GAAGC,EAAE,IAAI,SAASC,EAAEP,EAAEG,EAAE,EAACF,GAAA,YAAAA,EAAG,UAASD,IAAIC,EAAE,IAAI,YAAYD,CAAC,GAAGE,GAAGA,EAAE,SAAS,GAAG,GAAGC,GAAGD,EAAE,KAAK,CAAC,EAAEA,EAAE,IAAI,YAAY,GAAG,GAAGC,EAAE,CAAC,CAAC,SAASK,EAAER,EAAEG,EAAE,CAAC,MAAMK,EAAER,EAAE,OAAO,EAAE,KAAK,IAAII,EAAE,KAAK,IAAIC,EAAE,KAAK,MAAM,KAAK,KAAKG,EAAEF,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,GAAG,GAAGC,EAAEC,EAAE,CAAC,EAAE,IAAIC,EAAET,EAAE,CAAC,EAAEU,EAAEV,EAAE,CAAC,EAAE,QAAQC,EAAE,EAAEA,EAAED,EAAE,OAAOC,IAAIQ,EAAE,KAAK,IAAIA,EAAET,EAAEC,CAAC,CAAC,EAAES,EAAE,KAAK,IAAIA,EAAEV,EAAEC,CAAC,CAAC,EAAE,MAAMU,EAAED,EAAED,EAAE,GAAGE,EAAE,KAAK,QAAQP,EAAE,EAAEA,EAAEI,EAAE,EAAEJ,EAAEH,EAAEG,CAAC,EAAE,EAAEF,EAAE,CAAC,QAAQ,CAAC,MAAMC,GAAG,GAAG,GAAGQ,EAAE,QAAQP,EAAE,EAAEA,EAAEI,EAAEJ,IAAI,CAAC,MAAMC,GAAGL,EAAEI,CAAC,EAAEK,GAAGN,IAAI,EAAEF,EAAEG,CAAC,EAAEC,EAAEH,EAAEG,CAAC,GAAG,CAAC,CAAC,QAAQJ,EAAE,EAAEA,EAAE,EAAEA,IAAIC,EAAED,CAAC,GAAGC,EAAED,EAAE,CAAC,EAAE,QAAQG,EAAE,EAAEA,EAAEI,EAAEJ,IAAI,CAAC,MAAMJ,EAAEC,EAAEG,CAAC,EAAED,EAAE,EAAED,EAAEF,CAAC,CAAC,EAAEI,CAAC,CAAC,CAAC,eAAeQ,EAAEZ,EAAE,CAAC,KAAK,CAAC,UAAUC,EAAE,iBAAiBC,EAAE,YAAYE,EAAE,aAAaC,CAAC,EAAEL,EAAEM,EAAEL,EAAE,SAAS,EAAEI,CAAC,EAAE,EAAEH,EAAE,SAAS,EAAEG,CAAC,EAAE,GAAOC,EAAE,SAAN,GAAkB,EAAE,SAAN,EAAa,MAAM,CAAC,OAAO,IAAIH,EAAEF,EAAEC,CAAC,EAAE,aAAa,CAACD,EAAE,OAAOC,EAAE,MAAM,CAAC,EAAE,GAAGE,EAAE,CAAC,MAAMJ,EAAE,MAAM,KAAK,EAAE,KAAI,CAAE,EAAEA,EAAE,KAAK,CAACA,EAAEG,IAAIG,EAAEN,CAAC,EAAEM,EAAEH,CAAC,GAAGH,EAAEG,CAAC,EAAE,MAAMA,EAAEH,EAAE,IAAIA,GAAG,EAAEA,CAAC,CAAC,EAAE,EAAE,IAAIG,CAAC,CAAC,MAAMK,EAAEF,EAAE,CAAC,EAAE,MAAM,CAAC,OAAO,IAAIH,EAAEF,EAAEC,CAAC,EAAE,aAAa,CAACD,EAAE,OAAOC,EAAE,MAAM,CAAC,CAAC,CAAC,SAASW,GAAG,CAACZ,EAAE,KAAKC,EAAE,IAAI","x_google_ignoreList":[0]}