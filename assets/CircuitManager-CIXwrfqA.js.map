{"version":3,"mappings":"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","names":["h","i","r","_b","_a","e","t","c","l","__vitePreload","u","d","m","s","n","o","a","b"],"ignoreList":[0],"sources":["../../node_modules/@arcgis/core/networks/CircuitManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../core/Error.js\";import{JSONSupport as i}from\"../core/JSONSupport.js\";import{watch as r}from\"../core/reactiveUtils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import c from\"../layers/FeatureLayer.js\";import{emitApplyEditsEvent as n}from\"../layers/mixins/EditBusLayer.js\";import a from\"./UtilityNetwork.js\";import l from\"./support/Circuit.js\";import{isVersionInEditSession as u,currentSessionId as d,isSafeToEditVersion as m}from\"../versionManagement/support/versionManagementUtils.js\";let h=class extends i{constructor(e){super(e),this._circuitTable=null,this._circuitSectionTable=null,this._subcircuitTable=null,this.telecomDomainNetwork=null,this.utilityNetwork=null}initialize(){this.addHandles([r(()=>[this.gdbVersion,this.historicMoment],()=>{this._setLayerVersionAndMoment(this._circuitTable),this._setLayerVersionAndMoment(this._circuitSectionTable),this._setLayerVersionAndMoment(this._subcircuitTable)})])}get _circuitTableUrl(){if(null==this.telecomDomainNetwork)return null;const e=this.telecomDomainNetwork.circuitSources?.find(e=>\"esriUNFCUTCircuit\"===e.utilityNetworkFeatureClassUsageType)?.layerId??null;return null==e?null:`${this.featureServiceUrl}/${e}`}get _circuitSectionTableUrl(){if(null==this.telecomDomainNetwork)return null;const e=this.telecomDomainNetwork.circuitSources?.find(e=>\"esriUNFCUTCircuitSection\"===e.utilityNetworkFeatureClassUsageType)?.layerId??null;return null==e?null:`${this.featureServiceUrl}/${e}`}get _subcircuitTableUrl(){if(null==this.telecomDomainNetwork)return null;const e=this.telecomDomainNetwork.circuitSources?.find(e=>\"esriUNFCUTSubcircuit\"===e.utilityNetworkFeatureClassUsageType)?.layerId??null;return null==e?null:`${this.featureServiceUrl}/${e}`}get networkServiceUrl(){return this.utilityNetwork?.networkServiceUrl??null}get featureServiceUrl(){return this.utilityNetwork?.featureServiceUrl??null}get gdbVersion(){return this.utilityNetwork?.gdbVersion??null}get historicMoment(){return this.utilityNetwork?.historicMoment??null}get telecomDomainNetworkName(){return this.telecomDomainNetwork?.domainNetworkName??null}get circuitTable(){if(null!=this._circuitTable)return this._circuitTable;if(null==this._circuitTableUrl)throw new t(\"circuit-manager:missing-circuit-table-url\",\"Unable to load the circuit table; cannot get layer url from `telecomDomainNetwork.\",\"Ensure `telecomDomainNetwork` was provided to the circuit manager.\");return this._circuitTable=new c({url:this._circuitTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._circuitTable}get circuitSectionTable(){if(null!=this._circuitSectionTable)return this._circuitSectionTable;if(null==this._circuitSectionTableUrl)throw new t(\"circuit-manager:missing-circuit-section-table-url\",\"Unable to load the circuit section table; cannot get layer url from `telecomDomainNetwork.\",\"Ensure `telecomDomainNetwork` was provided to the circuit manager.\");return this._circuitSectionTable=new c({url:this._circuitSectionTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._circuitSectionTable}get subcircuitTable(){if(null!=this._subcircuitTable)return this._subcircuitTable;if(null==this._subcircuitTableUrl)throw new t(\"circuit-manager:missing-subcircuit-table-url\",\"Unable to load the subcircuit table; cannot get layer url from `telecomDomainNetwork.\",\"Ensure `telecomDomainNetwork` was provided to the circuit manager.\");return this._subcircuitTable=new c({url:this._subcircuitTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._subcircuitTable}async loadCircuitTable(){return this.circuitTable.load()}async loadCircuitSectionTable(){return this.circuitSectionTable.load()}async loadSubcircuitTable(){return this.subcircuitTable.load()}getCircuit(e,t=!1){return new l({circuitManager:this,name:e,sections:t?new Map:null})}async create(e){const[{createCircuit:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/createCircuit.js\"),import(\"../rest/networks/circuits/support/CreateAlterCircuitParameters.js\")]),r=i.from({circuit:e,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(r.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):r.sessionId=null,r.gdbVersion=this.gdbVersion;const s=n(this.featureServiceUrl,null,this.gdbVersion,!1),o=await t(this.networkServiceUrl,r);e.circuitManager=this,s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:o.exceededTransferLimit,historicMoment:o.moment,editedFeatures:o.serviceEdits||void 0})}async alter(e){if(null==e.globalId)throw new t(\"circuit-manager:alter-without-globalid\",\"A circuit being altered must have a globalId\",\"To ensure the circuit has a globalId, query the circuit first\");const[{alterCircuit:i},{default:r}]=await Promise.all([import(\"../rest/networks/circuits/alterCircuit.js\"),import(\"../rest/networks/circuits/support/CreateAlterCircuitParameters.js\")]),s=r.from({circuit:e,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(s.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):s.sessionId=null,s.gdbVersion=this.gdbVersion;const o=n(this.featureServiceUrl,null,this.gdbVersion,!1),c=await i(this.networkServiceUrl,s);e.circuitManager=this,o.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:c.exceededTransferLimit,historicMoment:c.moment,editedFeatures:c.serviceEdits||void 0})}async delete(e){const[{deleteCircuits:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/deleteCircuits.js\"),import(\"../rest/networks/circuits/support/DeleteCircuitsParameters.js\")]),r=i.from({circuits:e,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(r.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):r.sessionId=null,r.gdbVersion=this.gdbVersion;const s=n(this.featureServiceUrl,null,this.gdbVersion,!1),o=await t(this.networkServiceUrl,r);s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:o.exceededTransferLimit,historicMoment:o.moment,editedFeatures:o.serviceEdits||void 0})}async export(e){const[{exportCircuits:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/exportCircuits.js\"),import(\"../rest/networks/circuits/support/ExportCircuitsParameters.js\")]),r=i.from(e);u(this.featureServiceUrl,this.gdbVersion||null)?(r.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):r.sessionId=null,r.domainNetworkName=this.telecomDomainNetworkName,r.gdbVersion=this.gdbVersion,r.moment=this.historicMoment;const s=n(this.featureServiceUrl,null,this.gdbVersion,!1),o=await t(this.networkServiceUrl,r);return s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:o.exceededTransferLimit,historicMoment:o.moment,editedFeatures:o.serviceEdits||void 0}),o.circuits}async verify(e,t=!1){const[{verifyCircuits:i},{default:r}]=await Promise.all([import(\"../rest/networks/circuits/verifyCircuits.js\"),import(\"../rest/networks/circuits/support/VerifyCircuitsParameters.js\")]),s=r.from({circuits:e,synthesizeGeometries:t,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(s.sessionId=d,await m(this.featureServiceUrl,this.gdbVersion,!0)):s.sessionId=null,s.gdbVersion=this.gdbVersion;const o=n(this.featureServiceUrl,null,this.gdbVersion,!1),c=await i(this.networkServiceUrl,s);return o.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:c.exceededTransferLimit,historicMoment:c.moment,editedFeatures:c.serviceEdits||void 0}),c.circuits}async queryCircuits(e){const[{queryCircuits:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/queryCircuits.js\"),import(\"../rest/networks/circuits/support/QueryCircuitsParameters.js\")]),r=Array.isArray(e)?{circuits:e}:e,s=i.from(r);u(this.featureServiceUrl,this.gdbVersion||null)?s.sessionId=d:s.sessionId=null,s.domainNetworkName=this.telecomDomainNetworkName,s.resultTypes=[\"circuit\"],s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment;const o=await t(this.networkServiceUrl,s);return o.circuits?.forEach(e=>e.circuitManager=this),o.circuits||[]}async queryCircuitNames(e){const[{queryCircuits:t},{default:i}]=await Promise.all([import(\"../rest/networks/circuits/queryCircuits.js\"),import(\"../rest/networks/circuits/support/QueryCircuitsParameters.js\")]),r=i.from(e);u(this.featureServiceUrl,this.gdbVersion||null)?r.sessionId=d:r.sessionId=null,r.domainNetworkName=this.telecomDomainNetworkName,r.resultTypes=[\"name\"],r.gdbVersion=this.gdbVersion,r.moment=this.historicMoment;return(await t(this.networkServiceUrl,r)).circuitNames||[]}_setLayerVersionAndMoment(e){null!=e&&(e.gdbVersion!==this.gdbVersion&&(e.gdbVersion=this.gdbVersion),e.historicMoment!==this.historicMoment&&(e.historicMoment=this.historicMoment))}};e([s()],h.prototype,\"_circuitTable\",void 0),e([s()],h.prototype,\"_circuitSectionTable\",void 0),e([s()],h.prototype,\"_subcircuitTable\",void 0),e([s({constructOnly:!0})],h.prototype,\"telecomDomainNetwork\",void 0),e([s({type:a,constructOnly:!0})],h.prototype,\"utilityNetwork\",void 0),e([s()],h.prototype,\"networkServiceUrl\",null),e([s()],h.prototype,\"featureServiceUrl\",null),e([s()],h.prototype,\"gdbVersion\",null),e([s()],h.prototype,\"historicMoment\",null),e([s()],h.prototype,\"telecomDomainNetworkName\",null),e([s()],h.prototype,\"circuitTable\",null),e([s()],h.prototype,\"circuitSectionTable\",null),e([s()],h.prototype,\"subcircuitTable\",null),h=e([o(\"esri.networks.CircuitManager\")],h);const b=h;export{b as default};\n"],"file":"assets/CircuitManager-CIXwrfqA.js"}