{"version":3,"file":"ArcGISCachedService-f45omndu.js","sources":["../../node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as r}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../../geometry/SpatialReference.js\";import i from\"../support/TileInfo.js\";import a from\"../support/TileInfoTilemapCache.js\";import{TilemapCache as s}from\"../support/TilemapCache.js\";const p=p=>{const n=p;let c=class extends n{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}readMaxScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,o,r){const t=o.capabilities?.includes(\"Tilemap\");let{minLOD:l,maxLOD:p,minScale:n,maxScale:c}=o;if(null==l&&null==p&&(0!==n||0!==c)){const e=e=>Math.round(1e4*e)/1e4;n=e(n||o.tileInfo.lods[0].scale),c=e(c||o.tileInfo.lods[o.tileInfo.lods.length-1].scale);for(const r of o.tileInfo.lods){const o=e(r.scale);l=o>=n?r.level:l,p=o>=c?r.level:p}}if(t)return new s({layer:this,minLOD:l,maxLOD:p});if(o.tileInfo){const e=new i;return e.read(o.tileInfo,r),new a(e,l,p)}return null}};return e([o({json:{read:{source:\"copyrightText\"}}})],c.prototype,\"copyright\",void 0),e([o()],c.prototype,\"minScale\",void 0),e([r(\"service\",\"minScale\")],c.prototype,\"readMinScale\",null),e([o()],c.prototype,\"maxScale\",void 0),e([r(\"service\",\"maxScale\")],c.prototype,\"readMaxScale\",null),e([o({type:l})],c.prototype,\"spatialReference\",void 0),e([o({readOnly:!0})],c.prototype,\"supportsBlankTile\",null),e([o({type:i})],c.prototype,\"tileInfo\",void 0),e([o()],c.prototype,\"tilemapCache\",void 0),e([r(\"service\",\"tilemapCache\",[\"capabilities\",\"tileInfo\"])],c.prototype,\"readTilemapCache\",null),e([o()],c.prototype,\"version\",void 0),c=e([t(\"esri.layers.mixins.ArcGISCachedService\")],c),c};export{p as ArcGISCachedService};\n"],"names":["p","n","c","_b","_a","e","o","r","t","l","s","i","a"],"mappings":"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","x_google_ignoreList":[0]}