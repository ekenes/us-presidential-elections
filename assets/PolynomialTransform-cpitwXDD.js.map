{"version":3,"file":"PolynomialTransform-cpitwXDD.js","sources":["../../node_modules/@arcgis/core/layers/support/rasterTransforms/BaseRasterTransform.js","../../node_modules/@arcgis/core/layers/support/rasterTransforms/GCSShiftTransform.js","../../node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/JSONSupport.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends e{get affectsPixelSize(){return!1}forwardTransform(r){return r}inverseTransform(r){return r}};r([o()],t.prototype,\"affectsPixelSize\",null),r([o({json:{write:!0}})],t.prototype,\"spatialReference\",void 0),t=r([s(\"esri.layers.support.rasterTransforms.BaseRasterTransform\")],t);export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as e}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./BaseRasterTransform.js\";var a;let n=a=class extends s{constructor(){super(...arguments),this.type=\"gcs-shift\",this.tolerance=1e-8}forwardTransform(r){return\"point\"===(r=r.clone()).type?(r.x>180+this.tolerance&&(r.x-=360),r):(r.xmin>=180-this.tolerance?(r.xmax-=360,r.xmin-=360):r.xmax>180+this.tolerance&&(r.xmin=-180,r.xmax=180),r)}inverseTransform(r){return\"point\"===(r=r.clone()).type?(r.x<-this.tolerance&&(r.x+=360),r):(r.xmin<-this.tolerance&&(r.xmin+=360,r.xmax+=360),r)}clone(){return new a({tolerance:this.tolerance})}};r([e({GCSShiftXform:\"gcs-shift\"})],n.prototype,\"type\",void 0),r([o()],n.prototype,\"tolerance\",void 0),n=a=r([t(\"esri.layers.support.rasterTransforms.GCSShiftTransform\")],n);export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as o}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{reader as t}from\"../../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../../core/accessorSupport/decorators/writer.js\";import n from\"../../../geometry/Extent.js\";import f from\"../../../geometry/Point.js\";import l from\"./BaseRasterTransform.js\";var p;function a(e,r,o){const{x:t,y:s}=r;if(o<2){return{x:e[0]+t*e[2]+s*e[4],y:e[1]+t*e[3]+s*e[5]}}if(2===o){const r=t*t,o=s*s,i=t*s;return{x:e[0]+t*e[2]+s*e[4]+r*e[6]+i*e[8]+o*e[10],y:e[1]+t*e[3]+s*e[5]+r*e[7]+i*e[9]+o*e[11]}}const i=t*t,n=s*s,f=t*s,l=i*t,p=i*s,a=t*n,c=s*n;return{x:e[0]+t*e[2]+s*e[4]+i*e[6]+f*e[8]+n*e[10]+l*e[12]+p*e[14]+a*e[16]+c*e[18],y:e[1]+t*e[3]+s*e[5]+i*e[7]+f*e[9]+n*e[11]+l*e[13]+p*e[15]+a*e[17]+c*e[19]}}function c(e,r,o){const{xmin:t,ymin:s,xmax:i,ymax:f,spatialReference:l}=r;let p=[];if(o<2)p.push({x:t,y:f}),p.push({x:i,y:f}),p.push({x:t,y:s}),p.push({x:i,y:s});else{let e=10;for(let r=0;r<e;r++)p.push({x:t,y:s+(f-s)*r/(e-1)}),p.push({x:i,y:s+(f-s)*r/(e-1)});e=8;for(let r=1;r<=e;r++)p.push({x:t+(i-t)*r/e,y:s}),p.push({x:t+(i-t)*r/e,y:f})}p=p.map((r=>a(e,r,o)));const c=p.map((e=>e.x)),u=p.map((e=>e.y));return new n({xmin:Math.min.apply(null,c),xmax:Math.max.apply(null,c),ymin:Math.min.apply(null,u),ymax:Math.max.apply(null,u),spatialReference:l})}function u(e){const[r,o,t,s,i,n]=e,f=t*n-i*s,l=i*s-t*n;return[(i*o-r*n)/f,(t*o-r*s)/l,n/f,s/l,-i/f,-t/l]}let m=p=class extends l{constructor(){super(...arguments),this.polynomialOrder=1,this.type=\"polynomial\"}readForwardCoefficients(e,r){const{coeffX:o,coeffY:t}=r;if(!o?.length||!t?.length||o.length!==t.length)return null;const s=[];for(let i=0;i<o.length;i++)s.push(o[i]),s.push(t[i]);return s}writeForwardCoefficients(e,r,o){const t=[],s=[];for(let i=0;i<e?.length;i++)i%2==0?t.push(e[i]):s.push(e[i]);r.coeffX=t,r.coeffY=s}get inverseCoefficients(){let e=this._get(\"inverseCoefficients\");const r=this._get(\"forwardCoefficients\");return!e&&r&&this.polynomialOrder<2&&(e=u(r)),e}set inverseCoefficients(e){this._set(\"inverseCoefficients\",e)}readInverseCoefficients(e,r){const{inverseCoeffX:o,inverseCoeffY:t}=r;if(!o?.length||!t?.length||o.length!==t.length)return null;const s=[];for(let i=0;i<o.length;i++)s.push(o[i]),s.push(t[i]);return s}writeInverseCoefficients(e,r,o){const t=[],s=[];for(let i=0;i<e?.length;i++)i%2==0?t.push(e[i]):s.push(e[i]);r.inverseCoeffX=t,r.inverseCoeffY=s}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(e){if(\"point\"===e.type){const r=a(this.forwardCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if(\"point\"===e.type){const r=a(this.inverseCoefficients,e,this.polynomialOrder);return new f({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.inverseCoefficients,e,this.polynomialOrder)}clone(){return new p({polynomialOrder:this.polynomialOrder,forwardCoefficients:this.forwardCoefficients?[...this.forwardCoefficients]:null,inverseCoefficients:this.inverseCoefficients?[...this.inverseCoefficients]:null})}};e([r({json:{write:!0}})],m.prototype,\"polynomialOrder\",void 0),e([r()],m.prototype,\"forwardCoefficients\",void 0),e([t(\"forwardCoefficients\",[\"coeffX\",\"coeffY\"])],m.prototype,\"readForwardCoefficients\",null),e([i(\"forwardCoefficients\")],m.prototype,\"writeForwardCoefficients\",null),e([r({json:{write:!0}})],m.prototype,\"inverseCoefficients\",null),e([t(\"inverseCoefficients\",[\"inverseCoeffX\",\"inverseCoeffY\"])],m.prototype,\"readInverseCoefficients\",null),e([i(\"inverseCoefficients\")],m.prototype,\"writeInverseCoefficients\",null),e([r()],m.prototype,\"affectsPixelSize\",null),e([o({PolynomialXform:\"polynomial\"})],m.prototype,\"type\",void 0),m=p=e([s(\"esri.layers.support.rasterTransforms.PolynomialTransform\")],m);export{m as default};\n"],"names":["t","e","r","o","s","a","n","p","i","f","l","c","u","m"],"mappings":"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","x_google_ignoreList":[0,1,2]}