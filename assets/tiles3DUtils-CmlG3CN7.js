import{f as v,B as E,cV as k,cn as g,eo as ee,ew as m,fw as G,cU as Q,et as N,eA as W,fR as Y,fS as Z,cl as R,fT as x,fU as w}from"./index-Dbb7O7mW.js";function z(n,_){if(!Array.isArray(n)||n.length<_)return!1;for(const h of n)if(typeof h!="number")return!1;return!0}const C=7645211,te={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new w({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"}),new w({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"}),new w({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"}),new w({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"}),new w({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"}),new w({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "});function re(n){var _,h,r,f,c,S,b,p,M,y,A,U,V,I;return!(!((h=(_=n.extensions)==null?void 0:_.ESRI_crs)!=null&&h.wkid||(f=(r=n.extensions)==null?void 0:r.ESRI_crs)!=null&&f.latestWkid||(S=(c=n.extensions)==null?void 0:c.ESRI_crs)!=null&&S.wkt)||!((y=(M=(p=(b=n.root)==null?void 0:b.extensions)==null?void 0:p.ESRI_crs)==null?void 0:M.boundingVolume)!=null&&y.box)&&!((I=(V=(U=(A=n.root)==null?void 0:A.extensions)==null?void 0:U.ESRI_crs)==null?void 0:V.boundingVolume)!=null&&I.sphere))}function se(n,_=!1){var b,p,M,y,A,U,V,I,L,X,D,H,T,q,B,j,F,J,K,O,P;let h=new v({wkid:4326,vcsWkid:115700}),r=(b=n.root)==null?void 0:b.boundingVolume,f=!1,c=(p=n==null?void 0:n.root)==null?void 0:p.transform;if(_&&((y=(M=n.extensions)==null?void 0:M.ESRI_crs)!=null&&y.wkid||(U=(A=n.extensions)==null?void 0:A.ESRI_crs)!=null&&U.latestWkid||(I=(V=n.extensions)==null?void 0:V.ESRI_crs)!=null&&I.wkt)&&((H=(D=(X=(L=n.root)==null?void 0:L.extensions)==null?void 0:X.ESRI_crs)==null?void 0:D.boundingVolume)!=null&&H.box||(j=(B=(q=(T=n.root)==null?void 0:T.extensions)==null?void 0:q.ESRI_crs)==null?void 0:B.boundingVolume)!=null&&j.sphere))h=new v((F=n.extensions)==null?void 0:F.ESRI_crs),r=(O=(K=(J=n.root)==null?void 0:J.extensions)==null?void 0:K.ESRI_crs)==null?void 0:O.boundingVolume,c=(P=n.root)==null?void 0:P.transform,f=!0;else if(!r)return new E(-180,-90,180,90,h);if(r.box){const t=r==null?void 0:r.box;if(t[3]>C&&t[7]>C&&t[11]>C)return new E({...te,spatialReference:h})}const S=R();if(!f&&r.region&&z(r.region,6)){const t=r.region,a=k(t[0]),o=k(t[1]),s=t[4],i=k(t[2]),e=k(t[3]),l=t[5];return new E({xmin:a,ymin:o,zmin:s,xmax:i,ymax:e,zmax:l,spatialReference:h})}if(r.sphere&&z(r.sphere,4)){const t=r.sphere,a=g(t[0],t[1],t[2]),o=t[3]/Math.sqrt(3),s=R();ee(s,a,g(o,o,o));const i=R();if(m(i,a,g(o,o,o)),c&&z(c,16)){const d=c;G(S,s,d),Q(s,S),G(S,i,d),Q(i,S)}f||(N(s,W,0,s,v.WGS84,0),N(i,W,0,i,v.WGS84,0));const e=R(),l=R();return Y(e,s,i),Z(l,s,i),new E({xmin:e[0],ymin:e[1],zmin:e[2],xmax:l[0],ymax:l[1],zmax:l[2],spatialReference:h})}if(r.box&&z(r.box,12)){const t=r.box,a=g(t[0],t[1],t[2]),o=g(t[3],t[4],t[5]),s=g(t[6],t[7],t[8]),i=g(t[9],t[10],t[11]),e=[];for(let u=0;u<8;++u)e.push(R());if(m(e[0],a,o),m(e[0],e[0],s),m(e[0],e[0],i),x(e[1],a,o),m(e[1],e[1],s),m(e[1],e[1],i),m(e[2],a,o),x(e[2],e[2],s),m(e[2],e[2],i),x(e[3],a,o),x(e[3],e[3],s),m(e[3],e[3],i),m(e[4],a,o),m(e[4],e[4],s),x(e[4],e[4],i),x(e[5],a,o),m(e[5],e[5],s),x(e[5],e[5],i),m(e[6],a,o),x(e[6],e[6],s),x(e[6],e[6],i),x(e[7],a,o),x(e[7],e[7],s),x(e[7],e[7],i),c&&z(c,16)){const u=c;for(let $=0;$<8;++$)G(e[$],e[$],u)}const l=g(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),d=g(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let u=0;u<8;++u)f||N(e[u],W,0,e[u],v.WGS84,0),Y(d,d,e[u]),Z(l,l,e[u]);return new E({xmin:d[0],ymin:d[1],zmin:d[2],xmax:l[0],ymax:l[1],zmax:l[2],spatialReference:h})}return new E(-180,-90,180,90,h)}export{se as E,re as R};
//# sourceMappingURL=tiles3DUtils-CmlG3CN7.js.map
