import{gz as u,gA as c,gM as d}from"./index-CQU_kJbH.js";import{w as O,a as J,H as a,p as m,K as l}from"./aiServices-JWFYQdKb.js";import{u as f,l as w}from"./SpatialFilter-hlRTDqC1.js";import{a as i}from"./operatorsWorkerConnection-DI0h4huz.js";import"./ImmutableArray-BPVd6ESQ.js";import"./number-BZAMEJAY.js";import"./commonProperties-DHiB1uzW.js";import"./arcade-aoA_Cwxx.js";import"./featureConversionUtils-DjmD2mZi.js";import"./WhereClause-BSm87MWG.js";import"./unitConversion-_D00xOhy.js";function o(s){return async(n,r,e)=>{if(J(e,2,2,n,r),(e=O(e))[0]===null&&e[1]===null)return!1;if(l(e[0])){if(a(e[1]))return new w({parentfeatureset:e[0],relation:s,relationGeom:e[1]});if(e[1]===null)return new f({parentfeatureset:e[0]});throw new u(n,c.InvalidParameter,r)}if(a(e[0])){if(a(e[1])){switch(s){case"esriSpatialRelEnvelopeIntersects":{const p=d(e[0]),t=d(e[1]);return p!=null&&t!=null&&i("intersects",[p.toJSON(),t.toJSON()])}case"esriSpatialRelIntersects":return i("intersects",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelContains":return i("contains",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelOverlaps":return i("overlaps",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelWithin":return i("within",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelTouches":return i("touches",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelCrosses":return i("crosses",[e[0].toJSON(),e[1].toJSON()])}throw new u(n,c.InvalidParameter,r)}if(l(e[1]))return new w({parentfeatureset:e[1],relation:s,relationGeom:e[0]});if(e[1]===null)return!1;throw new u(n,c.InvalidParameter,r)}if(e[0]===null){if(l(e[1]))return new f({parentfeatureset:e[1]});if(a(e[1])||e[1]===null)return!1}throw new u(n,c.InvalidParameter,r)}}function x(s){s.mode==="async"&&(s.functions.intersects=function(n,r){return s.standardFunctionAsync(n,r,o("esriSpatialRelIntersects"))},s.functions.envelopeintersects=function(n,r){return s.standardFunctionAsync(n,r,o("esriSpatialRelEnvelopeIntersects"))},s.signatures.push({name:"envelopeintersects",min:2,max:2}),s.functions.contains=function(n,r){return s.standardFunctionAsync(n,r,o("esriSpatialRelContains"))},s.functions.overlaps=function(n,r){return s.standardFunctionAsync(n,r,o("esriSpatialRelOverlaps"))},s.functions.within=function(n,r){return s.standardFunctionAsync(n,r,o("esriSpatialRelWithin"))},s.functions.touches=function(n,r){return s.standardFunctionAsync(n,r,o("esriSpatialRelTouches"))},s.functions.crosses=function(n,r){return s.standardFunctionAsync(n,r,o("esriSpatialRelCrosses"))},s.functions.relate=function(n,r){return s.standardFunctionAsync(n,r,(async(e,p,t)=>{if(t=O(t),J(t,3,3,n,r),a(t[0])&&a(t[1]))return i("relate",[t[0].toJSON(),t[1].toJSON(),m(t[2])]);if(a(t[0])&&t[1]===null||a(t[1])&&t[0]===null)return!1;if(l(t[0])&&t[1]===null)return new f({parentfeatureset:t[0]});if(l(t[1])&&t[0]===null)return new f({parentfeatureset:t[1]});if(l(t[0])&&a(t[1]))return t[0].relate(t[1],m(t[2]));if(l(t[1])&&a(t[0]))return t[1].relate(t[0],m(t[2]));if(t[0]===null&&t[1]===null)return!1;throw new u(n,c.InvalidParameter,r)}))})}export{x as registerFunctions};
//# sourceMappingURL=featuresetgeom-Bs_mKa7H.js.map
