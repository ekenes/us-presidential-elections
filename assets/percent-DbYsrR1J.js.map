{"version":3,"file":"percent-DbYsrR1J.js","sources":["../../node_modules/@amcharts/amcharts5/.internal/charts/funnel/FunnelSlice.js","../../node_modules/@amcharts/amcharts5/.internal/charts/funnel/FunnelSeries.js","../../node_modules/@amcharts/amcharts5/.internal/charts/funnel/PyramidSeries.js","../../node_modules/@amcharts/amcharts5/.internal/charts/funnel/PictorialStackedSeries.js","../../node_modules/@amcharts/amcharts5/.internal/charts/funnel/SlicedChart.js"],"sourcesContent":["import { Graphics } from \"../../core/render/Graphics\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Draws a slice for [[FunnelSeries]].\r\n */\r\nexport class FunnelSlice extends Graphics {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_projectionDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_tlx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_tly\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_trx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_try\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_blx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_bly\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_brx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_bry\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_cprx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_cplx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_cpry\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_cply\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.set(\"draw\", (display) => {\r\n            const w = this.width();\r\n            const h = this.height();\r\n            let minSide = Math.min(w, h) / 2;\r\n            let crtl = $utils.relativeToValue(this.get(\"cornerRadiusTL\", 0), minSide);\r\n            let crtr = $utils.relativeToValue(this.get(\"cornerRadiusTR\", 0), minSide);\r\n            let crbr = $utils.relativeToValue(this.get(\"cornerRadiusBR\", 0), minSide);\r\n            let crbl = $utils.relativeToValue(this.get(\"cornerRadiusBL\", 0), minSide);\r\n            let trX = this._trx;\r\n            let trY = this._try;\r\n            let tlX = this._tlx;\r\n            let tlY = this._tly;\r\n            let brX = this._brx;\r\n            let brY = this._bry;\r\n            let blX = this._blx;\r\n            let blY = this._bly;\r\n            if (trY == tlY) {\r\n                trY = trY - 0.01;\r\n            }\r\n            if (brY == blY) {\r\n                brY = brY - 0.01;\r\n            }\r\n            let tlAngle = $math.getAngle({ x: tlX, y: tlY }, { x: trX, y: trY });\r\n            let trAngle = $math.getAngle({ x: trX, y: trY }, { x: brX, y: brY });\r\n            let brAngle = $math.getAngle({ x: brX, y: brY }, { x: blX, y: blY });\r\n            let blAngle = $math.getAngle({ x: blX, y: blY }, { x: tlX, y: tlY });\r\n            if (this.get(\"orientation\") == \"horizontal\") {\r\n                crtl = Math.min(crtl, Math.abs(tlY - trY) / 2);\r\n                crtr = Math.min(crtr, Math.abs(tlY - trY) / 2);\r\n                crbr = Math.min(crbr, Math.abs(blY - brY) / 2);\r\n                crbl = Math.min(crbl, Math.abs(blY - brY) / 2);\r\n            }\r\n            else {\r\n                crtl = Math.min(crtl, Math.abs(tlX - trX) / 2);\r\n                crtr = Math.min(crtr, Math.abs(tlX - trX) / 2);\r\n                crbr = Math.min(crbr, Math.abs(blX - brX) / 2);\r\n                crbl = Math.min(crbl, Math.abs(blX - brX) / 2);\r\n            }\r\n            const tlX1 = tlX - crtl * $math.tan((tlAngle - blAngle) / 2) * $math.cos((blAngle));\r\n            const tlY1 = tlY - crtl * $math.tan((tlAngle - blAngle) / 2) * $math.sin((blAngle));\r\n            const tlX2 = tlX - crtl * $math.tan((blAngle - tlAngle) / 2) * $math.cos((tlAngle));\r\n            const tlY2 = tlY - crtl * $math.tan((blAngle - tlAngle) / 2) * $math.sin((tlAngle));\r\n            const trX1 = trX - crtr * $math.tan((trAngle - tlAngle) / 2) * $math.cos((tlAngle));\r\n            const trY1 = trY - crtr * $math.tan((trAngle - tlAngle) / 2) * $math.sin((tlAngle));\r\n            const trX2 = trX - crtr * $math.tan((tlAngle - trAngle) / 2) * $math.cos((trAngle));\r\n            const trY2 = trY - crtr * $math.tan((tlAngle - trAngle) / 2) * $math.sin((trAngle));\r\n            const brX1 = brX - crbr * $math.tan((brAngle - trAngle) / 2) * $math.cos((trAngle));\r\n            const brY1 = brY - crbr * $math.tan((brAngle - trAngle) / 2) * $math.sin((trAngle));\r\n            const brX2 = brX - crbr * $math.tan((trAngle - brAngle) / 2) * $math.cos((brAngle));\r\n            const brY2 = brY - crbr * $math.tan((trAngle - brAngle) / 2) * $math.sin((brAngle));\r\n            const blX1 = blX - crbl * $math.tan((blAngle - brAngle) / 2) * $math.cos((brAngle));\r\n            const blY1 = blY - crbl * $math.tan((blAngle - brAngle) / 2) * $math.sin((brAngle));\r\n            const blX2 = blX - crbl * $math.tan((brAngle - blAngle) / 2) * $math.cos((blAngle));\r\n            const blY2 = blY - crbl * $math.tan((brAngle - blAngle) / 2) * $math.sin((blAngle));\r\n            display.moveTo(tlX2, tlY2);\r\n            display.lineTo(trX1, trY1);\r\n            display.arcTo(trX, trY, trX2, trY2, crtr);\r\n            display.quadraticCurveTo(this._cprx, this._cpry, brX1, brY1);\r\n            display.arcTo(brX, brY, brX2, brY2, crbr);\r\n            display.lineTo(blX1, blY1);\r\n            display.arcTo(blX, blY, blX2, blY2, crbl);\r\n            display.quadraticCurveTo(this._cplx, this._cply, tlX1, tlY1);\r\n            display.arcTo(tlX, tlY, tlX2, tlY2, crtl);\r\n        });\r\n    }\r\n    getPoint(locationX, locationY) {\r\n        let w = this.width();\r\n        let h = this.height();\r\n        const tw = this.get(\"topWidth\", 0);\r\n        const bw = this.get(\"bottomWidth\", 0);\r\n        if (this.get(\"orientation\") == \"vertical\") {\r\n            let tlx = -tw / 2;\r\n            let trx = tw / 2;\r\n            let brx = bw / 2;\r\n            let blx = -bw / 2;\r\n            let mlx = tlx + (blx - tlx) * locationY;\r\n            let mrx = trx + (brx - trx) * locationY;\r\n            return { x: mlx + (mrx - mlx) * locationX, y: h * locationY };\r\n        }\r\n        else {\r\n            let tlx = -tw / 2;\r\n            let trx = tw / 2;\r\n            let brx = bw / 2;\r\n            let blx = -bw / 2;\r\n            let mlx = tlx + (blx - tlx) * locationX;\r\n            let mrx = trx + (brx - trx) * locationX;\r\n            return { x: w * locationX, y: mlx + (mrx - mlx) * locationY };\r\n        }\r\n    }\r\n    _changed() {\r\n        if (this.isDirty(\"topWidth\") || this.isDirty(\"bottomWidth\") || this.isDirty(\"expandDistance\") || this.isDirty(\"orientation\") || this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n            const w = this.width();\r\n            const h = this.height();\r\n            const tw = this.get(\"topWidth\", 0);\r\n            const bw = this.get(\"bottomWidth\", 0);\r\n            this._clear = true;\r\n            let ed = this.get(\"expandDistance\", 0);\r\n            if (this.get(\"orientation\") == \"vertical\") {\r\n                this._tlx = -tw / 2;\r\n                this._tly = 0;\r\n                this._trx = tw / 2;\r\n                this._try = 0;\r\n                this._brx = bw / 2;\r\n                this._bry = h;\r\n                this._blx = -bw / 2;\r\n                this._bly = h;\r\n                this._cprx = this._trx + (this._brx - this._trx) / 2 + ed * h,\r\n                    this._cpry = this._try + 0.5 * h;\r\n                this._cplx = this._tlx + (this._blx - this._tlx) / 2 - ed * h;\r\n                this._cply = this._tly + 0.5 * h;\r\n            }\r\n            else {\r\n                this._tly = tw / 2;\r\n                this._tlx = 0;\r\n                this._try = -tw / 2;\r\n                this._trx = 0;\r\n                this._bry = -bw / 2;\r\n                this._brx = w;\r\n                this._bly = bw / 2;\r\n                this._blx = w;\r\n                this._cpry = this._try + (this._bry - this._try) / 2 - ed * w,\r\n                    this._cprx = this._trx + 0.5 * w;\r\n                this._cply = this._tly + (this._bly - this._tly) / 2 + ed * w;\r\n                this._cplx = this._tlx + 0.5 * w;\r\n            }\r\n        }\r\n        super._changed();\r\n    }\r\n}\r\nObject.defineProperty(FunnelSlice, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"FunnelSlice\"\r\n});\r\nObject.defineProperty(FunnelSlice, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([FunnelSlice.className])\r\n});\r\n//# sourceMappingURL=FunnelSlice.js.map","import { __awaiter } from \"tslib\";\r\nimport { PercentSeries } from \"../percent/PercentSeries\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport { FunnelSlice } from \"./FunnelSlice\";\r\nimport { Tick } from \"../../core/render/Tick\";\r\nimport { Label } from \"../../core/render/Label\";\r\nimport { percent, p50, p100 } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Creates a funnel series for use in a [[SlicedChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/sliced-chart/funnel-series/} for more info\r\n * @important\r\n */\r\nexport class FunnelSeries extends PercentSeries {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tag\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"funnel\"\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slice links in series.\r\n         *\r\n         * `links.template` can also be used to configure slice links.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/sliced-chart/funnel-series/#Slice_links} for more info\r\n         */\r\n        Object.defineProperty(this, \"links\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(this._makeLinks())\r\n        });\r\n        Object.defineProperty(this, \"_total\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_count\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_nextCoord\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_opposite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _makeSlices() {\r\n        return new ListTemplate(Template.new({}), () => FunnelSlice._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.slices.template.get(\"themeTags\", []), [this._tag, \"series\", \"slice\", this.get(\"orientation\")])\r\n        }, [this.slices.template]));\r\n    }\r\n    _makeLabels() {\r\n        return new ListTemplate(Template.new({}), () => Label._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), [this._tag, \"series\", \"label\", this.get(\"orientation\")])\r\n        }, [this.labels.template]));\r\n    }\r\n    _makeTicks() {\r\n        return new ListTemplate(Template.new({}), () => Tick._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.ticks.template.get(\"themeTags\", []), [this._tag, \"series\", \"tick\", this.get(\"orientation\")])\r\n        }, [this.ticks.template]));\r\n    }\r\n    _makeLinks() {\r\n        return new ListTemplate(Template.new({}), () => FunnelSlice._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.links.template.get(\"themeTags\", []), [this._tag, \"series\", \"link\", this.get(\"orientation\")])\r\n        }, [this.links.template]));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeLink(dataItem) {\r\n        const link = this.slicesContainer.children.push(this.links.make());\r\n        link._setDataItem(dataItem);\r\n        dataItem.set(\"link\", link);\r\n        this.links.push(link);\r\n        return link;\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        const slicesContainer = this.slicesContainer;\r\n        slicesContainer.setAll({ isMeasured: true, position: \"relative\", width: percent(100), height: percent(100) });\r\n        slicesContainer.onPrivate(\"width\", () => {\r\n            this.markDirtySize();\r\n        });\r\n        slicesContainer.onPrivate(\"height\", () => {\r\n            this.markDirtySize();\r\n        });\r\n        if (this.get(\"orientation\") == \"vertical\") {\r\n            this.set(\"layout\", this._root.horizontalLayout);\r\n        }\r\n        else {\r\n            this.set(\"layout\", this._root.verticalLayout);\r\n        }\r\n    }\r\n    processDataItem(dataItem) {\r\n        super.processDataItem(dataItem);\r\n        const slice = this.makeSlice(dataItem);\r\n        slice._setDataItem(dataItem);\r\n        dataItem.set(\"slice\", slice);\r\n        this.makeLink(dataItem);\r\n        const label = this.makeLabel(dataItem);\r\n        label.on(\"x\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        label.on(\"y\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        this.makeTick(dataItem);\r\n        slice.events.on(\"positionchanged\", () => {\r\n            label.markDirty();\r\n        });\r\n        slice.events.on(\"boundschanged\", () => {\r\n            const dataItem = slice.dataItem;\r\n            if (dataItem) {\r\n                this._updateTick(dataItem);\r\n            }\r\n        });\r\n    }\r\n    _updateChildren() {\r\n        this._opposite = false;\r\n        if (this.children.indexOf(this.labelsContainer) == 0) {\r\n            this._opposite = true;\r\n        }\r\n        let total = 0;\r\n        let count = 0;\r\n        $array.each(this.dataItems, (dataItem) => {\r\n            const value = dataItem.get(\"value\");\r\n            if ($type.isNumber(value)) {\r\n                count++;\r\n                if (value > 0) {\r\n                    total += Math.abs(dataItem.get(\"valueWorking\", value) / value);\r\n                }\r\n                else {\r\n                    if (this.get(\"ignoreZeroValues\", false)) {\r\n                        count--;\r\n                    }\r\n                    else {\r\n                        if (dataItem.isHidden()) {\r\n                            count--;\r\n                        }\r\n                        else {\r\n                            total += 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this._total = 1 / count * total;\r\n        this._count = count;\r\n        if (this.isDirty(\"alignLabels\")) {\r\n            this._fixLayout();\r\n        }\r\n        if (this._total > 0 && (this._valuesDirty || this._sizeDirty)) {\r\n            const slicesContainer = this.slicesContainer;\r\n            let h;\r\n            if (this.get(\"orientation\") == \"vertical\") {\r\n                h = slicesContainer.innerHeight();\r\n            }\r\n            else {\r\n                h = slicesContainer.innerWidth();\r\n            }\r\n            this._nextCoord = this.get(\"startLocation\", 0) * h;\r\n            this.markDirtyBounds();\r\n            let i = 0;\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                this.updateLegendValue(dataItem);\r\n                dataItem.set(\"index\", i);\r\n                i++;\r\n                const slice = dataItem.get(\"slice\");\r\n                const tick = dataItem.get(\"tick\");\r\n                const label = dataItem.get(\"label\");\r\n                const link = dataItem.get(\"link\");\r\n                const color = dataItem.get(\"fill\");\r\n                const fillPattern = dataItem.get(\"fillPattern\");\r\n                slice._setDefault(\"fill\", color);\r\n                slice._setDefault(\"stroke\", color);\r\n                slice._setDefault(\"fillPattern\", fillPattern);\r\n                link._setDefault(\"fill\", color);\r\n                link._setDefault(\"stroke\", color);\r\n                const value = dataItem.get(\"value\");\r\n                if ($type.isNumber(value)) {\r\n                    if (value == 0 && this.get(\"ignoreZeroValues\")) {\r\n                        slice.setPrivate(\"visible\", false);\r\n                        tick.setPrivate(\"visible\", false);\r\n                        label.setPrivate(\"visible\", false);\r\n                    }\r\n                    else {\r\n                        slice.setPrivate(\"visible\", true);\r\n                        tick.setPrivate(\"visible\", true);\r\n                        label.setPrivate(\"visible\", true);\r\n                        this.decorateSlice(dataItem);\r\n                        if (this.isLast(dataItem)) {\r\n                            link.setPrivate(\"visible\", false);\r\n                        }\r\n                        else if (!dataItem.isHidden()) {\r\n                            link.setPrivate(\"visible\", true);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        super._updateChildren();\r\n    }\r\n    _fixLayout() {\r\n        const orientation = this.get(\"orientation\");\r\n        const labelsContainer = this.labelsContainer;\r\n        const labelsTemplate = this.labels.template;\r\n        if (this.get(\"alignLabels\")) {\r\n            labelsContainer.set(\"position\", \"relative\");\r\n            labelsContainer.setAll({ isMeasured: true });\r\n            if (orientation == \"vertical\") {\r\n                this.set(\"layout\", this._root.horizontalLayout);\r\n                labelsTemplate.setAll({ centerX: p100, x: p100 });\r\n            }\r\n            else {\r\n                this.set(\"layout\", this._root.verticalLayout);\r\n                labelsTemplate.setAll({ centerX: 0, x: 0 });\r\n            }\r\n        }\r\n        else {\r\n            labelsContainer.setAll({ isMeasured: false, position: \"absolute\" });\r\n            if (orientation == \"vertical\") {\r\n                labelsContainer.setAll({ x: p50 });\r\n                labelsTemplate.setAll({ centerX: p50, x: 0 });\r\n            }\r\n            else {\r\n                labelsContainer.setAll({ y: p50 });\r\n                labelsTemplate.setAll({ centerX: p50, y: 0 });\r\n            }\r\n        }\r\n        this.markDirtySize();\r\n    }\r\n    getNextValue(dataItem) {\r\n        let index = dataItem.get(\"index\");\r\n        let nextValue = dataItem.get(\"valueWorking\", 0);\r\n        if (index < this.dataItems.length - 1) {\r\n            let nextItem = this.dataItems[index + 1];\r\n            nextValue = nextItem.get(\"valueWorking\", 0);\r\n            if (nextItem.isHidden() || (nextItem.get(\"value\") == 0 && this.get(\"ignoreZeroValues\"))) {\r\n                return this.getNextValue(nextItem);\r\n            }\r\n        }\r\n        return nextValue;\r\n    }\r\n    isLast(dataItem) {\r\n        let index = dataItem.get(\"index\");\r\n        if (index == this.dataItems.length - 1) {\r\n            return true;\r\n        }\r\n        else {\r\n            for (let i = index + 1; i < this.dataItems.length; i++) {\r\n                if (!this.dataItems[i].isHidden()) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    decorateSlice(dataItem) {\r\n        const orientation = this.get(\"orientation\");\r\n        const slice = dataItem.get(\"slice\");\r\n        const label = dataItem.get(\"label\");\r\n        const link = dataItem.get(\"link\");\r\n        const slicesContainer = this.slicesContainer;\r\n        let maxWidth = slicesContainer.innerWidth();\r\n        let maxHeight = slicesContainer.innerHeight();\r\n        let maxSize = maxWidth;\r\n        if (orientation == \"horizontal\") {\r\n            maxSize = maxHeight;\r\n        }\r\n        const nextValue = this.getNextValue(dataItem);\r\n        const value = dataItem.get(\"value\", 0);\r\n        const workingValue = Math.abs(dataItem.get(\"valueWorking\", value));\r\n        const bottomRatio = this.get(\"bottomRatio\", 0);\r\n        const valueHigh = this.getPrivate(\"valueHigh\", 0);\r\n        let d = 1;\r\n        if (value != 0) {\r\n            d = workingValue / Math.abs(value);\r\n        }\r\n        else {\r\n            if (dataItem.isHidden()) {\r\n                d = 0.000001;\r\n            }\r\n        }\r\n        if (this._nextCoord == Infinity) {\r\n            this._nextCoord = 0;\r\n        }\r\n        let topWidth = workingValue / valueHigh * maxSize;\r\n        let bottomWidth = (workingValue - (workingValue - nextValue) * bottomRatio) / valueHigh * maxSize;\r\n        slice.setAll({ topWidth, bottomWidth, orientation });\r\n        link.setAll({ topWidth: bottomWidth, bottomWidth: (workingValue - (workingValue - nextValue)) / valueHigh * maxSize, orientation });\r\n        const startLocation = this.get(\"startLocation\", 0);\r\n        const endLocation = this.get(\"endLocation\", 1);\r\n        if (orientation == \"vertical\") {\r\n            let linkHeight = link.height() * d;\r\n            maxHeight = maxHeight * (endLocation - startLocation) + linkHeight;\r\n            slice.set(\"y\", this._nextCoord);\r\n            let height = Math.min(100000, Math.max(0, maxHeight / this._count * d / this._total - linkHeight));\r\n            slice.setAll({ height, x: maxWidth / 2 });\r\n            let labelY = this._nextCoord + height / 2;\r\n            label.set(\"y\", labelY);\r\n            this._nextCoord += height + linkHeight;\r\n            link.setAll({ y: this._nextCoord - linkHeight, x: maxWidth / 2 });\r\n        }\r\n        else {\r\n            let linkHeight = link.width() * d;\r\n            maxWidth = maxWidth * (endLocation - startLocation) + linkHeight;\r\n            slice.set(\"x\", this._nextCoord);\r\n            let width = Math.min(100000, Math.max(0, maxWidth / this._count * d / this._total - linkHeight));\r\n            slice.setAll({ width, y: maxHeight / 2 });\r\n            const labelX = this._nextCoord + width / 2;\r\n            label.set(\"x\", labelX);\r\n            this._nextCoord += width + linkHeight;\r\n            link.setAll({ x: this._nextCoord - linkHeight, y: maxHeight / 2 });\r\n        }\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            dataItem.get(\"link\").hide(duration);\r\n            return _super.hideDataItem.call(this, dataItem, duration);\r\n        });\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            dataItem.get(\"link\").show(duration);\r\n            return _super.showDataItem.call(this, dataItem, duration);\r\n        });\r\n    }\r\n    _updateTick(dataItem) {\r\n        if (this.get(\"alignLabels\")) {\r\n            const tick = dataItem.get(\"tick\");\r\n            const label = dataItem.get(\"label\");\r\n            const slice = dataItem.get(\"slice\");\r\n            if (tick && slice && label) {\r\n                const labelsContainer = this.labelsContainer;\r\n                const slicesContainer = this.slicesContainer;\r\n                let tickLocation = tick.get(\"location\", 0.5);\r\n                const lcw = labelsContainer.width();\r\n                const lch = labelsContainer.height();\r\n                const pl = labelsContainer.get(\"paddingLeft\", 0);\r\n                const pr = labelsContainer.get(\"paddingRight\", 0);\r\n                const pt = labelsContainer.get(\"paddingTop\", 0);\r\n                const pb = labelsContainer.get(\"paddingBottom\", 0);\r\n                let p0 = { x: 0, y: 0 };\r\n                let p1 = { x: 0, y: 0 };\r\n                let p2 = { x: 0, y: 0 };\r\n                if (this._opposite) {\r\n                    tickLocation = 1 - tickLocation;\r\n                }\r\n                if (this.get(\"orientation\") == \"vertical\") {\r\n                    p0 = slice.getPoint(tickLocation, 0.5);\r\n                    p0.x += slice.x() + slicesContainer.x();\r\n                    p0.y += slice.y() + slicesContainer.y();\r\n                    if (this._opposite) {\r\n                        p1.x = lcw;\r\n                        p1.y = label.y();\r\n                        p2.x = lcw - pl;\r\n                        p2.y = p1.y;\r\n                    }\r\n                    else {\r\n                        p1.x = slicesContainer.x() + slicesContainer.width();\r\n                        p1.y = label.y();\r\n                        p2.x = p1.x + lcw - label.width() - pr;\r\n                        p2.y = p1.y;\r\n                    }\r\n                }\r\n                else {\r\n                    p0 = slice.getPoint(0.5, tickLocation);\r\n                    p0.x += slice.x() + slicesContainer.x();\r\n                    p0.y += slice.y() + slicesContainer.y();\r\n                    if (this._opposite) {\r\n                        p1.y = lch;\r\n                        p1.x = label.x();\r\n                        p2.y = lch - pt;\r\n                        p2.x = p1.x;\r\n                    }\r\n                    else {\r\n                        p1.y = slicesContainer.y() + slicesContainer.height();\r\n                        p1.x = label.x();\r\n                        p2.y = p1.y + lch - label.height() - pb;\r\n                        p2.x = p1.x;\r\n                    }\r\n                }\r\n                tick.set(\"points\", [p0, p1, p2]);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        let link = dataItem.get(\"link\");\r\n        if (link) {\r\n            this.links.removeValue(link);\r\n            link.dispose();\r\n        }\r\n    }\r\n    _positionBullet(bullet) {\r\n        const sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            const dataItem = sprite.dataItem;\r\n            const slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                const width = slice.width();\r\n                const height = slice.height();\r\n                const locationX = bullet.get(\"locationX\", 0.5);\r\n                const locationY = bullet.get(\"locationY\", 0.5);\r\n                let dx = 0;\r\n                let dy = 0;\r\n                if (this.get(\"orientation\") == \"horizontal\") {\r\n                    dy = height / 2;\r\n                }\r\n                else {\r\n                    dx = width / 2;\r\n                }\r\n                sprite.setAll({ x: slice.x() + width * locationX - dx, y: slice.y() - dy + height * locationY });\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(FunnelSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"FunnelSeries\"\r\n});\r\nObject.defineProperty(FunnelSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: PercentSeries.classNames.concat([FunnelSeries.className])\r\n});\r\n//# sourceMappingURL=FunnelSeries.js.map","import { FunnelSeries } from \"./FunnelSeries\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $type from \"../../core/util/Type\";\r\n/**\r\n * Creates a pyramid series for use in a [[SlicedChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/sliced-chart/pyramid-series/} for more info\r\n * @important\r\n */\r\nexport class PyramidSeries extends FunnelSeries {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tag\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"pyramid\"\r\n        });\r\n        Object.defineProperty(this, \"_nextSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        this._nextSize = undefined;\r\n    }\r\n    decorateSlice(dataItem) {\r\n        const orientation = this.get(\"orientation\");\r\n        const slicesContainer = this.slicesContainer;\r\n        const slice = dataItem.get(\"slice\");\r\n        const label = dataItem.get(\"label\");\r\n        const link = dataItem.get(\"link\");\r\n        const valueIs = this.get(\"valueIs\", \"area\");\r\n        const sum = this.getPrivate(\"valueAbsoluteSum\", 0);\r\n        if (sum == 0) {\r\n            return;\r\n        }\r\n        const startLocation = this.get(\"startLocation\", 0);\r\n        const endLocation = this.get(\"endLocation\", 1);\r\n        const tw = this.get(\"topWidth\", 0);\r\n        const bw = this.get(\"bottomWidth\", p100);\r\n        const workingValue = Math.abs(dataItem.get(\"valueWorking\", 0));\r\n        const value = dataItem.get(\"value\", 0);\r\n        let sliceHeight;\r\n        let sliceBottomWidth;\r\n        let pyramidHeight = slicesContainer.innerHeight();\r\n        let pyramidWidth = slicesContainer.innerWidth();\r\n        let linkWidth = link.width();\r\n        let linkHeight = link.height();\r\n        if (orientation == \"horizontal\") {\r\n            [pyramidWidth, pyramidHeight] = [pyramidHeight, pyramidWidth];\r\n            [linkWidth, linkHeight] = [linkHeight, linkWidth];\r\n        }\r\n        const center = pyramidWidth / 2;\r\n        let d = 1;\r\n        if (value != 0) {\r\n            d = workingValue / Math.abs(value);\r\n        }\r\n        else {\r\n            if (dataItem.isHidden()) {\r\n                d = 0.000001;\r\n            }\r\n        }\r\n        linkHeight *= d;\r\n        pyramidHeight = pyramidHeight * (endLocation - startLocation) - linkHeight * (this._count * this._total - 1);\r\n        let topWidth = $utils.relativeToValue(tw, pyramidWidth);\r\n        if (!$type.isNumber(this._nextSize)) {\r\n            this._nextSize = topWidth;\r\n        }\r\n        let bottomWidth = $utils.relativeToValue(bw, pyramidWidth);\r\n        let sliceTopWidth = this._nextSize;\r\n        let angle = Math.atan2(pyramidHeight, topWidth - bottomWidth);\r\n        let c = Math.tan(Math.PI / 2 - angle);\r\n        if (c == 0) {\r\n            c = 0.00000001;\r\n        }\r\n        if (valueIs == \"area\") {\r\n            let totalSquare = (topWidth + bottomWidth) / 2 * pyramidHeight;\r\n            let square = totalSquare * workingValue / sum;\r\n            let s = Math.abs(sliceTopWidth * sliceTopWidth - 2 * square * c);\r\n            sliceHeight = (sliceTopWidth - Math.sqrt(s)) / c;\r\n            if (sliceHeight > 0) {\r\n                sliceBottomWidth = (2 * square - sliceHeight * sliceTopWidth) / sliceHeight;\r\n            }\r\n            else {\r\n                sliceBottomWidth = sliceTopWidth;\r\n            }\r\n        }\r\n        else {\r\n            sliceHeight = pyramidHeight * workingValue / sum;\r\n            sliceBottomWidth = sliceTopWidth - sliceHeight * c;\r\n        }\r\n        let labelCoord = this._nextCoord + sliceHeight / 2;\r\n        let sliceX = center;\r\n        let sliceY = this._nextCoord;\r\n        let linkX = center;\r\n        let linkY = sliceY + sliceHeight;\r\n        if (orientation == \"vertical\") {\r\n            label.set(\"y\", labelCoord);\r\n            if (label.get(\"opacity\") > 0) {\r\n                this._rLabels.push({ label: label, y: labelCoord });\r\n            }\r\n            slice.set(\"height\", sliceHeight);\r\n        }\r\n        else {\r\n            label.set(\"x\", labelCoord);\r\n            if (label.get(\"opacity\") > 0) {\r\n                this._hLabels.push({ label: label, y: labelCoord });\r\n            }\r\n            [sliceX, sliceY] = [sliceY, sliceX];\r\n            [linkX, linkY] = [linkY, linkX];\r\n            slice.set(\"width\", sliceHeight);\r\n        }\r\n        slice.setAll({ orientation, bottomWidth: sliceBottomWidth, topWidth: sliceTopWidth, x: sliceX, y: sliceY });\r\n        link.setAll({ orientation, x: linkX, y: linkY, topWidth: sliceBottomWidth, bottomWidth: sliceBottomWidth });\r\n        this._nextSize = sliceBottomWidth;\r\n        this._nextCoord += sliceHeight + linkHeight;\r\n    }\r\n}\r\nObject.defineProperty(PyramidSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PyramidSeries\"\r\n});\r\nObject.defineProperty(PyramidSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: FunnelSeries.classNames.concat([PyramidSeries.className])\r\n});\r\n//# sourceMappingURL=PyramidSeries.js.map","import { PyramidSeries } from \"./PyramidSeries\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { p100, p50 } from \"../../core/util/Percent\";\r\n/**\r\n * Creates a pictorial series for use in a [[SlicedChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/sliced-chart/pictorial-stacked-series/} for more info\r\n * @important\r\n */\r\nexport class PictorialStackedSeries extends PyramidSeries {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tag\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"pictorial\"\r\n        });\r\n        /**\r\n         * A [[Graphics]] element to used as a mask (shape) for the series.\r\n         *\r\n         * This element is read-only. To modify the mask/shape, use the `svgPath` setting.\r\n         */\r\n        Object.defineProperty(this, \"seriesMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Graphics.new(this._root, { position: \"absolute\", x: p50, y: p50, centerX: p50, centerY: p50 })\r\n        });\r\n        Object.defineProperty(this, \"seriesGraphics\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.slicesContainer.children.push(Graphics.new(this._root, { themeTags: [\"pictorial\", \"background\"], position: \"absolute\", x: p50, y: p50, centerX: p50, centerY: p50 }))\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.set(\"topWidth\", p100);\r\n        this.set(\"bottomWidth\", p100);\r\n        this.set(\"valueIs\", \"height\");\r\n        this.slicesContainer.set(\"mask\", this.seriesMask);\r\n    }\r\n    _updateScale() {\r\n        let slicesContainer = this.slicesContainer;\r\n        let w = slicesContainer.innerWidth();\r\n        let h = slicesContainer.innerHeight();\r\n        let seriesMask = this.seriesMask;\r\n        let seriesGraphics = this.seriesGraphics;\r\n        let scale = seriesMask.get(\"scale\", 1);\r\n        const bounds = seriesMask.localBounds();\r\n        let mw = bounds.right - bounds.left;\r\n        let mh = bounds.bottom - bounds.top;\r\n        if (this.get(\"orientation\") == \"horizontal\") {\r\n            scale = w / mw;\r\n        }\r\n        else {\r\n            scale = h / mh;\r\n        }\r\n        if (scale != Infinity && scale != NaN) {\r\n            seriesMask.set(\"scale\", scale);\r\n            seriesMask.set(\"x\", w / 2);\r\n            seriesMask.set(\"y\", h / 2);\r\n            seriesGraphics.set(\"scale\", scale);\r\n            seriesGraphics.set(\"x\", w / 2);\r\n            seriesGraphics.set(\"y\", h / 2);\r\n        }\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"svgPath\")) {\r\n            const svgPath = this.get(\"svgPath\");\r\n            this.seriesMask.set(\"svgPath\", svgPath);\r\n            this.seriesGraphics.set(\"svgPath\", svgPath);\r\n        }\r\n        this._updateScale();\r\n    }\r\n}\r\nObject.defineProperty(PictorialStackedSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PictorialStackedSeries\"\r\n});\r\nObject.defineProperty(PictorialStackedSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: PyramidSeries.classNames.concat([PictorialStackedSeries.className])\r\n});\r\n//# sourceMappingURL=PictorialStackedSeries.js.map","import { PercentChart } from \"../percent/PercentChart\";\r\n/**\r\n * Creates a sliced chart for use with [[FunnelSeries]], [[PyramidSeries]], or [[PictorialStackedSeries]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/} for more info\r\n * @important\r\n */\r\nexport class SlicedChart extends PercentChart {\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.seriesContainer.setAll({ isMeasured: true, layout: this._root.horizontalLayout });\r\n    }\r\n}\r\nObject.defineProperty(SlicedChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"SlicedChart\"\r\n});\r\nObject.defineProperty(SlicedChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: PercentChart.classNames.concat([SlicedChart.className])\r\n});\r\n//# sourceMappingURL=SlicedChart.js.map"],"names":["FunnelSlice","Graphics","display","w","h","minSide","crtl","$utils.relativeToValue","crtr","crbr","crbl","trX","trY","tlX","tlY","brX","brY","blX","blY","tlAngle","$math.getAngle","trAngle","brAngle","blAngle","tlX1","$math.tan","$math.cos","tlY1","$math.sin","tlX2","tlY2","trX1","trY1","trX2","trY2","brX1","brY1","brX2","brY2","blX1","blY1","blX2","blY2","locationX","locationY","tw","bw","tlx","trx","brx","blx","mlx","mrx","ed","FunnelSeries","PercentSeries","ListTemplate","Template","$utils.mergeTags","Label","Tick","dataItem","link","slicesContainer","percent","slice","label","total","count","$array.each","value","$type.isNumber","i","tick","color","fillPattern","orientation","labelsContainer","labelsTemplate","p100","p50","index","nextValue","nextItem","maxWidth","maxHeight","maxSize","workingValue","bottomRatio","valueHigh","d","topWidth","bottomWidth","startLocation","endLocation","linkHeight","height","labelY","width","labelX","duration","_super","__awaiter","tickLocation","lcw","lch","pl","pr","pt","pb","p0","p1","p2","bullet","sprite","dx","dy","PyramidSeries","valueIs","sum","sliceHeight","sliceBottomWidth","pyramidHeight","pyramidWidth","linkWidth","center","sliceTopWidth","angle","c","square","s","labelCoord","sliceX","sliceY","linkX","linkY","PictorialStackedSeries","seriesMask","seriesGraphics","scale","bounds","mw","mh","svgPath","SlicedChart","PercentChart"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}