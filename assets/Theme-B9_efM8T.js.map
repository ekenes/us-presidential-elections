{"version":3,"file":"Theme-B9_efM8T.js","sources":["../../node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js","../../node_modules/@amcharts/amcharts5/.internal/core/util/Order.js","../../node_modules/@amcharts/amcharts5/.internal/core/util/Template.js","../../node_modules/@amcharts/amcharts5/.internal/core/Theme.js"],"sourcesContent":["/**\r\n * Event Dispatcher module is used for registering listeners and dispatching\r\n * events across amCharts system.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Universal Event Dispatcher.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nexport class EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor() {\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_killed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_iterating\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_enabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._listeners = [];\r\n        this._killed = [];\r\n        this._disabled = {};\r\n        this._iterating = 0;\r\n        this._enabled = true;\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Returns if this object has been already disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Dispose (destroy) this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            const a = this._listeners;\r\n            this._iterating = 1;\r\n            this._listeners = null;\r\n            this._disabled = null;\r\n            try {\r\n                $array.each(a, (x) => {\r\n                    x.disposer.dispose();\r\n                });\r\n            }\r\n            finally {\r\n                this._killed = null;\r\n                this._iterating = null;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any listeners set.\r\n     *\r\n     * @return Has listeners?\r\n     */\r\n    hasListeners() {\r\n        return this._listeners.length !== 0;\r\n    }\r\n    /**\r\n     * Checks if this particular event dispatcher has any particular listeners set.\r\n     *\r\n     * @return Has particular event listeners?\r\n     */\r\n    hasListenersByType(type) {\r\n        return $array.any(this._listeners, (x) => (x.type === null || x.type === type) && !x.killed);\r\n    }\r\n    /**\r\n     * Enable dispatching of events if they were previously disabled by\r\n     * `disable()`.\r\n     */\r\n    enable() {\r\n        this._enabled = true;\r\n    }\r\n    /**\r\n     * Disable dispatching of events until re-enabled by `enable()`.\r\n     */\r\n    disable() {\r\n        this._enabled = false;\r\n    }\r\n    /**\r\n     * Enable dispatching particular event, if it was disabled before by\r\n     * `disableType()`.\r\n     *\r\n     * @param type Event type\r\n     */\r\n    enableType(type) {\r\n        delete this._disabled[type];\r\n    }\r\n    /**\r\n     * Disable dispatching of events for a certain event type.\r\n     *\r\n     * Optionally, can set how many dispatches to skip before automatically\r\n     * re-enabling the dispatching.\r\n     *\r\n     * @param type    Event type\r\n     * @param amount  Number of event dispatches to skip\r\n     */\r\n    disableType(type, amount = Infinity) {\r\n        this._disabled[type] = amount;\r\n    }\r\n    /**\r\n     * Removes listener from dispatcher.\r\n     *\r\n     * Will throw an exception if such listener does not exists.\r\n     *\r\n     * @param listener Listener to remove\r\n     */\r\n    _removeListener(listener) {\r\n        if (this._iterating === 0) {\r\n            const index = this._listeners.indexOf(listener);\r\n            if (index === -1) {\r\n                throw new Error(\"Invalid state: could not remove listener\");\r\n            }\r\n            this._listeners.splice(index, 1);\r\n        }\r\n        else {\r\n            this._killed.push(listener);\r\n        }\r\n    }\r\n    /**\r\n     * Removes existing listener by certain parameters.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    _removeExistingListener(once, type, callback, context) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.once === once && // TODO is this correct ?\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if dispatching for particular event type is enabled.\r\n     *\r\n     * @param type  Event type\r\n     * @return Enabled?\r\n     */\r\n    isEnabled(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        // TODO is this check correct ?\r\n        return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && this._disabled[type] === undefined;\r\n    }\r\n    /**\r\n     * Removes all listeners of a particular event type\r\n     *\r\n     * @param type  Listener's type\r\n     */\r\n    removeType(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener((info) => {\r\n            if (info.type === type) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Checks if there's already a listener with specific parameters.\r\n     *\r\n     * @param type      Listener's type\r\n     * @param callback  Callback function\r\n     * @param context   Callback context\r\n     * @return Has listener?\r\n     */\r\n    has(type, callback, context) {\r\n        const index = $array.findIndex(this._listeners, (info) => {\r\n            return info.once !== true && // Ignoring \"once\" listeners\r\n                info.type === type &&\r\n                (callback === undefined || info.callback === callback) &&\r\n                info.context === context;\r\n        });\r\n        return index !== -1;\r\n    }\r\n    /**\r\n     * Checks whether event of the particular type should be dispatched.\r\n     *\r\n     * @param type  Event type\r\n     * @return Dispatch?\r\n     */\r\n    _shouldDispatch(type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        const count = this._disabled[type];\r\n        if (!$type.isNumber(count)) {\r\n            return this._enabled;\r\n        }\r\n        else {\r\n            if (count <= 1) {\r\n                delete this._disabled[type];\r\n            }\r\n            else {\r\n                --this._disabled[type];\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * [_eachListener description]\r\n     *\r\n     * All of this extra code is needed when a listener is removed while iterating\r\n     *\r\n     * @todo Description\r\n     * @param fn [description]\r\n     */\r\n    _eachListener(fn) {\r\n        ++this._iterating;\r\n        try {\r\n            $array.each(this._listeners, fn);\r\n        }\r\n        finally {\r\n            --this._iterating;\r\n            // TODO should this be inside or outside the finally ?\r\n            if (this._iterating === 0 && this._killed.length !== 0) {\r\n                // Remove killed listeners\r\n                $array.each(this._killed, (killed) => {\r\n                    this._removeListener(killed);\r\n                });\r\n                this._killed.length = 0;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Dispatches an event immediately without waiting for next cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    dispatch(type, event) {\r\n        if (this._shouldDispatch(type)) {\r\n            // TODO check if it's faster to use an object of listeners rather than a single big array\r\n            // TODO if the function throws, maybe it should keep going ?\r\n            this._eachListener((listener) => {\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    if (listener._debounceDelay) {\r\n                        if (listener._debounceTimeout) {\r\n                            window.clearTimeout(listener._debounceTimeout);\r\n                        }\r\n                        listener._debounceTimeout = window.setTimeout(() => {\r\n                            listener._debounceTimeout = undefined;\r\n                            if (!listener.killed) {\r\n                                listener.dispatch(type, event);\r\n                            }\r\n                        }, listener._debounceDelay);\r\n                    }\r\n                    else {\r\n                        listener.dispatch(type, event);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Shelves the event to be dispatched within next update cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    /*public dispatchLater<Key extends keyof T>(type: Key, event: T[Key]): void {\r\n        if (this._shouldDispatch(type)) {\r\n            this._eachListener((listener) => {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    // TODO if the function throws, maybe it should keep going ?\r\n                    // TODO dispatch during the update cycle, rather than using whenIdle\r\n                    $async.whenIdle(() => {\r\n                        if (!listener.killed) {\r\n                            listener.dispatch(type, event);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }*/\r\n    /**\r\n     * Creates, catalogs and returns an [[EventListener]].\r\n     *\r\n     * Event listener can be disposed.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @param dispatch\r\n     * @returns An event listener\r\n     */\r\n    _on(once, type, callback, context, shouldClone, dispatch, debounceDelay) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._removeExistingListener(once, type, callback, context);\r\n        const info = {\r\n            type: type,\r\n            callback: callback,\r\n            context: context,\r\n            shouldClone: shouldClone,\r\n            dispatch: dispatch,\r\n            killed: false,\r\n            once: once,\r\n            disposer: new Disposer(() => {\r\n                info.killed = true;\r\n                if (info._debounceTimeout) {\r\n                    window.clearTimeout(info._debounceTimeout);\r\n                }\r\n                this._removeListener(info);\r\n            }),\r\n            _debounceDelay: debounceDelay\r\n        };\r\n        this._listeners.push(info);\r\n        return info;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on **any** event.\r\n     *\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    onAll(callback, context, shouldClone = true) {\r\n        return this._on(false, null, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", function(ev) {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    on(type, callback, context, shouldClone = true) {\r\n        return this._on(false, type, callback, context, shouldClone, (_type, event) => callback.call(context, event)).disposer;\r\n    }\r\n    /**\r\n     * Creates a debounced event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.onDebounced(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, 500, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.onDebounced(\"click\", function(ev) {\r\n     *   console.log(\"Button clicked\");\r\n     * }, 500, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type           Listener's type\r\n     * @param callback       Callback function\r\n     * @param debounceDelay  Debounce delay in milliseconds\r\n     * @param context        Callback context\r\n     * @param shouldClone    Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Debounced_events} for more info\r\n     * @since 5.14.0\r\n     */\r\n    onDebounced(type, callback, debounceDelay, context, shouldClone = true) {\r\n        return this._on(false, type, callback, context, shouldClone, (_type, event) => callback.call(context, event), debounceDelay).disposer;\r\n    }\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type once.\r\n     *\r\n     * Once the event listener is invoked, it is automatically disposed.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", function(ev) {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler the first time series we\r\n     * put event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    once(type, callback, context, shouldClone = true) {\r\n        const x = this._on(true, type, callback, context, shouldClone, (_type, event) => {\r\n            x.disposer.dispose();\r\n            callback.call(context, event);\r\n        });\r\n        // TODO maybe this should return a different Disposer ?\r\n        return x.disposer;\r\n    }\r\n    /**\r\n     * Removes the event listener with specific parameters.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    off(type, callback, context) {\r\n        this._removeExistingListener(false, type, callback, context);\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        $array.each(source._listeners, (x) => {\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new MultiDisposer(disposers);\r\n    }\r\n}\r\n/**\r\n * A version of the [[EventDispatcher]] that dispatches events for a specific\r\n * target object.\r\n *\r\n * @ignore\r\n */\r\nexport class TargetedEventDispatcher extends EventDispatcher {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param target Event dispatcher target\r\n     */\r\n    constructor(target) {\r\n        super();\r\n        /**\r\n         * A target object which is originating events using this dispatcher.\r\n         */\r\n        Object.defineProperty(this, \"target\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    copyFrom(source) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        const disposers = [];\r\n        $array.each(source._listeners, (x) => {\r\n            // TODO very hacky\r\n            if (x.context === source.target) {\r\n                return;\r\n            }\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    disposers.push(this.onAll(x.callback, x.context));\r\n                }\r\n                else if (x.once) {\r\n                    disposers.push(this.once(x.type, x.callback, x.context));\r\n                }\r\n                else {\r\n                    disposers.push(this.on(x.type, x.callback, x.context));\r\n                }\r\n            }\r\n        });\r\n        return new MultiDisposer(disposers);\r\n    }\r\n}\r\n//# sourceMappingURL=EventDispatcher.js.map","/**\r\n * @ignore\r\n */\r\nexport function compare(left, right) {\r\n    if (left === right) {\r\n        return 0;\r\n    }\r\n    else if (left < right) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareArray(left, right, f) {\r\n    const leftLength = left.length;\r\n    const rightLength = right.length;\r\n    const length = Math.min(leftLength, rightLength);\r\n    for (let i = 0; i < length; ++i) {\r\n        const order = f(left[i], right[i]);\r\n        if (order !== 0) {\r\n            return order;\r\n        }\r\n    }\r\n    return compare(leftLength, rightLength);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function reverse(order) {\r\n    if (order < 0) {\r\n        return 1;\r\n    }\r\n    else if (order > 0) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareNumber(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n//# sourceMappingURL=Order.js.map","import { EventDispatcher } from \"./EventDispatcher\";\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nimport * as $type from \"./Type\";\r\nfunction disposeSettings(settings) {\r\n    $object.each(settings, (_key, value) => {\r\n        if ($type.isObject(value) && typeof value.dispose === \"function\") {\r\n            value.enableDispose = true;\r\n            value.dispose();\r\n        }\r\n    });\r\n}\r\nexport class TemplateState {\r\n    constructor(name, template, settings) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._name = name;\r\n        this._template = template;\r\n        this._settings = settings;\r\n    }\r\n    _dispose() {\r\n        disposeSettings(this._settings);\r\n    }\r\n    get(key, fallback) {\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    set(key, value) {\r\n        this._settings[key] = value;\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    remove(key) {\r\n        delete this._settings[key];\r\n        // TODO maybe only do this if the value changed ?\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    setAll(settings) {\r\n        $object.keys(settings).forEach((key) => {\r\n            this._settings[key] = settings[key];\r\n        });\r\n        this._template._stateChanged(this._name);\r\n    }\r\n    _apply(other, seen) {\r\n        $object.each(this._settings, (key, value) => {\r\n            if (!seen[key] && !other._userSettings[key]) {\r\n                seen[key] = true;\r\n                other.setRaw(key, value);\r\n            }\r\n        });\r\n    }\r\n}\r\nexport class TemplateStates {\r\n    constructor(template) {\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._template = template;\r\n    }\r\n    _dispose() {\r\n        $object.each(this._states, (_key, state) => {\r\n            state._dispose();\r\n        });\r\n    }\r\n    lookup(name) {\r\n        return this._states[name];\r\n    }\r\n    create(name, settings) {\r\n        const state = this._states[name];\r\n        if (state) {\r\n            state.setAll(settings);\r\n            return state;\r\n        }\r\n        else {\r\n            const state = new TemplateState(name, this._template, settings);\r\n            this._states[name] = state;\r\n            this._template._stateChanged(name);\r\n            return state;\r\n        }\r\n    }\r\n    remove(name) {\r\n        delete this._states[name];\r\n        this._template._stateChanged(name);\r\n    }\r\n    _apply(entity, state) {\r\n        $object.each(this._states, (key, value) => {\r\n            let seen = state.states[key];\r\n            if (seen == null) {\r\n                seen = state.states[key] = {};\r\n            }\r\n            const other = entity.states.create(key, {});\r\n            value._apply(other, seen);\r\n        });\r\n    }\r\n}\r\nexport class TemplateAdapters {\r\n    constructor() {\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    add(key, callback) {\r\n        let callbacks = this._callbacks[key];\r\n        if (callbacks === undefined) {\r\n            callbacks = this._callbacks[key] = [];\r\n        }\r\n        callbacks.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(callbacks, callback);\r\n            if (callbacks.length === 0) {\r\n                delete this._callbacks[key];\r\n            }\r\n        });\r\n    }\r\n    remove(key) {\r\n        const callbacks = this._callbacks[key];\r\n        if (callbacks !== undefined) {\r\n            delete this._callbacks[key];\r\n        }\r\n    }\r\n    _apply(entity) {\r\n        const disposers = [];\r\n        $object.each(this._callbacks, (key, callbacks) => {\r\n            $array.each(callbacks, (callback) => {\r\n                disposers.push(entity.adapters.add(key, callback));\r\n            });\r\n        });\r\n        return new MultiDisposer(disposers);\r\n    }\r\n}\r\n// TODO maybe extend from Properties ?\r\nexport class Template {\r\n    constructor(settings, isReal) {\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        // TODO code duplication with Properties\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entities\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateStates(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateAdapters()\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"setup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(settings) {\r\n        return new Template(settings, true);\r\n    }\r\n    _dispose() {\r\n        disposeSettings(this._settings);\r\n        disposeSettings(this._privateSettings);\r\n    }\r\n    /**\r\n     * Returns `true` if this element is disposed.\r\n     *\r\n     * @return Disposed\r\n     */\r\n    isDisposed() {\r\n        return this._disposed;\r\n    }\r\n    /**\r\n     * Disposes this object.\r\n     */\r\n    dispose() {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    }\r\n    _checkDisposed() {\r\n        if (this._disposed) {\r\n            throw new Error(\"Template is disposed\");\r\n        }\r\n    }\r\n    /**\r\n     * Array of all entities using this template.\r\n     */\r\n    get entities() {\r\n        return this._entities;\r\n    }\r\n    get(key, fallback) {\r\n        this._checkDisposed();\r\n        const value = this._settings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setRaw(key, value) {\r\n        this._checkDisposed();\r\n        this._settings[key] = value;\r\n    }\r\n    set(key, value) {\r\n        this._checkDisposed();\r\n        if (this._settings[key] !== value) {\r\n            this.setRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplateProperty(this, key, value);\r\n            });\r\n        }\r\n    }\r\n    remove(key) {\r\n        this._checkDisposed();\r\n        if (key in this._settings) {\r\n            delete this._settings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    removeAll() {\r\n        this._checkDisposed();\r\n        $object.each(this._settings, (key, _value) => {\r\n            this.remove(key);\r\n        });\r\n    }\r\n    getPrivate(key, fallback) {\r\n        this._checkDisposed();\r\n        const value = this._privateSettings[key];\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n        else {\r\n            return fallback;\r\n        }\r\n    }\r\n    setPrivateRaw(key, value) {\r\n        this._checkDisposed();\r\n        this._privateSettings[key] = value;\r\n        return value;\r\n    }\r\n    setPrivate(key, value) {\r\n        this._checkDisposed();\r\n        if (this._privateSettings[key] !== value) {\r\n            this.setPrivateRaw(key, value);\r\n            this._entities.forEach((entity) => {\r\n                entity._setTemplatePrivateProperty(this, key, value);\r\n            });\r\n        }\r\n        return value;\r\n    }\r\n    removePrivate(key) {\r\n        this._checkDisposed();\r\n        if (key in this._privateSettings) {\r\n            delete this._privateSettings[key];\r\n            this._entities.forEach((entity) => {\r\n                entity._removeTemplatePrivateProperty(key);\r\n            });\r\n        }\r\n    }\r\n    setAll(value) {\r\n        this._checkDisposed();\r\n        $object.each(value, (key, value) => {\r\n            this.set(key, value);\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    on(key, callback) {\r\n        this._checkDisposed();\r\n        let events = this._settingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._settingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._settingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    // TODO code duplication with Properties\r\n    onPrivate(key, callback) {\r\n        this._checkDisposed();\r\n        let events = this._privateSettingEvents[key];\r\n        if (events === undefined) {\r\n            events = this._privateSettingEvents[key] = [];\r\n        }\r\n        events.push(callback);\r\n        return new Disposer(() => {\r\n            $array.removeFirst(events, callback);\r\n            if (events.length === 0) {\r\n                delete this._privateSettingEvents[key];\r\n            }\r\n        });\r\n    }\r\n    _apply(entity, state) {\r\n        this._checkDisposed();\r\n        const disposers = [];\r\n        $object.each(this._settingEvents, (key, events) => {\r\n            $array.each(events, (event) => {\r\n                disposers.push(entity.on(key, event));\r\n            });\r\n        });\r\n        $object.each(this._privateSettingEvents, (key, events) => {\r\n            $array.each(events, (event) => {\r\n                disposers.push(entity.onPrivate(key, event));\r\n            });\r\n        });\r\n        this.states._apply(entity, state);\r\n        disposers.push(this.adapters._apply(entity));\r\n        disposers.push(entity.events.copyFrom(this.events));\r\n        return new MultiDisposer(disposers);\r\n    }\r\n    _setObjectTemplate(entity) {\r\n        this._checkDisposed();\r\n        this._entities.push(entity);\r\n    }\r\n    _removeObjectTemplate(entity) {\r\n        //this._checkDisposed();\r\n        $array.remove(this._entities, entity);\r\n    }\r\n    _stateChanged(name) {\r\n        this._checkDisposed();\r\n        this._entities.forEach((entity) => {\r\n            entity._applyStateByKey(name);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Template.js.map","import { Template } from \"./util/Template\";\r\nimport * as $order from \"./util/Order\";\r\nimport * as $array from \"./util/Array\";\r\n/**\r\n * A base class for an amCharts theme.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n * @important\r\n */\r\nexport class Theme {\r\n    constructor(root, isReal) {\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rules\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._root = root;\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    static new(root) {\r\n        const x = (new this(root, true));\r\n        x.setupDefaultRules();\r\n        return x;\r\n    }\r\n    setupDefaultRules() { }\r\n    /**\r\n     * Looks up the rules for a specific theme class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @return             Array<IRule<A>>\r\n     */\r\n    _lookupRules(themeClass) {\r\n        return this._rules[themeClass];\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * NOTE: the difference from `rule()` is that `ruleRaw()` does not do any\r\n     * type checks.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    ruleRaw(themeClass, themeTags = []) {\r\n        let rules = this._rules[themeClass];\r\n        if (!rules) {\r\n            rules = this._rules[themeClass] = [];\r\n        }\r\n        themeTags.sort($order.compare);\r\n        const { index, found } = $array.getSortedIndex(rules, (x) => {\r\n            const order = $order.compare(x.tags.length, themeTags.length);\r\n            if (order === 0) {\r\n                return $order.compareArray(x.tags, themeTags, $order.compare);\r\n            }\r\n            else {\r\n                return order;\r\n            }\r\n        });\r\n        if (found) {\r\n            return rules[index].template;\r\n        }\r\n        else {\r\n            const template = Template.new({});\r\n            rules.splice(index, 0, {\r\n                tags: themeTags,\r\n                template,\r\n            });\r\n            return template;\r\n        }\r\n    }\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    rule(themeClass, themeTags = []) {\r\n        return this.ruleRaw(themeClass, themeTags);\r\n    }\r\n}\r\n//# sourceMappingURL=Theme.js.map"],"names":["EventDispatcher","a","$array.each","x","type","$array.any","amount","listener","index","once","callback","context","info","$array.findIndex","count","$type.isNumber","fn","killed","event","shouldClone","dispatch","debounceDelay","Disposer","_type","source","disposers","MultiDisposer","compare","left","right","compareArray","f","leftLength","rightLength","length","i","order","compareNumber","b","disposeSettings","settings","$object.each","_key","value","$type.isObject","TemplateState","name","template","key","fallback","$object.keys","other","seen","TemplateStates","state","entity","TemplateAdapters","callbacks","$array.removeFirst","Template","isReal","_value","events","$array.remove","Theme","root","themeClass","themeTags","rules","$order.compare","found","$array.getSortedIndex","$order.compareArray"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}