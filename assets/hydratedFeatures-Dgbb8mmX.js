import{f as Z,bN as g,bM as f,af as z,fC as R,fD as b}from"./index-Wrx4-yWN.js";import{t as v}from"./projectVectorToVector-CZJv8_M7.js";function C(t){return"declaredClass"in t}function c(t){return"declaredClass"in t}function W(t){return"declaredClass"in t}function O(t,a,n){return t?W(t)?(t.origin!==n&&(t.origin=n),t):new g({layer:a,sourceLayer:a,origin:n,visible:t.visible,symbol:f(t.symbol),attributes:f(t.attributes),geometry:N(t.geometry)}):null}function N(t){return t==null?null:C(t)?t:z(A(t))}function A(t){const{wkid:a,wkt:n,wkt2:l,latestWkid:o}=t.spatialReference,e={wkid:a,wkt:n,wkt2:l,latestWkid:o};switch(t.type){case"point":{const{x:r,y:s,z:i,m:u}=t;return{x:r,y:s,z:i,m:u,spatialReference:e}}case"polygon":{const{rings:r,hasZ:s,hasM:i}=t;return{rings:m(r),hasZ:s,hasM:i,spatialReference:e}}case"polyline":{const{paths:r,hasZ:s,hasM:i}=t;return{paths:m(r),hasZ:s,hasM:i,spatialReference:e}}case"extent":{const{xmin:r,xmax:s,ymin:i,ymax:u,zmin:y,zmax:x,mmin:d,mmax:k,hasZ:w,hasM:M}=t;return{xmin:r,xmax:s,ymin:i,ymax:u,zmin:y,zmax:x,mmin:d,mmax:k,hasZ:w,hasM:M,spatialReference:e}}case"multipoint":{const{points:r,hasZ:s,hasM:i}=t;return{points:p(r)?h(r):r,hasZ:s,hasM:i,spatialReference:e}}default:return}}function m(t){return D(t)?t.map(a=>h(a)):t}function h(t){return t.map(a=>Array.from(a))}function D(t){for(const a of t)if(a.length!==0)return p(a);return!1}function p(t){return t.length>0&&(R(t[0])||b(t[0]))}function S(t,a){if(!t)return null;let n;if(c(t)){if(a==null)return t.clone();if(c(a))return a.copy(t)}return a!=null?(n=a,n.x=t.x,n.y=t.y,n.spatialReference=t.spatialReference,t.hasZ?(n.z=t.z,n.hasZ=t.hasZ):(n.z=void 0,n.hasZ=!1),t.hasM?(n.m=t.m,n.hasM=!0):(n.m=void 0,n.hasM=!1)):(n=v(t.x,t.y,t.z,t.spatialReference),t.hasM&&(n.m=t.m,n.hasM=!0)),n}function _(t){const{wkid:a,wkt:n,wkt2:l,latestWkid:o}=t,e={wkid:a,wkt:n,wkt2:l,latestWkid:o};return Z.fromJSON(e)}export{O as c,_ as k,C as o,N as u,S as x};
//# sourceMappingURL=hydratedFeatures-Dgbb8mmX.js.map
