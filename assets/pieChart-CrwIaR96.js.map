{"version":3,"file":"pieChart-CrwIaR96.js","sources":["../../node_modules/@amcharts/amcharts5/.internal/charts/percent/PercentDefaultTheme.js","../../node_modules/@amcharts/amcharts5/.internal/charts/percent/PercentChart.js","../../node_modules/@amcharts/amcharts5/.internal/charts/percent/PercentSeries.js","../../node_modules/@amcharts/amcharts5/.internal/charts/pie/PieChart.js","../../node_modules/@amcharts/amcharts5/.internal/charts/pie/PieSeries.js"],"sourcesContent":["import { Theme } from \"../../core/Theme\";\r\nimport { percent, p50, p100 } from \"../../core/util/Percent\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\n/**\r\n * @ignore\r\n */\r\nexport class PercentDefaultTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const ic = this._root.interfaceColors;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * charts/percent\r\n         * ========================================================================\r\n         */\r\n        r(\"PercentSeries\").setAll({\r\n            legendLabelText: \"{category}\",\r\n            legendValueText: \"{valuePercentTotal.formatNumber('0.00p')}\",\r\n            colors: ColorSet.new(this._root, {}),\r\n            width: p100,\r\n            height: p100\r\n        });\r\n        /**\r\n         * ========================================================================\r\n         * charts/pie\r\n         * ========================================================================\r\n         */\r\n        r(\"PieChart\").setAll({\r\n            radius: percent(80),\r\n            startAngle: -90,\r\n            endAngle: 270\r\n        });\r\n        r(\"PieSeries\").setAll({\r\n            alignLabels: true,\r\n            startAngle: -90,\r\n            endAngle: 270\r\n        });\r\n        r(\"PieSeries\").states.create(\"hidden\", { endAngle: -90, opacity: 0 });\r\n        r(\"Slice\", [\"pie\"]).setAll({\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            x: 0,\r\n            y: 0,\r\n            toggleKey: \"active\",\r\n            tooltipText: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            role: \"figure\",\r\n            lineJoin: \"round\"\r\n        });\r\n        r(\"Slice\", [\"pie\"]).states.create(\"active\", { shiftRadius: 20, scale: 1 });\r\n        r(\"Slice\", [\"pie\"]).states.create(\"hoverActive\", { scale: 1.04 });\r\n        r(\"Slice\", [\"pie\"]).states.create(\"hover\", { scale: 1.04 });\r\n        r(\"RadialLabel\", [\"pie\"]).setAll({\r\n            textType: \"aligned\",\r\n            radius: 10,\r\n            text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            paddingTop: 5,\r\n            paddingBottom: 5,\r\n            populateText: true\r\n        });\r\n        r(\"Tick\", [\"pie\"]).setAll({\r\n            location: 1\r\n        });\r\n        /**\r\n         * ========================================================================\r\n         * charts/funnel\r\n         * ========================================================================\r\n         */\r\n        r(\"SlicedChart\").setAll({\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n            paddingTop: 10,\r\n            paddingBottom: 10\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/funnel: Funnel\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"FunnelSeries\").setAll({\r\n            startLocation: 0,\r\n            endLocation: 1,\r\n            orientation: \"vertical\",\r\n            alignLabels: true,\r\n            sequencedInterpolation: true\r\n        });\r\n        r(\"FunnelSlice\").setAll({\r\n            interactive: true,\r\n            expandDistance: 0,\r\n            //tooltipText: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\"\r\n        });\r\n        r(\"FunnelSlice\").states.create(\"hover\", { expandDistance: 0.15 });\r\n        r(\"Label\", [\"funnel\"]).setAll({\r\n            populateText: true,\r\n            text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            centerY: p50\r\n        });\r\n        r(\"Label\", [\"funnel\", \"horizontal\"]).setAll({\r\n            centerX: 0,\r\n            centerY: p50,\r\n            rotation: -90\r\n        });\r\n        // Class: Label\r\n        r(\"Label\", [\"funnel\", \"vertical\"]).setAll({\r\n            centerY: p50,\r\n            centerX: 0\r\n        });\r\n        r(\"Tick\", [\"funnel\"]).setAll({\r\n            location: 1\r\n        });\r\n        r(\"FunnelSlice\", [\"funnel\", \"link\"]).setAll({\r\n            fillOpacity: 0.5,\r\n            strokeOpacity: 0,\r\n            expandDistance: -0.1\r\n        });\r\n        r(\"FunnelSlice\", [\"funnel\", \"link\", \"vertical\"]).setAll({\r\n            height: 10,\r\n        });\r\n        r(\"FunnelSlice\", [\"funnel\", \"link\", \"horizontal\"]).setAll({\r\n            width: 10\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/funnel: Pyramid\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"PyramidSeries\").setAll({\r\n            valueIs: \"area\"\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\", \"link\"]).setAll({\r\n            fillOpacity: 0.5\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\", \"link\", \"vertical\"]).setAll({\r\n            height: 0\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\", \"link\", \"horizontal\"]).setAll({\r\n            width: 0\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\"]).setAll({\r\n            interactive: true,\r\n            expandDistance: 0\r\n        });\r\n        r(\"FunnelSlice\", [\"pyramid\"]).states.create(\"hover\", { expandDistance: 0.15 });\r\n        r(\"Label\", [\"pyramid\"]).setAll({\r\n            populateText: true,\r\n            text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            centerY: p50\r\n        });\r\n        r(\"Label\", [\"pyramid\", \"horizontal\"]).setAll({\r\n            centerX: 0,\r\n            centerY: p50,\r\n            rotation: -90\r\n        });\r\n        r(\"Label\", [\"pyramid\", \"vertical\"]).setAll({\r\n            centerY: p50,\r\n            centerX: 0\r\n        });\r\n        r(\"Tick\", [\"pyramid\"]).setAll({\r\n            location: 1\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/funnel: Pictorial\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        // Class: FunnelSlice\r\n        r(\"FunnelSlice\", [\"pictorial\"]).setAll({\r\n            interactive: true,\r\n            tooltipText: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\"\r\n        });\r\n        r(\"Label\", [\"pictorial\"]).setAll({\r\n            populateText: true,\r\n            text: \"{category}: {valuePercentTotal.formatNumber('0.00p')}\",\r\n            centerY: p50\r\n        });\r\n        r(\"Label\", [\"pictorial\", \"horizontal\"]).setAll({\r\n            centerX: 0,\r\n            centerY: p50,\r\n            rotation: -90\r\n        });\r\n        r(\"Label\", [\"pictorial\", \"vertical\"]).setAll({\r\n            centerY: p50,\r\n            centerX: 0\r\n        });\r\n        r(\"FunnelSlice\", [\"pictorial\", \"link\"]).setAll({\r\n            fillOpacity: 0.5,\r\n            width: 0,\r\n            height: 0\r\n        });\r\n        r(\"Tick\", [\"pictorial\"]).setAll({\r\n            location: 0.5\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"pictorial\", \"background\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0.2\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=PercentDefaultTheme.js.map","import { SerialChart } from \"../../core/render/SerialChart\";\r\nimport { PercentDefaultTheme } from \"./PercentDefaultTheme\";\r\n/**\r\n * Base class for [[PieChart]].\r\n *\r\n * Also used for percent-based series, like [[FunnelSeries]], [[PyramidSeries]], etc.\r\n *\r\n * @important\r\n */\r\nexport class PercentChart extends SerialChart {\r\n    _afterNew() {\r\n        this._defaultThemes.push(PercentDefaultTheme.new(this._root));\r\n        super._afterNew();\r\n        this.chartContainer.children.push(this.seriesContainer);\r\n        this.seriesContainer.children.push(this.bulletsContainer);\r\n    }\r\n    _processSeries(series) {\r\n        super._processSeries(series);\r\n        this.seriesContainer.children.moveValue(this.bulletsContainer, this.seriesContainer.children.length - 1);\r\n    }\r\n}\r\nObject.defineProperty(PercentChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PercentChart\"\r\n});\r\nObject.defineProperty(PercentChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: SerialChart.classNames.concat([PercentChart.className])\r\n});\r\n//# sourceMappingURL=PercentChart.js.map","import { __awaiter } from \"tslib\";\r\nimport { Series } from \"../../core/render/Series\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { visualSettings } from \"../../core/render/Graphics\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\n/**\r\n * A base class for any percent chart series.\r\n */\r\nexport class PercentSeries extends Series {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"slicesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { position: \"absolute\", isMeasured: false }))\r\n        });\r\n        Object.defineProperty(this, \"labelsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { position: \"absolute\", isMeasured: false }))\r\n        });\r\n        Object.defineProperty(this, \"ticksContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { position: \"absolute\", isMeasured: false }))\r\n        });\r\n        Object.defineProperty(this, \"_lLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_rLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_hLabels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slices in series.\r\n         *\r\n         * `slices.template` can also be used to configure slices.\r\n         */\r\n        Object.defineProperty(this, \"slices\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(this._makeSlices())\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slice labels in series.\r\n         *\r\n         * `labels.template` can also be used to configure slice labels.\r\n         */\r\n        Object.defineProperty(this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(this._makeLabels())\r\n        });\r\n        /**\r\n         * A [[ListTemplate]] of all slice ticks in series.\r\n         *\r\n         * `ticks.template` can also be used to configure slice ticks.\r\n         */\r\n        Object.defineProperty(this, \"ticks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(this._makeTicks())\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeSlice(dataItem) {\r\n        const slice = this.slicesContainer.children.push(this.slices.make());\r\n        slice.on(\"fill\", () => {\r\n            this.updateLegendMarker(dataItem);\r\n        });\r\n        slice.on(\"fillPattern\", () => {\r\n            this.updateLegendMarker(dataItem);\r\n        });\r\n        slice.on(\"stroke\", () => {\r\n            this.updateLegendMarker(dataItem);\r\n        });\r\n        slice._setDataItem(dataItem);\r\n        dataItem.set(\"slice\", slice);\r\n        this.slices.push(slice);\r\n        return slice;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeLabel(dataItem) {\r\n        const label = this.labelsContainer.children.push(this.labels.make());\r\n        label._setDataItem(dataItem);\r\n        dataItem.set(\"label\", label);\r\n        this.labels.push(label);\r\n        return label;\r\n    }\r\n    _shouldMakeBullet(dataItem) {\r\n        if (dataItem.get(\"value\") != null) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeTick(dataItem) {\r\n        const tick = this.ticksContainer.children.push(this.ticks.make());\r\n        tick._setDataItem(dataItem);\r\n        dataItem.set(\"tick\", tick);\r\n        this.ticks.push(tick);\r\n        return tick;\r\n    }\r\n    _afterNew() {\r\n        this.fields.push(\"category\", \"fill\");\r\n        super._afterNew();\r\n    }\r\n    _onDataClear() {\r\n        const colors = this.get(\"colors\");\r\n        if (colors) {\r\n            colors.reset();\r\n        }\r\n        const patterns = this.get(\"patterns\");\r\n        if (patterns) {\r\n            patterns.reset();\r\n        }\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        this._lLabels = [];\r\n        this._rLabels = [];\r\n        this._hLabels = [];\r\n        if (this._valuesDirty) {\r\n            let sum = 0;\r\n            let absSum = 0;\r\n            let valueHigh = 0;\r\n            let valueLow = Infinity;\r\n            let count = 0;\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                let valueWorking = dataItem.get(\"valueWorking\", 0);\r\n                sum += valueWorking;\r\n                absSum += Math.abs(valueWorking);\r\n            });\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                let value = dataItem.get(\"valueWorking\", 0);\r\n                if (value > valueHigh) {\r\n                    valueHigh = value;\r\n                }\r\n                if (value < valueLow) {\r\n                    valueLow = value;\r\n                }\r\n                count++;\r\n                let percentTotal = value / absSum;\r\n                if (absSum == 0) {\r\n                    percentTotal = 0;\r\n                }\r\n                dataItem.setRaw(\"valuePercentTotal\", percentTotal * 100);\r\n            });\r\n            this.setPrivateRaw(\"valueLow\", valueLow);\r\n            this.setPrivateRaw(\"valueHigh\", valueHigh);\r\n            this.setPrivateRaw(\"valueSum\", sum);\r\n            this.setPrivateRaw(\"valueAverage\", sum / count);\r\n            this.setPrivateRaw(\"valueAbsoluteSum\", absSum);\r\n        }\r\n    }\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    show(duration) {\r\n        const _super = Object.create(null, {\r\n            show: { get: () => super.show }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let promises = [];\r\n            promises.push(_super.show.call(this, duration));\r\n            promises.push(this._sequencedShowHide(true, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hide whole series.\r\n     *\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    hide(duration) {\r\n        const _super = Object.create(null, {\r\n            hide: { get: () => super.hide }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let promises = [];\r\n            promises.push(_super.hide.call(this, duration));\r\n            promises.push(this._sequencedShowHide(false, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        if (this._valuesDirty) {\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                dataItem.get(\"label\").text.markDirtyText();\r\n            });\r\n        }\r\n        if (this.isDirty(\"legendLabelText\") || this.isDirty(\"legendValueText\")) {\r\n            $array.each(this._dataItems, (dataItem) => {\r\n                this.updateLegendValue(dataItem);\r\n            });\r\n        }\r\n        this._arrange();\r\n    }\r\n    _arrange() {\r\n        this._arrangeDown(this._lLabels);\r\n        this._arrangeUp(this._lLabels);\r\n        this._arrangeDown(this._rLabels);\r\n        this._arrangeUp(this._rLabels);\r\n        this._arrangeLeft(this._hLabels);\r\n        this._arrangeRight(this._hLabels);\r\n        $array.each(this.dataItems, (dataItem) => {\r\n            this._updateTick(dataItem);\r\n        });\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        this._arrange();\r\n    }\r\n    processDataItem(dataItem) {\r\n        super.processDataItem(dataItem);\r\n        if (dataItem.get(\"fill\") == null) {\r\n            let colors = this.get(\"colors\");\r\n            if (colors) {\r\n                dataItem.setRaw(\"fill\", colors.next());\r\n            }\r\n        }\r\n        if (dataItem.get(\"fillPattern\") == null) {\r\n            let patterns = this.get(\"patterns\");\r\n            if (patterns) {\r\n                dataItem.setRaw(\"fillPattern\", patterns.next());\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            if (!$type.isNumber(duration)) {\r\n                duration = this.get(\"stateAnimationDuration\", 0);\r\n            }\r\n            const easing = this.get(\"stateAnimationEasing\");\r\n            let value = dataItem.get(\"value\");\r\n            const animation = dataItem.animate({ key: \"valueWorking\", to: value, duration: duration, easing: easing });\r\n            if (animation) {\r\n                promises.push(animation.waitForStop());\r\n            }\r\n            const tick = dataItem.get(\"tick\");\r\n            if (tick) {\r\n                promises.push(tick.show(duration));\r\n            }\r\n            const label = dataItem.get(\"label\");\r\n            if (label) {\r\n                promises.push(label.show(duration));\r\n            }\r\n            const slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                promises.push(slice.show(duration));\r\n            }\r\n            if (slice.get(\"active\")) {\r\n                slice.states.applyAnimate(\"active\");\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const hiddenState = this.states.create(\"hidden\", {});\r\n            if (!$type.isNumber(duration)) {\r\n                duration = hiddenState.get(\"stateAnimationDuration\", this.get(\"stateAnimationDuration\", 0));\r\n            }\r\n            const easing = hiddenState.get(\"stateAnimationEasing\", this.get(\"stateAnimationEasing\"));\r\n            const animation = dataItem.animate({ key: \"valueWorking\", to: 0, duration: duration, easing: easing });\r\n            if (animation) {\r\n                promises.push(animation.waitForStop());\r\n            }\r\n            const tick = dataItem.get(\"tick\");\r\n            if (tick) {\r\n                promises.push(tick.hide(duration));\r\n            }\r\n            const label = dataItem.get(\"label\");\r\n            if (label) {\r\n                promises.push(label.hide(duration));\r\n            }\r\n            const slice = dataItem.get(\"slice\");\r\n            slice.hideTooltip();\r\n            if (slice) {\r\n                promises.push(slice.hide(duration));\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        let label = dataItem.get(\"label\");\r\n        if (label) {\r\n            this.labels.removeValue(label);\r\n            label.dispose();\r\n        }\r\n        let tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            this.ticks.removeValue(tick);\r\n            tick.dispose();\r\n        }\r\n        let slice = dataItem.get(\"slice\");\r\n        if (slice) {\r\n            this.slices.removeValue(slice);\r\n            slice.dispose();\r\n        }\r\n    }\r\n    /**\r\n     * Triggers hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    hoverDataItem(dataItem) {\r\n        const slice = dataItem.get(\"slice\");\r\n        if (slice && !slice.isHidden()) {\r\n            slice.hover();\r\n        }\r\n    }\r\n    /**\r\n     * Triggers un-hover on a series data item.\r\n     *\r\n     * @since 5.0.7\r\n     * @param  dataItem  Target data item\r\n     */\r\n    unhoverDataItem(dataItem) {\r\n        const slice = dataItem.get(\"slice\");\r\n        if (slice) {\r\n            slice.unhover();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendMarker(dataItem) {\r\n        if (dataItem) {\r\n            const slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                const legendDataItem = dataItem.get(\"legendDataItem\");\r\n                if (legendDataItem) {\r\n                    const markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                    $array.each(visualSettings, (setting) => {\r\n                        if (slice.get(setting) != null) {\r\n                            markerRectangle.set(setting, slice.get(setting));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _arrangeDown(labels) {\r\n        if (labels) {\r\n            let next = this._getNextDown();\r\n            labels.sort((a, b) => {\r\n                if (a.y > b.y) {\r\n                    return 1;\r\n                }\r\n                else if (a.y < b.y) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            $array.each(labels, (l) => {\r\n                const bounds = l.label.adjustedLocalBounds();\r\n                let labelTop = bounds.top;\r\n                if (l.y + labelTop < next) {\r\n                    l.y = next - labelTop;\r\n                }\r\n                l.label.set(\"y\", l.y);\r\n                next = l.y + bounds.bottom;\r\n            });\r\n        }\r\n    }\r\n    _getNextUp() {\r\n        return this.labelsContainer.maxHeight();\r\n    }\r\n    _getNextDown() {\r\n        return 0;\r\n    }\r\n    _arrangeUp(labels) {\r\n        if (labels) {\r\n            let next = this._getNextUp();\r\n            labels.sort((a, b) => {\r\n                if (a.y < b.y) {\r\n                    return 1;\r\n                }\r\n                else if (a.y > b.y) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            $array.each(labels, (l) => {\r\n                const bounds = l.label.adjustedLocalBounds();\r\n                let labelBottom = bounds.bottom;\r\n                if (l.y + labelBottom > next) {\r\n                    l.y = next - labelBottom;\r\n                }\r\n                l.label.set(\"y\", l.y);\r\n                next = l.y + bounds.top;\r\n            });\r\n        }\r\n    }\r\n    _arrangeRight(labels) {\r\n        if (labels) {\r\n            let next = 0;\r\n            labels.sort((a, b) => {\r\n                if (a.y > b.y) {\r\n                    return 1;\r\n                }\r\n                else if (a.y < b.y) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            $array.each(labels, (l) => {\r\n                const bounds = l.label.adjustedLocalBounds();\r\n                let labelLeft = bounds.left;\r\n                if (l.y + labelLeft < next) {\r\n                    l.y = next - labelLeft;\r\n                }\r\n                l.label.set(\"x\", l.y);\r\n                next = l.y + bounds.right;\r\n            });\r\n        }\r\n    }\r\n    _arrangeLeft(labels) {\r\n        if (labels) {\r\n            let next = this.labelsContainer.maxWidth();\r\n            labels.sort((a, b) => {\r\n                if (a.y < b.y) {\r\n                    return 1;\r\n                }\r\n                else if (a.y > b.y) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            $array.each(labels, (l) => {\r\n                const bounds = l.label.adjustedLocalBounds();\r\n                let labelRight = bounds.right;\r\n                if (l.y + labelRight > next) {\r\n                    l.y = next - labelRight;\r\n                }\r\n                l.label.set(\"x\", l.y);\r\n                next = l.y + bounds.left;\r\n            });\r\n        }\r\n    }\r\n    _updateSize() {\r\n        super._updateSize();\r\n        this.markDirty();\r\n    }\r\n    _updateTick(_dataItem) {\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart.series.removeValue(this);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PercentSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PercentSeries\"\r\n});\r\nObject.defineProperty(PercentSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Series.classNames.concat([PercentSeries.className])\r\n});\r\n//# sourceMappingURL=PercentSeries.js.map","import { Percent } from \"../../core/util/Percent\";\r\nimport { PercentChart } from \"../percent/PercentChart\";\r\nimport { p50 } from \"../../core/util/Percent\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $math from \"../../core/util/Math\";\r\n/**\r\n * Creates a pie chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/} for more info\r\n * @important\r\n */\r\nexport class PieChart extends PercentChart {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_maxRadius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.seriesContainer.setAll({ x: p50, y: p50 });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const chartContainer = this.chartContainer;\r\n        const w = chartContainer.innerWidth();\r\n        const h = chartContainer.innerHeight();\r\n        const startAngle = this.get(\"startAngle\", 0);\r\n        const endAngle = this.get(\"endAngle\", 0);\r\n        const innerRadius = this.get(\"innerRadius\");\r\n        let bounds = $math.getArcBounds(0, 0, startAngle, endAngle, 1);\r\n        const wr = w / (bounds.right - bounds.left);\r\n        const hr = h / (bounds.bottom - bounds.top);\r\n        let innerBounds = { left: 0, right: 0, top: 0, bottom: 0 };\r\n        if (innerRadius instanceof Percent) {\r\n            let value = innerRadius.value;\r\n            let mr = Math.min(wr, hr);\r\n            value = Math.max(mr * value, mr - Math.min(h, w)) / mr;\r\n            innerBounds = $math.getArcBounds(0, 0, startAngle, endAngle, value);\r\n            this.setPrivateRaw(\"irModifyer\", value / innerRadius.value);\r\n        }\r\n        bounds = $math.mergeBounds([bounds, innerBounds]);\r\n        const prevRadius = this._maxRadius;\r\n        this._maxRadius = Math.min(wr, hr);\r\n        const radius = $utils.relativeToValue(this.get(\"radius\", 0), this._maxRadius);\r\n        this.seriesContainer.setAll({\r\n            dy: -radius * (bounds.bottom + bounds.top) / 2, dx: -radius * (bounds.right + bounds.left) / 2\r\n        });\r\n        if (this.isDirty(\"startAngle\") || this.isDirty(\"endAngle\") || prevRadius != this._maxRadius) {\r\n            this.series.each((series) => {\r\n                series._markDirtyKey(\"startAngle\");\r\n            });\r\n        }\r\n        if (this.isDirty(\"innerRadius\") || this.isDirty(\"radius\")) {\r\n            this.series.each((series) => {\r\n                series._markDirtyKey(\"innerRadius\");\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Returns outer radius in pixels.\r\n     *\r\n     * If optional series parameter is passed in, it will return outer radius\r\n     * of that particular series.\r\n     *\r\n     * @param   series  Series\r\n     * @return          Radius in pixels\r\n     */\r\n    radius(series) {\r\n        let radius = $utils.relativeToValue(this.get(\"radius\", 0), this._maxRadius);\r\n        let innerRadius = $utils.relativeToValue(this.get(\"innerRadius\", 0), radius);\r\n        if (series) {\r\n            let index = this.series.indexOf(series);\r\n            let length = this.series.length;\r\n            let seriesRadius = series.get(\"radius\");\r\n            if (seriesRadius != null) {\r\n                return innerRadius + $utils.relativeToValue(seriesRadius, radius - innerRadius);\r\n            }\r\n            else {\r\n                return innerRadius + (radius - innerRadius) / length * (index + 1);\r\n            }\r\n        }\r\n        return radius;\r\n    }\r\n    /**\r\n     * Returns inner radius in pixels.\r\n     *\r\n     * If optional series parameter is passed in, it will return inner radius\r\n     * of that particular series.\r\n     *\r\n     * @param   series  Series\r\n     * @return          Radius in pixels\r\n     */\r\n    innerRadius(series) {\r\n        const radius = this.radius();\r\n        let innerRadius = $utils.relativeToValue(this.get(\"innerRadius\", 0), radius);\r\n        if (innerRadius < 0) {\r\n            innerRadius = radius + innerRadius;\r\n        }\r\n        if (series) {\r\n            let index = this.series.indexOf(series);\r\n            let length = this.series.length;\r\n            let seriesInnerRadius = series.get(\"innerRadius\");\r\n            if (seriesInnerRadius != null) {\r\n                return innerRadius + $utils.relativeToValue(seriesInnerRadius, radius - innerRadius);\r\n            }\r\n            else {\r\n                return innerRadius + (radius - innerRadius) / length * index;\r\n            }\r\n        }\r\n        return innerRadius;\r\n    }\r\n    _updateSize() {\r\n        super._updateSize();\r\n        this.markDirtyKey(\"radius\");\r\n    }\r\n}\r\nObject.defineProperty(PieChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PieChart\"\r\n});\r\nObject.defineProperty(PieChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: PercentChart.classNames.concat([PieChart.className])\r\n});\r\n//# sourceMappingURL=PieChart.js.map","import { PercentSeries } from \"../percent/PercentSeries\";\r\nimport { Template } from \"../../core/util/Template\";\r\nimport { Slice } from \"../../core/render/Slice\";\r\nimport { Tick } from \"../../core/render/Tick\";\r\nimport { RadialLabel } from \"../../core/render/RadialLabel\";\r\nimport { ListTemplate } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Creates a series for a [[PieChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/percent-charts/pie-chart/} for more info\r\n * @important\r\n */\r\nexport class PieSeries extends PercentSeries {\r\n    _makeSlices() {\r\n        return new ListTemplate(Template.new({}), () => Slice._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.slices.template.get(\"themeTags\", []), [\"pie\", \"series\"])\r\n        }, [this.slices.template]));\r\n    }\r\n    _makeLabels() {\r\n        return new ListTemplate(Template.new({}), () => RadialLabel._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), [\"pie\", \"series\"])\r\n        }, [this.labels.template]));\r\n    }\r\n    _makeTicks() {\r\n        return new ListTemplate(Template.new({}), () => Tick._new(this._root, {\r\n            themeTags: $utils.mergeTags(this.ticks.template.get(\"themeTags\", []), [\"pie\", \"series\"])\r\n        }, [this.ticks.template]));\r\n    }\r\n    processDataItem(dataItem) {\r\n        super.processDataItem(dataItem);\r\n        const slice = this.makeSlice(dataItem);\r\n        slice.on(\"scale\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        slice.on(\"shiftRadius\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        slice.events.on(\"positionchanged\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        const label = this.makeLabel(dataItem);\r\n        label.events.on(\"positionchanged\", () => {\r\n            this._updateTick(dataItem);\r\n        });\r\n        this.makeTick(dataItem);\r\n        slice.events.on(\"positionchanged\", () => {\r\n            label.markDirty();\r\n        });\r\n    }\r\n    _getNextUp() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            return chart._maxRadius;\r\n        }\r\n        return this.labelsContainer.maxHeight() / 2;\r\n    }\r\n    _getNextDown() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            return -chart._maxRadius;\r\n        }\r\n        return -this.labelsContainer.maxHeight() / 2;\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            if (this.isDirty(\"alignLabels\")) {\r\n                let labelsTemplate = this.labels.template;\r\n                if (this.get(\"alignLabels\")) {\r\n                    labelsTemplate.set(\"textType\", \"aligned\");\r\n                }\r\n                else {\r\n                    let textType = labelsTemplate.get(\"textType\");\r\n                    if (textType == null || textType == \"aligned\") {\r\n                        labelsTemplate.set(\"textType\", \"adjusted\");\r\n                    }\r\n                }\r\n            }\r\n            if (this._valuesDirty || this.isDirty(\"radius\") || this.isDirty(\"innerRadius\") || this.isDirty(\"startAngle\") || this.isDirty(\"endAngle\") || this.isDirty(\"alignLabels\")) {\r\n                this.markDirtyBounds();\r\n                const startAngle = this.get(\"startAngle\", chart.get(\"startAngle\", -90));\r\n                const endAngle = this.get(\"endAngle\", chart.get(\"endAngle\", 270));\r\n                const arc = endAngle - startAngle;\r\n                let currentAngle = startAngle;\r\n                const radius = chart.radius(this);\r\n                this.setPrivateRaw(\"radius\", radius);\r\n                let innerRadius = chart.innerRadius(this) * chart.getPrivate(\"irModifyer\", 1);\r\n                if (innerRadius < 0) {\r\n                    innerRadius = radius + innerRadius;\r\n                }\r\n                //if (radius > 0) {\r\n                $array.each(this._dataItems, (dataItem) => {\r\n                    this.updateLegendValue(dataItem);\r\n                    let currentArc = arc * dataItem.get(\"valuePercentTotal\") / 100;\r\n                    const slice = dataItem.get(\"slice\");\r\n                    if (slice) {\r\n                        slice.set(\"radius\", radius);\r\n                        slice.set(\"innerRadius\", innerRadius);\r\n                        slice.set(\"startAngle\", currentAngle);\r\n                        slice.set(\"arc\", currentArc);\r\n                        const color = dataItem.get(\"fill\");\r\n                        slice._setDefault(\"fill\", color);\r\n                        slice._setDefault(\"stroke\", color);\r\n                        const fillPattern = dataItem.get(\"fillPattern\");\r\n                        slice._setDefault(\"fillPattern\", fillPattern);\r\n                    }\r\n                    let middleAngle = $math.normalizeAngle(currentAngle + currentArc / 2);\r\n                    const label = dataItem.get(\"label\");\r\n                    if (label) {\r\n                        label.setPrivate(\"radius\", radius);\r\n                        label.setPrivate(\"innerRadius\", innerRadius);\r\n                        label.set(\"labelAngle\", middleAngle);\r\n                        if (label.get(\"textType\") == \"aligned\") {\r\n                            let labelRadius = radius + label.get(\"radius\", 0);\r\n                            let y = radius * $math.sin(middleAngle);\r\n                            if (middleAngle > 90 && middleAngle <= 270) {\r\n                                if (!label.isHidden() && !label.isHiding()) {\r\n                                    this._lLabels.push({ label: label, y: y });\r\n                                }\r\n                                labelRadius *= -1;\r\n                                labelRadius -= this.labelsContainer.get(\"paddingLeft\", 0);\r\n                                label.set(\"centerX\", p100);\r\n                                label.setPrivateRaw(\"left\", true);\r\n                            }\r\n                            else {\r\n                                if (!label.isHidden() && !label.isHiding()) {\r\n                                    this._rLabels.push({ label: label, y: y });\r\n                                }\r\n                                labelRadius += this.labelsContainer.get(\"paddingRight\", 0);\r\n                                label.set(\"centerX\", 0);\r\n                                label.setPrivateRaw(\"left\", false);\r\n                            }\r\n                            label.set(\"x\", labelRadius);\r\n                            label.set(\"y\", radius * $math.sin(middleAngle));\r\n                        }\r\n                    }\r\n                    currentAngle += currentArc;\r\n                    this._updateTick(dataItem);\r\n                });\r\n                //}\r\n            }\r\n        }\r\n    }\r\n    _updateTick(dataItem) {\r\n        const tick = dataItem.get(\"tick\");\r\n        const label = dataItem.get(\"label\");\r\n        const slice = dataItem.get(\"slice\");\r\n        const location = tick.get(\"location\", 1);\r\n        if (tick && label && slice) {\r\n            const radius = (slice.get(\"shiftRadius\", 0) + slice.get(\"radius\", 0)) * slice.get(\"scale\", 1) * location;\r\n            const labelAngle = label.get(\"labelAngle\", 0);\r\n            const cos = $math.cos(labelAngle);\r\n            const sin = $math.sin(labelAngle);\r\n            const labelsContainer = this.labelsContainer;\r\n            const pl = labelsContainer.get(\"paddingLeft\", 0);\r\n            const pr = labelsContainer.get(\"paddingRight\", 0);\r\n            let x = 0;\r\n            let y = 0;\r\n            x = label.x();\r\n            y = label.y();\r\n            let points = [];\r\n            if (x != 0 || y != 0) {\r\n                if (label.get(\"textType\") == \"circular\") {\r\n                    const labelRadius = label.radius() - label.get(\"paddingBottom\", 0);\r\n                    const labelAngle = label.get(\"labelAngle\", 0);\r\n                    x = labelRadius * $math.cos(labelAngle);\r\n                    y = labelRadius * $math.sin(labelAngle);\r\n                }\r\n                let dx = -pr;\r\n                if (label.getPrivate(\"left\")) {\r\n                    dx = pl;\r\n                }\r\n                points = [{ x: slice.x() + radius * cos, y: slice.y() + radius * sin }, { x: x + dx, y: y }, { x: x, y: y }];\r\n            }\r\n            tick.set(\"points\", points);\r\n        }\r\n    }\r\n    _positionBullet(bullet) {\r\n        const sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            const dataItem = sprite.dataItem;\r\n            const slice = dataItem.get(\"slice\");\r\n            if (slice) {\r\n                const innerRadius = slice.get(\"innerRadius\", 0);\r\n                const radius = slice.get(\"radius\", 0);\r\n                const startAngle = slice.get(\"startAngle\", 0);\r\n                const arc = slice.get(\"arc\", 0);\r\n                const locationX = bullet.get(\"locationX\", 0.5);\r\n                const locationY = bullet.get(\"locationY\", 0.5);\r\n                const angle = startAngle + arc * locationX;\r\n                const r = innerRadius + (radius - innerRadius) * locationY;\r\n                sprite.setAll({ x: $math.cos(angle) * r, y: $math.sin(angle) * r });\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(PieSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"PieSeries\"\r\n});\r\nObject.defineProperty(PieSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: PercentSeries.classNames.concat([PieSeries.className])\r\n});\r\n//# sourceMappingURL=PieSeries.js.map"],"names":["PercentDefaultTheme","Theme","ic","r","ColorSet","p100","percent","p50","rule","setColor","PercentChart","SerialChart","series","PercentSeries","Series","Container","dataItem","slice","label","tick","colors","patterns","sum","absSum","valueHigh","valueLow","count","$array.each","valueWorking","value","percentTotal","duration","_super","__awaiter","promises","$type.isNumber","easing","animation","hiddenState","legendDataItem","markerRectangle","visualSettings","setting","labels","next","a","b","l","bounds","labelTop","labelBottom","labelLeft","labelRight","_dataItem","chart","PieChart","chartContainer","w","h","startAngle","endAngle","innerRadius","$math.getArcBounds","wr","hr","innerBounds","Percent","mr","$math.mergeBounds","prevRadius","radius","$utils.relativeToValue","index","length","seriesRadius","seriesInnerRadius","PieSeries","ListTemplate","Template","Slice","$utils.mergeTags","RadialLabel","Tick","labelsTemplate","textType","arc","currentAngle","currentArc","color","fillPattern","middleAngle","$math.normalizeAngle","labelRadius","y","$math.sin","location","labelAngle","cos","$math.cos","sin","labelsContainer","pl","pr","x","points","dx","bullet","sprite","locationX","locationY","angle"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}