import{eB as x,fG as d,fF as h,cm as y}from"./index-Wrx4-yWN.js";import{j as G}from"./Point2D-CDWHr2sJ.js";import{h as b}from"./ProjectionTransformation-BkPiU8OU.js";import{Envelope2D as v}from"./Envelope2D-GWq9cpem.js";import{J as g}from"./Bufferer-Dw9Qi4T1-Xu66b4Hl.js";import{fromGeometries as w,getSpatialReference as D,toGeometry as F}from"./jsonConverter-C92PXBwN.js";import"./Transformation2D-BfhlBiHu.js";import"./OperatorDefinitions-DP7_WWTp.js";import"./GeometryCleaner-BEJM7I4l-BRvyej0x.js";import"./OperatorSimplifyOGC-CC5ve5Pm.js";import"./OperatorGeneralize-BnA-rxUe.js";let I=class{getOperatorType(){return 10111}supportsCurves(){return!0}accelerateGeometry(e,t,s){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,s,n,m,r,o,a,i,f,l){if(i){const u=new p(e,t,s,n,m,r,o,a,l);return new b().executeMany(u,t,l,2)}return new p(e,t,s,n,m,r,o,a,l)}};class p extends d{constructor(e,t,s,n,m,r,o,a,i){super(),this.m_currentUnionEnvelope2D=new v,this.m_index=-1,this.m_dindex=-1,this.m_progressTracker=i,this.m_bufferer=new g(i),this.m_inputGeoms=e,this.m_spatialReference=t,this.m_distances=s,this.m_maxDeviation=o,this.m_maxVerticesInFullCircle=a,this.m_joins=n,this.m_caps=m,this.m_miterLimit=r}tock(){return!0}getRank(){return 1}next(){{let e;for(;e=this.m_inputGeoms.next();)return G(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.m_dindex+1<this.m_distances.length&&this.m_dindex++,this.buffer(e,this.m_distances[this.m_dindex]);return null}}getGeometryID(){return this.m_index}buffer(e,t){return this.m_bufferer.buffer(e,t,this.m_spatialReference,this.m_joins,this.m_caps,this.m_miterLimit,this.m_maxDeviation,this.m_maxVerticesInFullCircle)}}const j=new I;function C(c,e,t,s,n,m,r,o,a){const i=j.executeMany(new x(c),e,t,s,n,m,r,o,a,0,null);return Array.from(i)}const M={round:0,miter:1,bevel:2},R={round:0,butt:1,square:2};function O(c,e,t,s,n={}){let{miterLimit:m=10,maxDeviation:r=NaN,maxVerticesInFullCircle:o=96,union:a=!1,unit:i}=n;const[f,l]=w(c);if(i){const u=D(c);u&&(e=e.map(_=>h(_,i,u)),r&&(r=h(r,i,u)))}return C(f,l,e,M[t],R[s],m,r,o,a).map(u=>F(u,l)).filter(y)}export{O as executeMany};
//# sourceMappingURL=graphicBufferOperator-BdCaQfPu.js.map
