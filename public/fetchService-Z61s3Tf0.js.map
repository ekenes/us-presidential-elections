{"version":3,"file":"fetchService-Z61s3Tf0.js","sources":["../../node_modules/@arcgis/core/support/requestPresets.js","../../node_modules/@arcgis/core/layers/support/fetchService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,o){const{data:r}=await e(t,{responseType:\"json\",query:{f:\"json\",...o?.customParameters,token:o?.apiKey}});return r}export{t as fetchArcGISServiceJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getPreferredHost as e,getPreferredUrl as r}from\"./layerUtils.js\";import{fetchArcGISServiceJSON as t}from\"../../support/requestPresets.js\";const a=new Set([\"Catalog Layer\",\"Feature Layer\",\"Oriented Imagery Layer\"]);async function n(a,n){const{loadContext:s,...o}=n||{},y=s?await s.fetchServiceMetadata(a,o):await t(a,o),i=e();u(y),c(y);const l={serviceJSON:y,preferredHost:i};if((y.currentVersion??0)<10.5)return l;const f=`${r()??a}/layers`,L=s?await s.fetchServiceMetadata(f,o):await t(f,o);return u(L),c(L),l.layersJSON={layers:L.layers,tables:L.tables},l}function s(e){const{type:r}=e;return!!r&&a.has(r)}function o(e){return\"Table\"===e.type}function c(e){e.layers=e.layers?.filter(s),e.tables=e.tables?.filter(o)}function y(e){e.type||=\"Feature Layer\"}function i(e){e.type||=\"Table\"}function u(e){e.layers?.forEach(y),e.tables?.forEach(i)}function l(e){switch(e){case\"Feature Layer\":case\"Table\":return\"FeatureLayer\";case\"Oriented Imagery Layer\":return\"OrientedImageryLayer\";case\"Catalog Layer\":return\"CatalogLayer\"}return\"FeatureLayer\"}export{n as fetchFeatureService,l as getLayerModuleType};\n"],"names":["t","o","r","e","a","n","s","y","i","u","c","l","f","L","_a","_b"],"mappings":"iDAI6B,eAAeA,EAAEA,EAAEC,EAAE,CAAC,KAAK,CAAC,KAAKC,CAAC,EAAE,MAAMC,EAAEH,EAAE,CAAC,aAAa,OAAO,MAAM,CAAC,EAAE,OAAO,GAAGC,GAAA,YAAAA,EAAG,iBAAiB,MAAMA,GAAA,YAAAA,EAAG,MAAM,CAAC,CAAC,EAAE,OAAOC,CAAC,CCAjB,MAAME,EAAE,IAAI,IAAI,CAAC,gBAAgB,gBAAgB,wBAAwB,CAAC,EAAE,eAAeC,EAAED,EAAEC,EAAE,CAAC,KAAK,CAAC,YAAYC,EAAE,GAAGL,CAAC,EAAEI,GAAG,GAAGE,EAAED,EAAE,MAAMA,EAAE,qBAAqBF,EAAEH,CAAC,EAAE,MAAMD,EAAEI,EAAEH,CAAC,EAAEO,EAAEL,EAAC,EAAGM,EAAEF,CAAC,EAAEG,EAAEH,CAAC,EAAE,MAAMI,EAAE,CAAC,YAAYJ,EAAE,cAAcC,CAAC,EAAE,IAAID,EAAE,gBAAgB,GAAG,KAAK,OAAOI,EAAE,MAAMC,EAAE,GAAQR,CAAC,UAAUS,EAAEP,EAAE,MAAMA,EAAE,qBAAqBM,EAAEX,CAAC,EAAE,MAAMD,EAAEY,EAAEX,CAAC,EAAE,OAAOQ,EAAEI,CAAC,EAAEH,EAAEG,CAAC,EAAEF,EAAE,WAAW,CAAC,OAAOE,EAAE,OAAO,OAAOA,EAAE,MAAM,EAAEF,CAAC,CAAC,SAASL,EAAE,EAAE,CAAC,KAAK,CAAC,KAAKJ,CAAC,EAAE,EAAE,MAAM,CAAC,CAACA,GAAGE,EAAE,IAAIF,CAAC,CAAC,CAAC,SAASD,EAAE,EAAE,CAAC,OAAgB,EAAE,OAAZ,OAAgB,CAAC,SAASS,EAAE,EAAE,SAAC,EAAE,QAAOI,EAAA,EAAE,SAAF,YAAAA,EAAU,OAAOR,GAAG,EAAE,QAAOS,EAAA,EAAE,SAAF,YAAAA,EAAU,OAAOd,EAAE,CAAC,SAASM,EAAE,EAAE,CAAC,EAAE,OAAF,EAAE,KAAO,gBAAe,CAAC,SAASC,EAAE,EAAE,CAAC,EAAE,OAAF,EAAE,KAAO,QAAO,CAAC,SAASC,EAAE,EAAE,UAACK,EAAA,EAAE,SAAF,MAAAA,EAAU,QAAQP,IAAGQ,EAAA,EAAE,SAAF,MAAAA,EAAU,QAAQP,EAAE,CAAC,SAASG,EAAE,EAAE,CAAC,OAAO,EAAC,CAAE,IAAI,gBAAgB,IAAI,QAAQ,MAAM,eAAe,IAAI,yBAAyB,MAAM,uBAAuB,IAAI,gBAAgB,MAAM,cAAc,CAAC,MAAM,cAAc","x_google_ignoreList":[0,1]}