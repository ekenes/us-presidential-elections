{"version":3,"file":"saveUtils-CCFKOor4.js","sources":["../../node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{getLayersWithChartSupport as r}from\"../../layers/support/layerUtils.js\";async function o(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const t=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function s(r,o,s){let n=(r.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:r,message:o,details:t})=>new e(r,o,t)));if(r.blockedRelativeUrls&&(n=n.concat(r.blockedRelativeUrls.map((r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`))))),s){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:o}=s;e&&(n=n.filter((({name:e})=>!(t.has(e)||r.includes(e))))),o&&(n=n.filter((e=>\"web-document-write:property-required\"!==e.name)))}if(n.length>0)throw new e(o.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:n})}function n(e){return r(e).some((e=>!!e.charts?.length))}export{o as beforeSave,s as evaluateWriteErrors,n as hasCharts};\n"],"names":["o","e","r","t","s","n","_a"],"mappings":"gDAIkH,eAAeA,EAAEC,EAAE,CAAC,MAAMC,EAAE,CAAA,EAAG,UAAUF,KAAKC,EAAE,UAAU,GAAG,eAAeD,GAAe,OAAOA,EAAE,YAArB,WAAgC,CAAC,MAAM,EAAEA,EAAE,WAAU,EAAG,GAAGE,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,QAAQ,WAAWA,CAAC,CAAC,CAAC,MAAMC,EAAE,IAAI,IAAI,CAAC,oBAAoB,uBAAuB,qBAAqB,2BAA2B,iBAAiB,CAAC,EAAE,SAASC,EAAEF,EAAEF,EAAEI,EAAE,CAAC,IAAIC,GAAGH,EAAE,UAAU,CAAA,GAAI,QAAQ,CAAC,CAAC,KAAKD,CAAC,IAAcA,IAAV,QAAW,EAAG,KAAK,CAAC,CAAC,KAAKC,EAAE,QAAQF,EAAE,QAAQG,CAAC,IAAI,IAAIF,EAAEC,EAAEF,EAAEG,CAAC,EAAC,EAAG,GAAGD,EAAE,sBAAsBG,EAAEA,EAAE,OAAOH,EAAE,oBAAoB,KAAKA,GAAG,IAAID,EAAE,kBAAkB,iBAAiBC,CAAC,oBAAoB,EAAC,CAAE,GAAGE,EAAE,CAAC,KAAK,CAAC,kBAAkBH,EAAE,8BAA8BC,EAAE,CAAA,EAAG,+BAA+BF,CAAC,EAAEI,EAAEH,IAAII,EAAEA,EAAE,QAAQ,CAAC,CAAC,KAAKJ,CAAC,IAAI,EAAEE,EAAE,IAAIF,CAAC,GAAGC,EAAE,SAASD,CAAC,GAAE,GAAID,IAAIK,EAAEA,EAAE,QAAQJ,GAA4CA,EAAE,OAA3C,uCAA+C,EAAG,CAAC,GAAGI,EAAE,OAAO,EAAE,MAAM,IAAIJ,EAAED,EAAE,UAAU,2GAA2G,CAAC,OAAOK,CAAC,CAAC,CAAC,CAAC,SAASA,EAAEJ,EAAE,CAAC,OAAOC,EAAED,CAAC,EAAE,MAAMA,GAAC,OAAE,OAAC,GAACK,EAAAL,EAAE,SAAF,MAAAK,EAAU,SAAM,CAAE","x_google_ignoreList":[0]}