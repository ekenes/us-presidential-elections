{"version":3,"mappings":"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","names":["c","o","s","r","t","i","e","m","l","a","u","d","n","f","g","h","_b","_a","p","y","v","_c","_d","_e","has","P","x","C","_f","_h","_g","w","U","j","I","F","G","D","H","_","z","S","L","b","__vitePreload","M","E","A","T","O","R"],"ignoreList":[0,1,2],"sources":["../../node_modules/@arcgis/core/core/mapCollectionUtils.js","../../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingSourceInfo.js","../../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createTask as e}from\"./asyncUtils.js\";import t from\"./Collection.js\";import{destroyHandle as o,removeIfHandle as s}from\"./handleUtils.js\";import{ignoreAbortErrors as r,isAborted as n,createAbortError as i}from\"./promiseUtils.js\";import{on as a}from\"./reactiveUtils.js\";function c(e,o,s){const r=s?.createCollection?.()??new t,n=!!s?.recycleItems?new d:null,i=(e,t=0)=>{if(!e?.length)return;const o=r.splice(t,e.length);n?n.processRemoved(e):o.forEach(m)},c=(e,t=0)=>{if(!e?.length)return;const s=[];for(const r of e){const e=n?.use(r);if(e)s.push(e);else{const e=o(r);n?.register(r,e),s.push(e)}}r.addMany(s,t)},l=a(e,\"after-splice\",(({added:e,start:t,removed:o})=>{i(o,t),c(e,t)}),{sync:!0,onListenerRemove:e=>i(e.items),onListenerAdd:e=>c(e.items)});return r.addHandles(l),r}class d{constructor(){this._originalToMapped=new Map,this._removedItemCandidates=new Set,this._garbageCollectionQueued=!1}processRemoved(e){if(!e?.length)return;const{_removedItemCandidates:t}=this;for(const o of e)this._getItem(o)?.markRemoved()&&(t.add(o),this._queueGarbageCollection())}use(e){const t=this._getItem(e);return t&&(t.removed=!1),t?.item}register(e,t){this._originalToMapped.set(e,new l(t))}_getItem(e){return this._originalToMapped.get(e)}_queueGarbageCollection(){this._garbageCollectionQueued||(this._garbageCollectionQueued=!0,queueMicrotask((()=>this._garbageCollectCandidates())))}_garbageCollectCandidates(){this._garbageCollectionQueued=!1;const{_removedItemCandidates:e}=this,t=Array.from(e);e.clear(),t.forEach((e=>this._garbageCollectIfRemoved(e)))}_garbageCollectIfRemoved(e){const{_originalToMapped:t}=this,o=this._getItem(e);o?.removed&&(m(o.item),t.delete(e))}}class l{constructor(e){this.item=e,this.removed=!1}markRemoved(){return this.removed=!0,!0}}function m(e){\"object\"==typeof e&&e&&(\"destroy\"in e&&\"function\"==typeof e.destroy?e.destroy():s(e))}function u(s,a,d){const l=new t,u=c(s,(t=>e((async e=>{const o=await a(t,e);if(n(e))throw m(o),i();return o}))),d),f=()=>null,g=async e=>{const t=await e.promise,o=u.indexOf(e);o<0||l.splice(o,1,t)};l.addMany(u.items.map(f));for(const e of u)r(g(e));const h=u.on(\"after-splice\",(({added:e,start:t,deleteCount:o})=>{const s=l.splice(t,o);for(const r of s)m(r);if(e?.length){l.addMany(e.map(f),t);for(const t of e)r(g(t))}}));return l.addHandles([o(u),h]),l}export{c as mapCollection,u as mapCollectionAsync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import has from\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{watch as i,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{sqlAnd as s}from\"../../../core/sql.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as u}from\"../../../layers/support/floorFilterUtils.js\";import{isSubtypeGroupLayer as p,isFeatureLayer as d}from\"../../../layers/support/layerUtils.js\";import{isUtilityNetworkWebMap as c}from\"./snappingUtils.js\";import{scaleBoundsPredicate as y}from\"../../support/layerViewUtils.js\";let f=class extends t{set attributeRulesEnabled(e){this._set(\"attributeRulesEnabled\",e),e&&this.loadRules()}get layerView(){return this.view?.allLayerViews?.find((e=>e.layer===this.layer))}get valid(){const{_valid:e,snappingSource:t,layer:r}=this;return!(!t||!r)&&e}get subtypeFilter(){const{layer:e,snappingSource:t}=this;if(!p(e)||!e.subtypes?.length||!t)return{mode:\"not-in-use\",filter:null};const r=t.layerSource.sublayerSources.filter((e=>e.enabled&&e.layer.visible&&y(this.view?.scale,e.layer.effectiveScaleRange.minScale,e.layer.effectiveScaleRange.maxScale))).map((e=>e.layer.subtypeCode));if(!r.length)return{mode:\"none-visible\",filter:null};if(r.length===e.subtypes.length)return{mode:\"all-visible\",filter:null};const i=e.fieldsIndex.get(e.subtypeField)?.name??e.subtypeField;return 1===r.length?{mode:\"in-use\",filter:`${i} = ${r.getItemAt(0)}`}:{mode:\"in-use\",filter:`${i} IN (${r.join(\", \")})`}}get floorFilter(){const{view:e,layer:t}=this;return e&&t?u({view:e,layer:t}):null}constructor(e){super(e),this.layer=null,this.snappingSource=null,this.rulesTable=null,this._valid=null}initialize(){if(!this.snappingSource||!this.layer)return void(this._valid=!1);const{layer:e,snappingSource:t}=this;if(\"refresh\"in e){const r=e;this.addHandles(r.on(\"refresh\",(()=>t.refresh())))}this.loadRules(),this.addHandles([i((()=>t.updating),(e=>t.layerSource.updating=e),l),i((()=>t.availability),(e=>t.layerSource.availability=e),l)])}getFetchCandidatesParameters(e,t,r){if(!this.valid)return[];const{layer:i,layerView:l,floorFilter:o,rulesTable:a,subtypeFilter:u}=this,y={distance:r,mode:this.view?.type??\"2d\",point:e,coordinateHelper:t.coordinateHelper,...h(),filter:l&&\"filter\"in l?l.filter:null};if(o&&(y.filter=m(y.filter,o)),\"not-in-use\"!==u.mode&&\"all-visible\"!==u.mode){if(\"none-visible\"===u.mode)return[];y.filter?y.filter.where=s(y.filter.where,u.mode):y.filter=new n({where:u.filter})}if(!this.attributeRulesEnabled)return[y];const f=t.feature,v=\"subtype-sublayer\"===f?.sourceLayer?.type?f.sourceLayer.parent:f?.sourceLayer;if(a&&f&&c(this.view?.map)&&(d(i)||p(i))&&(d(v)||p(v))&&this.view.map.utilityNetworks?.find((e=>e.isUtilityLayer(v)))){if(\"loaded\"!==a.loadStatus)return[];const e=[],t=i.layerId,r=a.getFeatureSQL(v,f)?.[t];if(!r)return[];const l=r.anyVertex;let s=r.endVertex;return s&&l&&s===l&&(s=\"\"),s&&e.push({...y,returnEdge:!1,vertexMode:\"ends\",filter:m(y.filter,s)}),l&&e.push({...y,returnEdge:has(\"snapping-include-edges-when-applying-any-vertex-rule\")??!1,vertexMode:\"all\",filter:m(y.filter,l)}),e}return[y]}async loadRules(){this._valid=null;const{layer:e,view:t,attributeRulesEnabled:i}=this;if(i&&e&&t&&c(t?.map)&&(d(e)||p(e)))try{await Promise.allSettled(t.map.utilityNetworks?.map((e=>e.load()))??[]);const r=t.map.utilityNetworks?.find((t=>t.isUtilityLayer(e)));r&&(this.rulesTable=await r.getRulesTable(),await(this.rulesTable?.load()))}catch(l){return this._valid=!1,void r.getLogger(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\").error(\"Failed to load rules table for snapping source\",e.title)}this._valid=!0}remove(){this.destroy()}destroy(){this.snappingSource?.destroy()}};function h(){return{returnEdge:!0,vertexMode:\"all\"}}function m(e,t){return null==e?new n({where:t}):e.where?new n({where:s(e.where,t)}):new n({where:t})}e([o({constructOnly:!0})],f.prototype,\"layer\",void 0),e([o({constructOnly:!0})],f.prototype,\"snappingSource\",void 0),e([o({constructOnly:!0})],f.prototype,\"view\",void 0),e([o({value:!1})],f.prototype,\"attributeRulesEnabled\",null),e([o()],f.prototype,\"layerView\",null),e([o()],f.prototype,\"rulesTable\",void 0),e([o()],f.prototype,\"valid\",null),e([o()],f.prototype,\"subtypeFilter\",null),e([o()],f.prototype,\"floorFilter\",null),e([o()],f.prototype,\"_valid\",void 0),f=e([a(\"esri.views.interactive.snapping.FeatureSnappingSourceInfo\")],f);export{f as FeatureSnappingSourceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{isSome as r}from\"../../../core/arrayUtils.js\";import{destroyHandle as a}from\"../../../core/handleUtils.js\";import\"../../../core/has.js\";import{mapCollectionAsync as n}from\"../../../core/mapCollectionUtils.js\";import{allSettledValues as s,throwIfAborted as o}from\"../../../core/promiseUtils.js\";import{watch as i,sync as c}from\"../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as u,getMetersPerVerticalUnitForSR as l}from\"../../../core/unitUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{squaredDistance as m}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{c as g,s as h}from\"../../../chunks/vec32.js\";import{create as S}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getEpsilon as f}from\"../../../core/libs/gl-matrix-2/math/common.js\";import{UpdatingHandles as y}from\"../../../core/support/UpdatingHandles.js\";import{absoluteHeightElevationInfo as _}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as v}from\"../sketch/constraints.js\";import{fromAnyMapPoint as w,asVec2 as j,markAsTarget as F}from\"../sketch/normalizedPoint.js\";import{FeatureSnappingSourceInfo as b}from\"./FeatureSnappingSourceInfo.js\";import{SnappingDomain as x}from\"./SnappingDomain.js\";import{sortCandidatesInPlace as C,screenDistance as R}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as E}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as M}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as L}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as I,OtherVertexType as G}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as H}from\"../support/viewUtils.js\";let P=class extends t{get updating(){return this._snappingSources.some((e=>null==e?.valid||!0===e.valid&&!0===e.snappingSource?.updating))||this._updatingHandles.updating}constructor(e){super(e),this.options=null,this._domain=x.FEATURE,this._updatingHandles=new y,this._sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null},notes:{module:null,loader:null},scene:{module:null,loader:null}}}initialize(){const e=n((()=>this.options?._effectiveFeatureSources),((e,t)=>this._createSourceInfo(e,t)));this._snappingSources=e,this.addHandles([a(e),i((()=>({rulesEnabled:!!this.options?.attributeRulesEnabled,sources:this._snappingSources.filter(r)})),(({rulesEnabled:e,sources:t})=>{for(const r of t)r.attributeRulesEnabled=e}),c)])}destroy(){this._set(\"options\",null),this._updatingHandles.destroy()}async fetchCandidates(e,t,r,a){if(!(t&this._domain&&null!=this.options&&this.options.effectiveFeatureEnabled))return[];const n=[],i=this._computeScreenSizeDistanceParameters(e,r);for(const s of this._snappingSources){if(!s?.valid||!s.snappingSource?.layerSource?.enabled||s.layerView?.suspended)continue;const t=s.getFetchCandidatesParameters(e,r,i);for(const e of t)n.push(s.snappingSource.fetchCandidates(e,a).then((e=>e.filter((e=>!this._candidateIsExcluded(s.snappingSource,e,r.excludeFeature))))))}const c=(await s(n)).flat();return this._addRightAngleCandidates(c,e,i,r),o(a),C(e,c),c}_addRightAngleCandidates(e,t,r,a){const n=null!=a.vertexHandle?a.vertexHandle.rightEdge?.rightVertex?.pos:null!=a.editGeometryOperations&&\"polygon\"===a.editGeometryOperations.data.type?a.editGeometryOperations.data.components[0]?.getFirstVertex()?.pos:null,s=null!=a.vertexHandle?a.vertexHandle.leftEdge?.leftVertex?.pos:null!=a.editGeometryOperations?a.editGeometryOperations.data.components[0]?.getLastVertex()?.pos:null,{view:o}=this,i=w(n,o,a),c=w(s,o,a),u=e.length;for(let l=0;l<u;l++)this._addRightAngleCandidate(e[l],c,t,r,e),this._addRightAngleCandidate(e[l],i,t,r,e)}_addRightAngleCandidate(e,t,r,a,n){if(null==t||!U(e))return;const s=e.constraint.closestTo(t),o=(s[0]-r[0])/a.x,i=(s[1]-r[1])/a.y,{start:c,end:u}=e.constraint;if(o*o+i*i<=1){const r=m(j(s),j(c))>m(j(s),j(u))?c:u,a=new I({targetPoint:F(s),otherVertex:t,otherVertexType:G.NEXT,previousVertex:r,constraint:new v(t,s),objectId:e.objectId,isDraped:e.isDraped,domain:x.FEATURE});n.push(a)}}_computeScreenSizeDistanceParameters(e,t){let r=null!=this.options?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;return null==this.view?{x:r,y:r,z:r,distance:r}:\"2d\"===this.view.type?(r*=this.view.resolution,{x:r,y:r,z:r,distance:r}):this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,a){const{spatialReference:n}=a;r.renderCoordsHelper.toRenderCoords(e,n,D);const s=r.state.camera.computeScreenPixelSizeAt(D),o=s*r.renderCoordsHelper.unitInMeters,i=o/u(n),c=o/l(n),p=t*i,d=t*c,m=H(e,n,_,r),g=m?z(m,e,i,0,0,r,a):0,h=m?z(m,e,0,i,0,r,a):0,S=m?z(m,e,0,0,c,r,a):0;return{x:0===g?0:p/g,y:0===h?0:p/h,z:0===S?0:d/S,distance:s*t}}_candidateIsExcluded(e,t,r){if(null==r)return!1;const a=this._getCandidateObjectId(t);if(null==a)return!1;const n=e.layerSource.layer;return\"graphics\"===n.type?r.uid===a:r.sourceLayer===n&&(!(!r.attributes||!(\"objectIdField\"in n))&&r.attributes[n.objectIdField]===a)}_getCandidateObjectId(e){return e instanceof L?e.objectId:null}async _createSourceInfo(e,t){const r=e.layer;r.loaded||(await r.load(),o(t));const{view:a}=this,n=await this._createFeatureSnappingSourceType(e);return o(t),new b(null==n?{}:{snappingSource:n,view:a,layer:r})}async _createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e);case\"map-notes\":return this._createFeatureSnappingSourceMapNotesLayer(e);case\"scene\":case\"building-scene\":return this._createFeatureSnappingSourceSceneLayer(e)}return null}async _createFeatureSnappingSourceSceneLayer(e){const{view:t}=this;if(null==t||\"3d\"!==t.type)return null;return new((await this._getSourceModule(\"scene\")).SceneLayerSnappingSource)({layerSource:e,view:t})}async _createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source?.type){case\"feature-layer\":case\"oriented-imagery\":return new((await this._getSourceModule(\"featureService\")).FeatureServiceSnappingSource)({spatialReference:this.spatialReference,view:this.view,layerSource:e});case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":if(\"mesh\"===e.layer.geometryType)return null;return new((await this._getSourceModule(\"featureCollection\")).FeatureCollectionSnappingSource)({layerSource:e,view:this.view})}return null}async _createFeatureSnappingSourceGraphicsLayer(e){return new((await this._getSourceModule(\"graphics\")).GraphicsSnappingSource)({getGraphicsLayers:()=>[e.layer],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _createFeatureSnappingSourceMapNotesLayer(e){return new((await this._getSourceModule(\"notes\")).GraphicsSnappingSource)({getGraphicsLayers:()=>e.layer.sublayers?.toArray()??[],spatialReference:this.spatialReference,view:this.view,layerSource:e})}async _getSourceModule(e){const t=this._sourceModules[e];if(null==t.loader){const t=this._loadSourceModule(e),r={module:null,loader:t};this._sourceModules[e]=r;const a=await t,n={module:a,loader:t};return this._sourceModules[e]=n,a}return null==t.module?t.loader:t.module}_loadSourceModule(e){const t=this._updatingHandles;switch(e){case\"featureService\":return t.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return t.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":case\"notes\":return t.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"));case\"scene\":return t.addPromise(import(\"./featureSources/SceneLayerSnappingSource.js\"))}}get test(){}};function U(e){return(e instanceof M||e instanceof E)&&!A(e)}function A({constraint:{start:e,end:t}}){const r=h(e,t),a=m(j(e),j(t));return r<f()||a/r<T}function z(e,t,r,a,n,s,{spatialReference:o}){const i=g(O,t);i[0]+=r,i[1]+=a,i[2]+=n;const c=H(i,o,_,s);return c?R(c,e):1/0}e([p({constructOnly:!0})],P.prototype,\"spatialReference\",void 0),e([p({constructOnly:!0})],P.prototype,\"view\",void 0),e([p()],P.prototype,\"options\",void 0),e([p({readOnly:!0})],P.prototype,\"updating\",null),e([p()],P.prototype,\"_snappingSources\",void 0),P=e([d(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],P);const D=S(),O=S(),T=1e-4;export{P as FeatureSnappingEngine};\n"],"file":"public/FeatureSnappingEngine-DNtME1_f.js"}